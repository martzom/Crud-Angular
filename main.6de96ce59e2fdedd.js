"use strict";(self.webpackChunkempleados=self.webpackChunkempleados||[]).push([[179],{2011:(ct,Se,k)=>{k.d(Se,{Dh:()=>fe,GT:()=>he,cc:()=>xe,hO:()=>Ve,on:()=>B,pX:()=>ie,xv:()=>ge});var h=k(4650),te=k(127),O=k(5813);ct=k.hmd(ct);const ae=["ngOnDestroy"],ie=(pe,Ze,it,Me={})=>new Proxy(pe,{get:(we,De)=>it.runOutsideAngular(()=>{var Be;if(pe[De])return!(null===(Be=Me?.spy)||void 0===Be)&&Be.get&&Me.spy.get(De,pe[De]),pe[De];if(ae.indexOf(De)>-1)return()=>{};const je=Ze.toPromise().then(U=>{const me=U&&U[De];return"function"==typeof me?me.bind(U):me&&me.then?me.then(Y=>it.run(()=>Y)):it.run(()=>me)});return new Proxy(()=>{},{get:(U,me)=>je[me],apply:(U,me,Y)=>je.then(ee=>{var se;const ne=ee&&ee(...Y);return!(null===(se=Me?.spy)||void 0===se)&&se.apply&&Me.spy.apply(De,Y,ne),ne})})})}),he=(pe,Ze)=>{Ze.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(Me=>{Object.defineProperty(pe.prototype,Me,Object.getOwnPropertyDescriptor(it.prototype||it,Me))})})};class le{constructor(Ze){return Ze}}const fe=new h.OlP("angularfire2.app.options"),ge=new h.OlP("angularfire2.app.name");function B(pe,Ze,it){const we="object"==typeof it&&it||{};we.name=we.name||"string"==typeof it&&it||"[DEFAULT]";const Be=te.Z.apps.filter(je=>je&&je.name===we.name)[0]||Ze.runOutsideAngular(()=>te.Z.initializeApp(pe,we));try{JSON.stringify(pe)!==JSON.stringify(Be.options)&&$("error",`${Be.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Be)}const $=(pe,...Ze)=>{(0,h.X6Q)()&&typeof console<"u"&&console[pe](...Ze)},Q={provide:le,useFactory:B,deps:[fe,h.R0b,[new h.FiY,ge]]};let Ve=(()=>{class pe{constructor(it){te.Z.registerVersion("angularfire",O.q4.full,"core"),te.Z.registerVersion("angularfire",O.q4.full,"app-compat"),te.Z.registerVersion("angular",h.q4F.full,it.toString())}static initializeApp(it,Me){return{ngModule:pe,providers:[{provide:fe,useValue:it},{provide:ge,useValue:Me}]}}}return pe.\u0275fac=function(it){return new(it||pe)(h.LFG(h.Lbi))},pe.\u0275mod=h.oAB({type:pe}),pe.\u0275inj=h.cJS({providers:[Q]}),pe})();function xe(pe,Ze,it,Me,we){const[,De,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===pe)||[];if(De)return function Ee(pe,Ze){try{return pe.toString()===Ze.toString()}catch{return pe===Ze}}(we,Be)||(ye("error",`${Ze} was already initialized on the ${it} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:we,was:Be})),De;{const je=Me();return globalThis.\u0275AngularfireInstanceCache.push([pe,je,we]),je}}const Qe=!!ct.hot,ye=(pe,...Ze)=>{(0,h.X6Q)()&&typeof console<"u"&&console[pe](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ct,Se,k)=>{k.d(Se,{q4:()=>at,iC:()=>us,HU:()=>Ko,vb:()=>Fs,JM:()=>Ua});var h=k(4650),te=k(5867),O=k(5861),ae=k(9681),ie=k(2090),he=k(4859),le=k(1877),fe=k(8766);const ge="@firebase/installations",B="0.5.12",Q=`w:${B}`,Ve="FIS_v2",Ze=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function it(D){return D instanceof ie.ZR&&D.code.includes("request-failed")}function Me({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function we(D){return{token:D.token,requestStatus:2,expiresIn:ee(D.expiresIn),creationTime:Date.now()}}function De(D,C){return Be.apply(this,arguments)}function Be(){return(Be=(0,O.Z)(function*(D,C){const F=(yield C.json()).error;return Ze.create("request-failed",{requestName:D,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function U(D,{refreshToken:C}){const x=je(D);return x.append("Authorization",function se(D){return`${Ve} ${D}`}(C)),x}function me(D){return Y.apply(this,arguments)}function Y(){return(Y=(0,O.Z)(function*(D){const C=yield D();return C.status>=500&&C.status<600?D():C})).apply(this,arguments)}function ee(D){return Number(D.replace("s","000"))}function ne(D,C){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,O.Z)(function*({appConfig:D,heartbeatServiceProvider:C},{fid:x}){const F=Me(D),J=je(D),re=C.getImmediate({optional:!0});if(re){const vt=yield re.getHeartbeatsHeader();vt&&J.append("x-firebase-client",vt)}const Re={method:"POST",headers:J,body:JSON.stringify({fid:x,authVersion:Ve,appId:D.appId,sdkVersion:Q})},et=yield me(()=>fetch(F,Re));if(et.ok){const vt=yield et.json();return{fid:vt.fid||x,registrationStatus:2,refreshToken:vt.refreshToken,authToken:we(vt.authToken)}}throw yield De("Create Installation",et)})).apply(this,arguments)}function Oe(D){return new Promise(C=>{setTimeout(C,D)})}const zt=/^[cdef][\w-]{21}$/;function ze(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function sn(D){return function pt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return zt.test(x)?x:""}catch{return""}}function Rn(D){return`${D.appName}!${D.appId}`}const Wt=new Map;function Kt(D,C){const x=Rn(D);rn(x,C),function pa(D,C){const x=function wr(){return!Hr&&"BroadcastChannel"in self&&(Hr=new BroadcastChannel("[Firebase] FID Change"),Hr.onmessage=D=>{rn(D.data.key,D.data.fid)}),Hr}();x&&x.postMessage({key:D,fid:C}),function Gr(){0===Wt.size&&Hr&&(Hr.close(),Hr=null)}()}(x,C)}function rn(D,C){const x=Wt.get(D);if(x)for(const F of x)F(C)}let Hr=null;const zr="firebase-installations-store";let gi=null;function Mo(){return gi||(gi=(0,fe.X3)("firebase-installations-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(zr)}})),gi}function Ke(D,C){return qr.apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(D,C){const x=Rn(D),J=(yield Mo()).transaction(zr,"readwrite"),re=J.objectStore(zr),be=yield re.get(x);return yield re.put(C,x),yield J.done,(!be||be.fid!==C.fid)&&Kt(D,C.fid),C})).apply(this,arguments)}function Yi(D){return On.apply(this,arguments)}function On(){return(On=(0,O.Z)(function*(D){const C=Rn(D),F=(yield Mo()).transaction(zr,"readwrite");yield F.objectStore(zr).delete(C),yield F.done})).apply(this,arguments)}function mi(D,C){return ei.apply(this,arguments)}function ei(){return(ei=(0,O.Z)(function*(D,C){const x=Rn(D),J=(yield Mo()).transaction(zr,"readwrite"),re=J.objectStore(zr),be=yield re.get(x),Re=C(be);return void 0===Re?yield re.delete(x):yield re.put(Re,x),yield J.done,Re&&(!be||be.fid!==Re.fid)&&Kt(D,Re.fid),Re})).apply(this,arguments)}function Pn(D){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(D){let C;const x=yield mi(D.appConfig,F=>{const J=fn(F),re=gt(D,J);return C=re.registrationPromise,re.installationEntry});return""===x.fid?{installationEntry:yield C}:{installationEntry:x,registrationPromise:C}})).apply(this,arguments)}function fn(D){return Ct(D||{fid:ze(),registrationStatus:0})}function gt(D,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Ze.create("app-offline"))};const x={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function lt(D,C){return on.apply(this,arguments)}(D,x);return{installationEntry:x,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:ir(D)}:{installationEntry:C}}function on(){return(on=(0,O.Z)(function*(D,C){try{const x=yield ne(D,C);return Ke(D.appConfig,x)}catch(x){throw it(x)&&409===x.customData.serverCode?yield Yi(D.appConfig):yield Ke(D.appConfig,{fid:C.fid,registrationStatus:0}),x}})).apply(this,arguments)}function ir(D){return sr.apply(this,arguments)}function sr(){return(sr=(0,O.Z)(function*(D){let C=yield Ar(D.appConfig);for(;1===C.registrationStatus;)yield Oe(100),C=yield Ar(D.appConfig);if(0===C.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Pn(D);return F||x}return C})).apply(this,arguments)}function Ar(D){return mi(D,C=>{if(!C)throw Ze.create("installation-not-found");return Ct(C)})}function Ct(D){return function Qi(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Zt(D,C){return yi.apply(this,arguments)}function yi(){return(yi=(0,O.Z)(function*({appConfig:D,heartbeatServiceProvider:C},x){const F=qt(D,x),J=U(D,x),re=C.getImmediate({optional:!0});if(re){const vt=yield re.getHeartbeatsHeader();vt&&J.append("x-firebase-client",vt)}const Re={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Q,appId:D.appId}})},et=yield me(()=>fetch(F,Re));if(et.ok)return we(yield et.json());throw yield De("Generate Auth Token",et)})).apply(this,arguments)}function qt(D,{fid:C}){return`${Me(D)}/${C}/authTokens:generate`}function W(D){return j.apply(this,arguments)}function j(){return(j=(0,O.Z)(function*(D,C=!1){let x;const F=yield mi(D.appConfig,re=>{if(!st(re))throw Ze.create("not-registered");const be=re.authToken;if(!C&&dn(be))return re;if(1===be.requestStatus)return x=V(D,C),re;{if(!navigator.onLine)throw Ze.create("app-offline");const Re=Zn(re);return x=Ce(D,Re),Re}});return x?yield x:F.authToken})).apply(this,arguments)}function V(D,C){return H.apply(this,arguments)}function H(){return(H=(0,O.Z)(function*(D,C){let x=yield q(D.appConfig);for(;1===x.authToken.requestStatus;)yield Oe(100),x=yield q(D.appConfig);const F=x.authToken;return 0===F.requestStatus?W(D,C):F})).apply(this,arguments)}function q(D){return mi(D,C=>{if(!st(C))throw Ze.create("not-registered");return function Ut(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Ce(D,C){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,O.Z)(function*(D,C){try{const x=yield Zt(D,C),F=Object.assign(Object.assign({},C),{authToken:x});return yield Ke(D.appConfig,F),x}catch(x){if(!it(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Ke(D.appConfig,F)}else yield Yi(D.appConfig);throw x}})).apply(this,arguments)}function st(D){return void 0!==D&&2===D.registrationStatus}function dn(D){return 2===D.requestStatus&&!function Yt(D){const C=Date.now();return C<D.creationTime||D.creationTime+D.expiresIn<C+36e5}(D)}function Zn(D){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:C})}function _n(){return(_n=(0,O.Z)(function*(D){const C=D,{installationEntry:x,registrationPromise:F}=yield Pn(C);return F?F.catch(console.error):W(C).catch(console.error),x.fid})).apply(this,arguments)}function xi(){return(xi=(0,O.Z)(function*(D,C=!1){const x=D;return yield Mr(x),(yield W(x,C)).token})).apply(this,arguments)}function Mr(D){return Un.apply(this,arguments)}function Un(){return(Un=(0,O.Z)(function*(D){const{registrationPromise:C}=yield Pn(D);C&&(yield C)})).apply(this,arguments)}function Es(D){return Ze.create("missing-app-config-values",{valueName:D})}const xo="installations",vn=D=>{const C=D.getProvider("app").getImmediate(),x=function pn(D){if(!D||!D.options)throw Es("App Configuration");if(!D.name)throw Es("App Name");const C=["projectId","apiKey","appId"];for(const x of C)if(!D.options[x])throw Es(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(C);return{app:C,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Qs=D=>{const C=D.getProvider("app").getImmediate(),x=(0,ae._getProvider)(C,xo).getImmediate();return{getId:()=>function Pt(D){return _n.apply(this,arguments)}(x),getToken:J=>function Vn(D){return xi.apply(this,arguments)}(x,J)}};(function El(){(0,ae._registerComponent)(new he.wA(xo,vn,"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",Qs,"PRIVATE"))})(),(0,ae.registerVersion)(ge,B),(0,ae.registerVersion)(ge,B,"esm2017");const Ni="@firebase/remote-config",jn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zh{constructor(C,x,F,J){this.client=C,this.storage=x,this.storageCache=F,this.logger=J}isCachedDataFresh(C,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,J=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${J}.`),J}fetch(C){var x=this;return(0,O.Z)(function*(){const[F,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(C.cacheMaxAgeMillis,F))return J;C.eTag=J&&J.eTag;const re=yield x.client.fetch(C),be=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&be.push(x.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(be),re})()}}function Tl(D=navigator){return D.languages&&D.languages[0]||D.language}class Sl{constructor(C,x,F,J,re,be){this.firebaseInstallations=C,this.sdkVersion=x,this.namespace=F,this.projectId=J,this.apiKey=re,this.appId=be}fetch(C){var x=this;return(0,O.Z)(function*(){var F,J,re;const[be,Re]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,At={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},ht={sdk_version:x.sdkVersion,app_instance_id:be,app_instance_id_token:Re,app_id:x.appId,language_code:Tl()},En={method:"POST",headers:At,body:JSON.stringify(ht)},gr=fetch(vt,En),Zo=new Promise((Yo,ho)=>{C.signal.addEventListener(()=>{const Ci=new Error("The operation was aborted.");Ci.name="AbortError",ho(Ci)})});let Us;try{yield Promise.race([gr,Zo]),Us=yield gr}catch(Yo){let ho="fetch-client-network";throw"AbortError"===(null===(F=Yo)||void 0===F?void 0:F.name)&&(ho="fetch-timeout"),jn.create(ho,{originalErrorMessage:null===(J=Yo)||void 0===J?void 0:J.message})}let Mt=Us.status;const Fi=Us.headers.get("ETag")||void 0;let Bs,si;if(200===Us.status){let Yo;try{Yo=yield Us.json()}catch(ho){throw jn.create("fetch-client-parse",{originalErrorMessage:null===(re=ho)||void 0===re?void 0:re.message})}Bs=Yo.entries,si=Yo.state}if("INSTANCE_STATE_UNSPECIFIED"===si?Mt=500:"NO_CHANGE"===si?Mt=304:("NO_TEMPLATE"===si||"EMPTY_CONFIG"===si)&&(Bs={}),304!==Mt&&200!==Mt)throw jn.create("fetch-status",{httpStatus:Mt});return{status:Mt,eTag:Fi,config:Bs}})()}}class tg{constructor(C,x){this.client=C,this.storage=x}fetch(C){var x=this;return(0,O.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:x,backoffCount:F}){var J=this;return(0,O.Z)(function*(){yield function Qn(D,C){return new Promise((x,F)=>{const J=Math.max(C-Date.now(),0),re=setTimeout(x,J);D.addEventListener(()=>{clearTimeout(re),F(jn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,x);try{const re=yield J.client.fetch(C);return yield J.storage.deleteThrottleMetadata(),re}catch(re){if(!function Xc(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}(re))throw re;const be={throttleEndTimeMillis:Date.now()+(0,ie.$s)(F),backoffCount:F+1};return yield J.storage.setThrottleMetadata(be),J.attemptFetch(C,be)}})()}}class ed{constructor(C,x,F,J,re){this.app=C,this._client=x,this._storageCache=F,this._storage=J,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Al(D,C){var x;const F=D.target.error||void 0;return jn.create(C,{originalErrorMessage:F&&(null===(x=F)||void 0===x?void 0:x.message)})}const Cs="app_namespace_store";class sg{constructor(C,x,F,J=function ig(){return new Promise((D,C)=>{var x;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=J=>{C(Al(J,"storage-open"))},F.onsuccess=J=>{D(J.target.result)},F.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Cs,{keyPath:"compositeKey"})}}catch(F){C(jn.create("storage-open",{originalErrorMessage:null===(x=F)||void 0===x?void 0:x.message}))}})}()){this.appId=C,this.appName=x,this.namespace=F,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var x=this;return(0,O.Z)(function*(){const F=yield x.openDbPromise;return new Promise((J,re)=>{var be;const et=F.transaction([Cs],"readonly").objectStore(Cs),vt=x.createCompositeKey(C);try{const At=et.get(vt);At.onerror=ht=>{re(Al(ht,"storage-get"))},At.onsuccess=ht=>{const En=ht.target.result;J(En?En.value:void 0)}}catch(At){re(jn.create("storage-get",{originalErrorMessage:null===(be=At)||void 0===be?void 0:be.message}))}})})()}set(C,x){var F=this;return(0,O.Z)(function*(){const J=yield F.openDbPromise;return new Promise((re,be)=>{var Re;const vt=J.transaction([Cs],"readwrite").objectStore(Cs),At=F.createCompositeKey(C);try{const ht=vt.put({compositeKey:At,value:x});ht.onerror=En=>{be(Al(En,"storage-set"))},ht.onsuccess=()=>{re()}}catch(ht){be(jn.create("storage-set",{originalErrorMessage:null===(Re=ht)||void 0===Re?void 0:Re.message}))}})})()}delete(C){var x=this;return(0,O.Z)(function*(){const F=yield x.openDbPromise;return new Promise((J,re)=>{var be;const et=F.transaction([Cs],"readwrite").objectStore(Cs),vt=x.createCompositeKey(C);try{const At=et.delete(vt);At.onerror=ht=>{re(Al(ht,"storage-delete"))},At.onsuccess=()=>{J()}}catch(At){re(jn.create("storage-delete",{originalErrorMessage:null===(be=At)||void 0===be?void 0:be.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class nd{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,O.Z)(function*(){const x=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),J=C.storage.getActiveConfig(),re=yield x;re&&(C.lastFetchStatus=re);const be=yield F;be&&(C.lastSuccessfulFetchTimestampMillis=be);const Re=yield J;Re&&(C.activeConfig=Re)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function pu(){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Ts(){(0,ae._registerComponent)(new he.wA("remote-config",function D(C,{instanceIdentifier:x}){const F=C.getProvider("app").getImmediate(),J=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jn.create("registration-window");if(!(0,ie.hl)())throw jn.create("indexed-db-unavailable");const{projectId:re,apiKey:be,appId:Re}=F.options;if(!re)throw jn.create("registration-project-id");if(!be)throw jn.create("registration-api-key");if(!Re)throw jn.create("registration-app-id");const et=new sg(Re,F.name,x=x||"firebase"),vt=new nd(et),At=new le.Yd(Ni);At.logLevel=le.in.ERROR;const ht=new Sl(J,ae.SDK_VERSION,x,re,be,Re),En=new tg(ht,et),gr=new Zh(En,et,vt,At),Zo=new ed(F,gr,vt,et,At);return function kn(D){const C=(0,ie.m9)(D);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Zo),Zo},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ni,"0.3.11"),(0,ae.registerVersion)(Ni,"0.3.11","esm2017")}();const Ri="/firebase-messaging-sw.js",Xi="/firebase-cloud-messaging-push-scope",es="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ya="google.c.a.c_id",gu="google.c.a.c_l",Ml="google.c.a.ts",Qh="google.c.a.e";var ts=(()=>{return(D=ts||(ts={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",ts;var D})();function ni(D){const C=new Uint8Array(D);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wr(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),J=new Uint8Array(F.length);for(let re=0;re<F.length;++re)J[re]=F.charCodeAt(re);return J}const Ro="fcm_token_details_db",pr="fcm_token_object_Store";function Jh(D){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Ro))return null;let C=null;return(yield(0,fe.X3)(Ro,5,{upgrade:(F=(0,O.Z)(function*(J,re,be,Re){var et;if(re<2||!J.objectStoreNames.contains(pr))return;const vt=Re.objectStore(pr),At=yield vt.index("fcmSenderId").get(D);if(yield vt.clear(),At)if(2===re){const ht=At;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;C={token:ht.fcmToken,createTime:null!==(et=ht.createTime)&&void 0!==et?et:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:ni(ht.vapidKey)}}}else if(3===re){const ht=At;C={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:ni(ht.auth),p256dh:ni(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:ni(ht.vapidKey)}}}else if(4===re){const ht=At;C={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:ni(ht.auth),p256dh:ni(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:ni(ht.vapidKey)}}}}),function(re,be,Re,et){return F.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Ro),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Tn(C)?C:null;var F}),Xh.apply(this,arguments)}function Tn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:C}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const ri="firebase-messaging-store";let Nr=null;function yu(){return Nr||(Nr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(ri)}})),Nr}function Oo(D){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(D){const C=wi(D),F=yield(yield yu()).transaction(ri).objectStore(ri).get(C);if(F)return F;{const J=yield Jh(D.appConfig.senderId);if(J)return yield Ht(D,J),J}})).apply(this,arguments)}function Ht(D,C){return _u.apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(D,C){const x=wi(D),J=(yield yu()).transaction(ri,"readwrite");return yield J.objectStore(ri).put(C,x),yield J.done,C})).apply(this,arguments)}function eo(D){return vu.apply(this,arguments)}function vu(){return(vu=(0,O.Z)(function*(D){const C=wi(D),F=(yield yu()).transaction(ri,"readwrite");yield F.objectStore(ri).delete(C),yield F.done})).apply(this,arguments)}function wi({appConfig:D}){return D.appId}const bn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tt(D,C){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,O.Z)(function*(D,C){var x;const F=yield Nl(D),J=Te(C),re={method:"POST",headers:F,body:JSON.stringify(J)};let be;try{be=yield(yield fetch(rs(D.appConfig),re)).json()}catch(Re){throw bn.create("token-subscribe-failed",{errorInfo:null===(x=Re)||void 0===x?void 0:x.toString()})}if(be.error)throw bn.create("token-subscribe-failed",{errorInfo:be.error.message});if(!be.token)throw bn.create("token-subscribe-no-token");return be.token})).apply(this,arguments)}function tf(D,C){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*(D,C){var x;const F=yield Nl(D),J=Te(C.subscriptionOptions),re={method:"PATCH",headers:F,body:JSON.stringify(J)};let be;try{be=yield(yield fetch(`${rs(D.appConfig)}/${C.token}`,re)).json()}catch(Re){throw bn.create("token-update-failed",{errorInfo:null===(x=Re)||void 0===x?void 0:x.toString()})}if(be.error)throw bn.create("token-update-failed",{errorInfo:be.error.message});if(!be.token)throw bn.create("token-update-no-token");return be.token})).apply(this,arguments)}function bu(D,C){return xl.apply(this,arguments)}function xl(){return(xl=(0,O.Z)(function*(D,C){var x;const J={method:"DELETE",headers:yield Nl(D)};try{const be=yield(yield fetch(`${rs(D.appConfig)}/${C}`,J)).json();if(be.error)throw bn.create("token-unsubscribe-failed",{errorInfo:be.error.message})}catch(re){throw bn.create("token-unsubscribe-failed",{errorInfo:null===(x=re)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function rs({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Nl(D){return _a.apply(this,arguments)}function _a(){return(_a=(0,O.Z)(function*({appConfig:D,installations:C}){const x=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Te({p256dh:D,auth:C,endpoint:x,vapidKey:F}){const J={web:{endpoint:x,auth:C,p256dh:D}};return F!==es&&(J.web.applicationPubKey=F),J}const Bt=6048e5;function Du(D){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,O.Z)(function*(D){const C=yield Rl(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:C.endpoint,auth:ni(C.getKey("auth")),p256dh:ni(C.getKey("p256dh"))},F=yield Oo(D.firebaseDependencies);if(F){if(od(F.subscriptionOptions,x))return Date.now()>=F.createTime+Bt?Po(D,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield bu(D.firebaseDependencies,F.token)}catch(J){console.warn(J)}return va(D.firebaseDependencies,x)}return va(D.firebaseDependencies,x)})).apply(this,arguments)}function Sn(D){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,O.Z)(function*(D){const C=yield Oo(D.firebaseDependencies);C&&(yield bu(D.firebaseDependencies,C.token),yield eo(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Po(D,C){return ii.apply(this,arguments)}function ii(){return(ii=(0,O.Z)(function*(D,C){try{const x=yield tf(D.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:x,createTime:Date.now()});return yield Ht(D.firebaseDependencies,F),x}catch(x){throw yield Sn(D),x}})).apply(this,arguments)}function va(D,C){return wa.apply(this,arguments)}function wa(){return(wa=(0,O.Z)(function*(D,C){const F={token:yield Tt(D,C),createTime:Date.now(),subscriptionOptions:C};return yield Ht(D,F),F.token})).apply(this,arguments)}function Rl(D,C){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,O.Z)(function*(D,C){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wr(C)})})).apply(this,arguments)}function od(D,C){return C.vapidKey===D.vapidKey&&C.endpoint===D.endpoint&&C.auth===D.auth&&C.p256dh===D.p256dh}function Ea(D){const C={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function An(D,C){if(!C.notification)return;D.notification={};const x=C.notification.title;x&&(D.notification.title=x);const F=C.notification.body;F&&(D.notification.body=F);const J=C.notification.image;J&&(D.notification.image=J)}(C,D),function Oi(D,C){!C.data||(D.data=C.data)}(C,D),function Pl(D,C){var x,F,J,re,be;if(!(C.fcmOptions||null!==(x=C.notification)&&void 0!==x&&x.click_action))return;D.fcmOptions={};const Re=null!==(J=null===(F=C.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==J?J:null===(re=C.notification)||void 0===re?void 0:re.click_action;Re&&(D.fcmOptions.link=Re);const et=null===(be=C.fcmOptions)||void 0===be?void 0:be.analytics_label;et&&(D.fcmOptions.analyticsLabel=et)}(C,D),C}function to(D){return"object"==typeof D&&!!D&&ya in D}function is(D,C){const x=[];for(let F=0;F<D.length;F++)x.push(D.charAt(F)),F<C.length&&x.push(C.charAt(F));return x.join("")}function Ia(D){return bn.create("missing-app-config-values",{valueName:D})}is("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),is("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ag{constructor(C,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function og(D){if(!D||!D.options)throw Ia("App Configuration Object");if(!D.name)throw Ia("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const F of C)if(!x[F])throw Ia(F);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:J,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function kl(D){return Su.apply(this,arguments)}function Su(){return(Su=(0,O.Z)(function*(D){var C;try{D.swRegistration=yield navigator.serviceWorker.register(Ri,{scope:Xi}),D.swRegistration.update().catch(()=>{})}catch(x){throw bn.create("failed-service-worker-registration",{browserErrorMessage:null===(C=x)||void 0===C?void 0:C.message})}})).apply(this,arguments)}function ba(D,C){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,O.Z)(function*(D,C){if(!C&&!D.swRegistration&&(yield kl(D)),C||!D.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw bn.create("invalid-sw-registration");D.swRegistration=C}})).apply(this,arguments)}function Da(D,C){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,O.Z)(function*(D,C){C?D.vapidKey=C:D.vapidKey||(D.vapidKey=es)})).apply(this,arguments)}function Mu(){return(Mu=(0,O.Z)(function*(D,C){if(!navigator)throw bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bn.create("permission-blocked");return yield Da(D,C?.vapidKey),yield ba(D,C?.serviceWorkerRegistration),Du(D)})).apply(this,arguments)}function Vl(D,C,x){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,O.Z)(function*(D,C,x){const F=Bl(C);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[ya],message_name:x[gu],message_time:x[Ml],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bl(D){switch(D){case ts.NOTIFICATION_CLICKED:return"notification_open";case ts.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function no(){return(no=(0,O.Z)(function*(D,C){const x=C.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===ts.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ea(x)):D.onMessageHandler.next(Ea(x)));const F=x.data;to(F)&&"1"===F[Qh]&&(yield Vl(D,x.messageType,F))})).apply(this,arguments)}const ro="@firebase/messaging",Jn=D=>{const C=new ag(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ad(D,C){return no.apply(this,arguments)}(C,x)),C},Kr=D=>{const C=D.getProvider("messaging").getImmediate();return{getToken:F=>function Au(D,C){return Mu.apply(this,arguments)}(C,F)}};function ud(){return jl.apply(this,arguments)}function jl(){return(jl=(0,O.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gn(){(0,ae._registerComponent)(new he.wA("messaging",Jn,"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",Kr,"PRIVATE")),(0,ae.registerVersion)(ro,"0.9.16"),(0,ae.registerVersion)(ro,"0.9.16","esm2017")}();const Lo="analytics",dd="firebase_id",io="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ru="https://www.googletagmanager.com/gtag/js",Mn=new le.Yd("@firebase/analytics");function Ou(D){return Promise.all(D.map(C=>C.catch(x=>x)))}function Pu(D,C){const x=document.createElement("script");x.src=`${Ru}?l=${D}&id=${C}`,x.async=!0,document.head.appendChild(x)}function rf(D,C,x,F,J,re){return so.apply(this,arguments)}function so(){return(so=(0,O.Z)(function*(D,C,x,F,J,re){const be=F[J];try{if(be)yield C[be];else{const et=(yield Ou(x)).find(vt=>vt.measurementId===J);et&&(yield C[et.appId])}}catch(Re){Mn.error(Re)}D("config",J,re)})).apply(this,arguments)}function Vo(D,C,x,F,J){return oo.apply(this,arguments)}function oo(){return(oo=(0,O.Z)(function*(D,C,x,F,J){try{let re=[];if(J&&J.send_to){let be=J.send_to;Array.isArray(be)||(be=[be]);const Re=yield Ou(x);for(const et of be){const vt=Re.find(ht=>ht.measurementId===et),At=vt&&C[vt.appId];if(!At){re=[];break}re.push(At)}}0===re.length&&(re=Object.values(C)),yield Promise.all(re),D("event",F,J||{})}catch(re){Mn.error(re)}})).apply(this,arguments)}function fd(){const D=window.document.getElementsByTagName("script");for(const C of Object.values(D))if(C.src&&C.src.includes(Ru))return C;return null}const ar=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Aa=new class Pi{constructor(C={},x=1e3){this.throttleMetadata=C,this.intervalMillis=x}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,x){this.throttleMetadata[C]=x}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function gd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ma(D){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,O.Z)(function*(D){var C;const{appId:x,apiKey:F}=D,J={method:"GET",headers:gd(F)},re=io.replace("{app-id}",x),be=yield fetch(re,J);if(200!==be.status&&304!==be.status){let Re="";try{const et=yield be.json();null!==(C=et.error)&&void 0!==C&&C.message&&(Re=et.error.message)}catch{}throw ar.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Re})}return be.json()})).apply(this,arguments)}function Fn(D){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,O.Z)(function*(D,C=Aa,x){const{appId:F,apiKey:J,measurementId:re}=D.options;if(!F)throw ar.create("no-app-id");if(!J){if(re)return{measurementId:re,appId:F};throw ar.create("no-api-key")}const be=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Vu;return setTimeout((0,O.Z)(function*(){Re.abort()}),void 0!==x?x:6e4),Fu({appId:F,apiKey:J,measurementId:re},be,Re,C)})).apply(this,arguments)}function Fu(D,C,x){return ao.apply(this,arguments)}function ao(){return(ao=(0,O.Z)(function*(D,{throttleEndTimeMillis:C,backoffCount:x},F,J=Aa){var re,be;const{appId:Re,measurementId:et}=D;try{yield xa(F,C)}catch(vt){if(et)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${null===(re=vt)||void 0===re?void 0:re.message}]`),{appId:Re,measurementId:et};throw vt}try{const vt=yield Ma(D);return J.deleteThrottleMetadata(Re),vt}catch(vt){const At=vt;if(!Lu(At)){if(J.deleteThrottleMetadata(Re),et)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:Re,measurementId:et};throw vt}const ht=503===Number(null===(be=At?.customData)||void 0===be?void 0:be.httpStatus)?(0,ie.$s)(x,J.intervalMillis,30):(0,ie.$s)(x,J.intervalMillis),En={throttleEndTimeMillis:Date.now()+ht,backoffCount:x+1};return J.setThrottleMetadata(Re,En),Mn.debug(`Calling attemptFetch again in ${ht} millis`),Fu(D,En,F,J)}})).apply(this,arguments)}function xa(D,C){return new Promise((x,F)=>{const J=Math.max(C-Date.now(),0),re=setTimeout(x,J);D.addEventListener(()=>{clearTimeout(re),F(ar.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Lu(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Vu{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let xs,Ra;function Ns(){return(Ns=(0,O.Z)(function*(D,C,x,F,J){if(J&&J.global)D("event",x,F);else{const re=yield C;D("event",x,Object.assign(Object.assign({},F),{send_to:re}))}})).apply(this,arguments)}function lo(D){Ra=D}function ql(D){xs=D}function os(){return ju.apply(this,arguments)}function ju(){return(ju=(0,O.Z)(function*(){var D;if(!(0,ie.hl)())return Mn.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(C){return Mn.warn(ar.create("indexeddb-unavailable",{errorInfo:null===(D=C)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function jo(){return(jo=(0,O.Z)(function*(D,C,x,F,J,re,be){var Re;const et=Fn(D);et.then(gr=>{x[gr.measurementId]=gr.appId,D.options.measurementId&&gr.measurementId!==D.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${gr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gr=>Mn.error(gr)),C.push(et);const vt=os().then(gr=>{if(gr)return F.getId()}),[At,ht]=yield Promise.all([et,vt]);fd()||Pu(re,At.measurementId),Ra&&(J("consent","default",Ra),lo(void 0)),J("js",new Date);const En=null!==(Re=be?.config)&&void 0!==Re?Re:{};return En.origin="firebase",En.update=!0,null!=ht&&(En[dd]=ht),J("config",At.measurementId,En),xs&&(J("set",xs),ql(void 0)),At.measurementId})).apply(this,arguments)}class $u{constructor(C){this.app=C}_delete(){return delete Zr[this.app.options.appId],Promise.resolve()}}let Zr={},Rs=[];const $o={};let Go,co,Ho="dataLayer",Oa=!1;function Wy(D,C,x){!function ug(){const D=[];if((0,ie.ru)()&&D.push("This is a browser extension environment."),(0,ie.zI)()||D.push("Cookies are not available."),D.length>0){const C=D.map((F,J)=>`(${J+1}) ${F}`).join(" "),x=ar.create("invalid-analytics-context",{errorInfo:C});Mn.warn(x.message)}}();const F=D.options.appId;if(!F)throw ar.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ar.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zr[F])throw ar.create("already-exists",{id:F});if(!Oa){!function hd(D){let C=[];Array.isArray(window[D])?C=window[D]:window[D]=C}(Ho);const{wrappedGtag:re,gtagCore:be}=function Ca(D,C,x,F,J){let re=function(...be){window[F].push(arguments)};return window[J]&&"function"==typeof window[J]&&(re=window[J]),window[J]=function ku(D,C,x,F){function re(){return(re=(0,O.Z)(function*(be,Re,et){try{"event"===be?yield Vo(D,C,x,Re,et):"config"===be?yield rf(D,C,x,F,Re,et):"consent"===be?D("consent","update",et):D("set",Re)}catch(vt){Mn.error(vt)}})).apply(this,arguments)}return function J(be,Re,et){return re.apply(this,arguments)}}(re,D,C,x),{gtagCore:re,wrappedGtag:window[J]}}(Zr,Rs,$o,Ho,"gtag");co=re,Go=be,Oa=!0}return Zr[F]=function Bo(D,C,x,F,J,re,be){return jo.apply(this,arguments)}(D,Rs,$o,C,Go,Ho,x),new $u(D)}function Zy(){return sf.apply(this,arguments)}function sf(){return(sf=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const ot="@firebase/analytics";!function wn(){(0,ae._registerComponent)(new he.wA(Lo,(C,{options:x})=>Wy(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function D(C){try{const x=C.getProvider(Lo).getImmediate();return{logEvent:(F,J,re)=>function un(D,C,x,F){D=(0,ie.m9)(D),function md(D,C,x,F,J){return Ns.apply(this,arguments)}(co,Zr[D.app.options.appId],C,x,F).catch(J=>Mn.error(J))}(x,F,J,re)}}catch(x){throw ar.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(ot,"0.8.0"),(0,ae.registerVersion)(ot,"0.8.0","esm2017")}();var bi=k(4408),Rr=k(7565);const Gu=new class Os extends Rr.v{}(class ka extends bi.o{constructor(C,x){super(C,x),this.scheduler=C,this.work=x}schedule(C,x=0){return x>0?super.schedule(C,x):(this.delay=x,this.state=C,this.scheduler.flush(this),this)}execute(C,x){return x>0||this.closed?super.execute(C,x):this._execute(C,x)}requestAsyncId(C,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,x,F):C.flush(this)}});var Wl=k(4986),Fa=k(8505),zo=k(9468),Ps=k(5363);const at=new h.GfV("7.4.1"),La="__angularfire_symbol__analyticsIsSupportedValue",ks="__angularfire_symbol__analyticsIsSupported",Va="__angularfire_symbol__remoteConfigIsSupportedValue",qo="__angularfire_symbol__remoteConfigIsSupported",Xn="__angularfire_symbol__messagingIsSupportedValue",Kl="__angularfire_symbol__messagingIsSupported";function Ua(D,C,x){if(C){if(1===C.length)return C[0];const re=C.filter(be=>be.app===x);if(1===re.length)return re[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[ks]||(globalThis[ks]=Zy().then(D=>globalThis[La]=D).catch(()=>globalThis[La]=!1)),globalThis[Kl]||(globalThis[Kl]=ud().then(D=>globalThis[Xn]=D).catch(()=>globalThis[Xn]=!1)),globalThis[qo]||(globalThis[qo]=pu().then(D=>globalThis[Va]=D).catch(()=>globalThis[Va]=!1));const Fs=(D,C)=>{const x=C?[C]:(0,te.C6)(),F=[];return x.forEach(J=>{J.container.getProvider(D).instances.forEach(be=>{F.includes(be)||F.push(be)})}),F};function Ls(){}class Di{constructor(C,x=Gu){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,F){const J=this.zone;return this.delegate.schedule(function(be){J.runGuarded(()=>{C.apply(this,[be])})},x,F)}}class Yl{constructor(C){this.zone=C,this.task=null}call(C,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),x.pipe((0,Fa.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ko=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Di(Zone.current)),this.insideAngular=x.run(()=>new Di(Zone.current,Wl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Yr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function us(D){return Yr(),function Hn(D){return function(x){return(x=x.lift(new Yl(D.ngZone))).pipe((0,zo.R)(D.outsideAngular),(0,Ps.Q)(D.insideAngular))}}(Yr())(D)}},2090:(ct,Se,k)=>{k.d(Se,{$s:()=>Qi,BH:()=>Ve,G6:()=>je,L:()=>fe,LL:()=>Fe,Sg:()=>xe,UG:()=>ye,US:()=>he,ZB:()=>$,ZR:()=>ne,b$:()=>it,eu:()=>me,hl:()=>U,jU:()=>pe,m9:()=>qt,ne:()=>Mo,pd:()=>zr,r3:()=>Sr,ru:()=>Ze,tV:()=>ge,uI:()=>Qe,vZ:()=>Hr,w1:()=>we,xO:()=>ws,xb:()=>rn,z$:()=>Ee,zI:()=>Y,zd:()=>Mi});const ae=function(W){const j=[];let V=0;for(let H=0;H<W.length;H++){let q=W.charCodeAt(H);q<128?j[V++]=q:q<2048?(j[V++]=q>>6|192,j[V++]=63&q|128):55296==(64512&q)&&H+1<W.length&&56320==(64512&W.charCodeAt(H+1))?(q=65536+((1023&q)<<10)+(1023&W.charCodeAt(++H)),j[V++]=q>>18|240,j[V++]=q>>12&63|128,j[V++]=q>>6&63|128,j[V++]=63&q|128):(j[V++]=q>>12|224,j[V++]=q>>6&63|128,j[V++]=63&q|128)}return j},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,j){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let q=0;q<W.length;q+=3){const Ce=W[q],Ue=q+1<W.length,st=Ue?W[q+1]:0,dn=q+2<W.length,Yt=dn?W[q+2]:0;let Pt=(15&st)<<2|Yt>>6,_n=63&Yt;dn||(_n=64,Ue||(Pt=64)),H.push(V[Ce>>2],V[(3&Ce)<<4|st>>4],V[Pt],V[_n])}return H.join("")},encodeString(W,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(W):this.encodeByteArray(ae(W),j)},decodeString(W,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(W):function(W){const j=[];let V=0,H=0;for(;V<W.length;){const q=W[V++];if(q<128)j[H++]=String.fromCharCode(q);else if(q>191&&q<224){const Ce=W[V++];j[H++]=String.fromCharCode((31&q)<<6|63&Ce)}else if(q>239&&q<365){const dn=((7&q)<<18|(63&W[V++])<<12|(63&W[V++])<<6|63&W[V++])-65536;j[H++]=String.fromCharCode(55296+(dn>>10)),j[H++]=String.fromCharCode(56320+(1023&dn))}else{const Ce=W[V++],Ue=W[V++];j[H++]=String.fromCharCode((15&q)<<12|(63&Ce)<<6|63&Ue)}}return j.join("")}(this.decodeStringToByteArray(W,j))},decodeStringToByteArray(W,j){this.init_();const V=j?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let q=0;q<W.length;){const Ce=V[W.charAt(q++)],st=q<W.length?V[W.charAt(q)]:0;++q;const Yt=q<W.length?V[W.charAt(q)]:64;++q;const Ut=q<W.length?V[W.charAt(q)]:64;if(++q,null==Ce||null==st||null==Yt||null==Ut)throw Error();H.push(Ce<<2|st>>4),64!==Yt&&(H.push(st<<4&240|Yt>>2),64!==Ut&&H.push(Yt<<6&192|Ut))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},fe=function(W){return function(W){const j=ae(W);return he.encodeByteArray(j,!0)}(W).replace(/\./g,"")},ge=function(W){try{return he.decodeString(W,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function $(W,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return j}for(const V in j)!j.hasOwnProperty(V)||!Q(V)||(W[V]=$(W[V],j[V]));return W}function Q(W){return"__proto__"!==W}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,V)=>{this.resolve=j,this.reject=V})}wrapCallback(j){return(V,H)=>{V?this.reject(V):this.resolve(H),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(V):j(V,H))}}}function xe(W,j){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=j||"demo-project",q=W.iat||0,Ce=W.sub||W.user_id;if(!Ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:q,exp:q+3600,auth_time:q,sub:Ce,user_id:Ce,firebase:{sign_in_provider:"custom",identities:{}}},W);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Ue)),""].join(".")}function Ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Ze(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){const W=Ee();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function je(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){return"object"==typeof indexedDB}function me(){return new Promise((W,j)=>{try{let V=!0;const H="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(H);q.onsuccess=()=>{q.result.close(),V||self.indexedDB.deleteDatabase(H),W(!0)},q.onupgradeneeded=()=>{V=!1},q.onerror=()=>{var Ce;j((null===(Ce=q.error)||void 0===Ce?void 0:Ce.message)||"")}}catch(V){j(V)}})}function Y(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ne extends Error{constructor(j,V,H){super(V),this.code=j,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(j,V,H){this.service=j,this.serviceName=V,this.errors=H}create(j,...V){const H=V[0]||{},q=`${this.service}/${j}`,Ce=this.errors[j],Ue=Ce?function Oe(W,j){return W.replace(pt,(V,H)=>{const q=j[H];return null!=q?String(q):`<${H}?>`})}(Ce,H):"Error";return new ne(q,`${this.serviceName}: ${Ue} (${q}).`,H)}}const pt=/\{\$([^}]+)}/g;function Sr(W,j){return Object.prototype.hasOwnProperty.call(W,j)}function rn(W){for(const j in W)if(Object.prototype.hasOwnProperty.call(W,j))return!1;return!0}function Hr(W,j){if(W===j)return!0;const V=Object.keys(W),H=Object.keys(j);for(const q of V){if(!H.includes(q))return!1;const Ce=W[q],Ue=j[q];if(wr(Ce)&&wr(Ue)){if(!Hr(Ce,Ue))return!1}else if(Ce!==Ue)return!1}for(const q of H)if(!V.includes(q))return!1;return!0}function wr(W){return null!==W&&"object"==typeof W}function ws(W){const j=[];for(const[V,H]of Object.entries(W))Array.isArray(H)?H.forEach(q=>{j.push(encodeURIComponent(V)+"="+encodeURIComponent(q))}):j.push(encodeURIComponent(V)+"="+encodeURIComponent(H));return j.length?"&"+j.join("&"):""}function Mi(W){const j={};return W.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[q,Ce]=H.split("=");j[decodeURIComponent(q)]=decodeURIComponent(Ce)}}),j}function zr(W){const j=W.indexOf("?");if(!j)return"";const V=W.indexOf("#",j);return W.substring(j,V>0?V:void 0)}function Mo(W,j){const V=new Ke(W,j);return V.subscribe.bind(V)}class Ke{constructor(j,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{j(this)}).catch(H=>{this.error(H)})}next(j){this.forEachObserver(V=>{V.next(j)})}error(j){this.forEachObserver(V=>{V.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,V,H){let q;if(void 0===j&&void 0===V&&void 0===H)throw new Error("Missing Observer.");q=function Yi(W,j){if("object"!=typeof W||null===W)return!1;for(const V of j)if(V in W&&"function"==typeof W[V])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:V,complete:H},void 0===q.next&&(q.next=On),void 0===q.error&&(q.error=On),void 0===q.complete&&(q.complete=On);const Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Ce}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,j)}sendOne(j,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{V(this.observers[j])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function Qi(W,j=1e3,V=2){const H=j*Math.pow(V,W),q=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+q)}function qt(W){return W&&W._delegate?W._delegate:W}},8204:(ct,Se,k)=>{var h=k(4650);let te=null;function O(){return te}const le=new h.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ge(){return(0,h.LFG)($)}()},providedIn:"platform"}),n})();const B=new h.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ve(){return new $((0,h.LFG)(le))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ze)},providedIn:"root"}),n})();const pe=new h.OlP("appBaseHref");let Ze=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Qe(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Qe(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),it=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Qe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Qe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ee(Be(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qe(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=xe,n.stripTrailingSlash=Ee,n.\u0275fac=function(t){return new(t||n)(h.LFG(ye))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function we(){return new Me((0,h.LFG)(ye))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}const je={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Group=1]="Group",ne[ne.List=2]="List",ne[ne.PercentSign=3]="PercentSign",ne[ne.PlusSign=4]="PlusSign",ne[ne.MinusSign=5]="MinusSign",ne[ne.Exponential=6]="Exponential",ne[ne.SuperscriptingExponent=7]="SuperscriptingExponent",ne[ne.PerMille=8]="PerMille",ne[ne.Infinity=9]="Infinity",ne[ne.NaN=10]="NaN",ne[ne.TimeSeparator=11]="TimeSeparator",ne[ne.CurrencyDecimal=12]="CurrencyDecimal",ne[ne.CurrencyGroup=13]="CurrencyGroup",ne))();function Lt(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ne.CurrencyDecimal)return t[h.wAp.NumberSymbols][ne.Decimal];if(e===ne.CurrencyGroup)return t[h.wAp.NumberSymbols][ne.Group]}return r}const Mr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Es(n,e,t,r,i){const c=function vn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],u=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],p=c[0],_=c[1]||"";t.posPre=p.substring(0,p.indexOf("#"));for(let T=0;T<_.length;T++){const M=_.charAt(T);"0"===M?t.minFrac=t.maxFrac=T+1:"#"===M?t.maxFrac=T+1:t.posSuf+=M}const I=p.split(",");if(t.gSize=I[1]?I[1].length:0,t.lgSize=I[2]||I[1]?(I[2]||I[1]).length:0,u){const T=i.length-t.posPre.length-t.posSuf.length,M=u.indexOf("#");t.negPre=u.substring(0,M).replace(/'/g,""),t.negSuf=u.slice(M+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function rn(n,e){return(0,h.cg1)(n)[h.wAp.NumberFormats][e]}(e,U.Currency),Lt(e,ne.MinusSign));return c.minFrac=function mi(n){let e;const t=je[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function pn(n,e,t,r,i,u,c=!1){let p="",_=!1;if(isFinite(n)){let I=function El(n){let r,i,u,c,p,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;"0"===e.charAt(u);u++);if(u===(p=e.length))r=[0],i=1;else{for(p--;"0"===e.charAt(p);)p--;for(i-=u,r=[],c=0;u<=p;u++,c++)r[c]=Number(e.charAt(u))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(I=function Qs(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(I));let T=e.minInt,M=e.minFrac,L=e.maxFrac;if(u){const rt=u.match(Mr);if(null===rt)throw new Error(`${u} is not a valid digit info`);const mt=rt[1],ut=rt[3],St=rt[5];null!=mt&&(T=Bn(mt)),null!=ut&&(M=Bn(ut)),null!=St?L=Bn(St):null!=ut&&M>L&&(L=M)}!function Ni(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let c=u+n.integerLen,p=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let M=c;M<r.length;M++)r[M]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=u+1),r[0]=0;for(let M=1;M<c;M++)r[M]=0}if(p>=5)if(c-1<0){for(let M=0;M>c;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,u);i++)r.push(0);let _=0!==u;const I=e+n.integerLen,T=r.reduceRight(function(M,L,G,Z){return Z[G]=(L+=M)<10?L:L-10,_&&(0===Z[G]&&G>=I?Z.pop():_=!1),L>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(I,M,L);let G=I.digits,Z=I.integerLen;const ue=I.exponent;let Ie=[];for(_=G.every(rt=>!rt);Z<T;Z++)G.unshift(0);for(;Z<0;Z++)G.unshift(0);Z>0?Ie=G.splice(Z,G.length):(Ie=G,G=[0]);const We=[];for(G.length>=e.lgSize&&We.unshift(G.splice(-e.lgSize,G.length).join(""));G.length>e.gSize;)We.unshift(G.splice(-e.gSize,G.length).join(""));G.length&&We.unshift(G.join("")),p=We.join(Lt(t,r)),Ie.length&&(p+=Lt(t,i)+Ie.join("")),ue&&(p+=Lt(t,ne.Exponential)+"+"+ue)}else p=Lt(t,ne.Infinity);return p=n<0&&!_?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(n,c,e,ne.CurrencyGroup,ne.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Bn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class ga{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xs=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ga(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),Ds(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ds(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ds(n,e){n.context.$implicit=e.item}let kn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Dl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){or("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){or("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Dl{constructor(){this.$implicit=null,this.ngIf=null}}function or(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let Ss=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,c){if(!function ya(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let p=r||this._defaultCurrencyCode;"code"!==i&&(p="symbol"===i||"symbol-narrow"===i?function Yi(n,e,t="en"){const r=function Gr(n){return(0,h.cg1)(n)[h.wAp.Currencies]}(t)[n]||je[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(p,"symbol"===i?"wide":"narrow",c):i);try{return Es(function gu(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,p,r,u)}catch(_){throw function Qn(n,e){return new h.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(h.EJc,16))},n.\u0275pipe=h.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let No=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function pr(n){return"server"===n}let mu=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new ef((0,h.LFG)(le),window)}),n})();class ef{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Nr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ri(this.window.history)||ri(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ri(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class no extends class ad extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){te||(te=n)}(new no)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xu(){return ro=ro||document.querySelector("base"),ro?ro.getAttribute("href"):null}();return null==t?null:function Kr(n){Jn=Jn||document.createElement("a"),Jn.setAttribute("href",n);const e=Jn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Jn,ro=null;const gn=new h.OlP("TRANSITION_ID"),jl=[{provide:h.ip1,useFactory:function ud(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[gn,le,h.zs3],multi:!0}];let $l=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Nu=new h.OlP("EventManagerPlugins");let ld=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Nu),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Hl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ko=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Fo=(()=>{class n extends ko{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(cd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cd))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function cd(n){O().remove(n)}const Lo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dd=/%COMP%/g;function Pu(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Pu(n,i,t):(i=i.replace(dd,n),t.push(i))}return t}function hd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let so=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Vo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new pd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Pu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ld),h.LFG(Fo),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Vo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Lo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ca(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ca(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Lo[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Lo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,hd(r)):this.eventManager.addEventListener(e,t,hd(r))}}function Ca(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fd extends Vo{constructor(e,t,r,i){super(e),this.component=r;const u=Pu(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Mn(n){return"_ngcontent-%COMP%".replace(dd,n)}(i+"-"+r.id),this.hostAttr=function Ou(n){return"_nghost-%COMP%".replace(dd,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class pd extends Vo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Pu(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ar=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ta=["alt","control","meta","shift"],Sa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Aa=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),Ta.forEach(I=>{const T=r.indexOf(I);T>-1&&(r.splice(T,1),c+=I+".")}),c+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Sa[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ta.forEach(c=>{c!==i&&(0,Pi[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Vu=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Fu(){no.makeCurrent()},multi:!0},{provide:le,useFactory:function xa(){return(0,h.RDi)(document),document},deps:[]}]),xs=new h.OlP(""),md=[{provide:h.rWj,useClass:class nf{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(_){c=c||_,u--,0==u&&r(c)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Ns=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function ao(){return new h.qLn},deps:[]},{provide:Nu,useClass:ar,multi:!0,deps:[le,h.R0b,h.Lbi]},{provide:Nu,useClass:Aa,multi:!0,deps:[le]},{provide:so,useClass:so,deps:[ld,Fo,h.AFp]},{provide:h.FYo,useExisting:so},{provide:ko,useExisting:Fo},{provide:Fo,useClass:Fo,deps:[le]},{provide:ld,useClass:ld,deps:[Nu,h.R0b]},{provide:class Oo{},useClass:$l,deps:[]},[]];let Uu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:gn,useExisting:h.AFp},jl]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xs,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...Ns,...md],imports:[No,h.hGG]}),n})(),ss=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Uo(){return new ss((0,h.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Pa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(dg),r},providedIn:"root"}),n})(),dg=(()=>{class n extends Pa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function cg(n){return new dg(n.get(le))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var un=k(8996),Ii=k(7669);function ot(...n){const e=(0,Ii.yG)(n);return(0,un.D)(n,e)}var $n=k(7579);class wn extends $n.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ka=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Rr=k(9751);const{isArray:Os}=Array,{getPrototypeOf:Gu,prototype:hg,keys:Wl}=Object;function Fa(n){if(1===n.length){const e=n[0];if(Os(e))return{args:e,keys:null};if(function zo(n){return n&&"object"==typeof n&&Gu(n)===hg}(e)){const t=Wl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ps=k(4671),at=k(4004);const{isArray:La}=Array;function Va(n){return(0,at.U)(e=>function ks(n,e){return La(e)?n(...e):n(e)}(n,e))}function qo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Xn=k(5403),Kl=k(9672);function Wo(...n){const e=(0,Ii.yG)(n),t=(0,Ii.jO)(n),{args:r,keys:i}=Fa(n);if(0===r.length)return(0,un.D)([],e);const u=new Rr.y(function fg(n,e,t=Ps.y){return r=>{Zl(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let _=0;_<i;_++)Zl(e,()=>{const I=(0,un.D)(n[_],e);let T=!1;I.subscribe((0,Xn.x)(r,M=>{u[_]=M,T||(T=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>qo(i,c):Ps.y));return t?u.pipe(Va(t)):u}function Zl(n,e,t){n?(0,Kl.f)(t,n,e):e()}var zu=k(8189);function Fs(...n){return function Ua(){return(0,zu.J)(1)}()((0,un.D)(n,(0,Ii.yG)(n)))}var Ls=k(8421);function Di(n){return new Rr.y(e=>{(0,Ls.Xf)(n()).subscribe(e)})}var Yl=k(9635),Ko=k(576);function Yr(n,e){const t=(0,Ko.m)(n)?n:()=>n,r=i=>i.error(t());return new Rr.y(e?i=>e.schedule(r,0,i):r)}var as=k(515),ki=k(727),Ir=k(4482);function Vs(){return(0,Ir.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Xn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class us extends Rr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ir.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ki.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ki.w0.EMPTY)}return e}refCount(){return Vs()(this)}}function Hn(n,e){return(0,Ir.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Xn.x)(r,_=>{i?.unsubscribe();let I=0;const T=u++;(0,Ls.Xf)(n(_,T)).subscribe(i=(0,Xn.x)(r,M=>r.next(e?e(_,M,T,I++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}function mn(n){return n<=0?()=>as.E:(0,Ir.e)((e,t)=>{let r=0;e.subscribe((0,Xn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qu(...n){const e=(0,Ii.yG)(n);return(0,Ir.e)((t,r)=>{(e?Fs(n,t,e):Fs(n,t)).subscribe(r)})}function D(n,e){return(0,Ir.e)((t,r)=>{let i=0;t.subscribe((0,Xn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var C=k(5577);function x(n){return(0,Ir.e)((e,t)=>{let r=!1;e.subscribe((0,Xn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function F(n=J){return(0,Ir.e)((e,t)=>{let r=!1;e.subscribe((0,Xn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function J(){return new ka}function re(n,e){const t=arguments.length>=2;return r=>r.pipe(n?D((i,u)=>n(i,u,r)):Ps.y,mn(1),t?x(e):F(()=>new ka))}function be(n,e){return(0,Ko.m)(e)?(0,C.z)(n,e,1):(0,C.z)(n,1)}var Re=k(8505);function et(n){return(0,Ir.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Xn.x)(t,void 0,void 0,c=>{u=(0,Ls.Xf)(n(c,et(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function vt(n,e,t,r,i){return(u,c)=>{let p=t,_=e,I=0;u.subscribe((0,Xn.x)(c,T=>{const M=I++;_=p?n(_,T,M):(p=!0,T),r&&c.next(_)},i&&(()=>{p&&c.next(_),c.complete()})))}}function At(n,e){return(0,Ir.e)(vt(n,e,arguments.length>=2,!0))}function ht(n){return n<=0?()=>as.E:(0,Ir.e)((e,t)=>{let r=[];e.subscribe((0,Xn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function En(n,e){const t=arguments.length>=2;return r=>r.pipe(n?D((i,u)=>n(i,u,r)):Ps.y,ht(1),t?x(e):F(()=>new ka))}function Us(n){return(0,Ir.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Mt="primary",Fi=Symbol("RouteTitle");class Bs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function si(n){return new Bs(n)}function Yo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ci(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!af(n[i],e[i]))return!1;return!0}function af(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function pg(n){return Array.prototype.concat.apply([],n)}function gg(n){return n.length>0?n[n.length-1]:null}function er(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Li(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,un.D)(Promise.resolve(n)):ot(n)}const l0={exact:function yg(n,e,t){if(!po(n.segments,e.segments)||!fo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!yg(n.children[r],e.children[r],t))return!1;return!0},subset:Ba},lf={exact:function cf(n,e){return Ci(n,e)},subset:function _g(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>af(n[t],e[t]))},ignored:()=>!0};function Qy(n,e,t){return l0[t.paths](n.root,e.root,t.matrixParams)&&lf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ba(n,e,t){return _d(n,e,e.segments,t)}function _d(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!po(i,t)||e.hasChildren()||!fo(i,t,r))}if(n.segments.length===t.length){if(!po(n.segments,t)||!fo(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ba(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(po(n.segments,i)&&fo(n.segments,i,r)&&n.children[Mt])&&_d(n.children[Mt],e,u,r)}}function fo(n,e,t){return e.every((r,i)=>lf[t](n[i].parameters,r.parameters))}class ja{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=si(this.queryParams)),this._queryParamMap}toString(){return go.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,er(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ed(this)}}class vd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=si(this.parameters)),this._parameterMap}toString(){return ff(this)}}function po(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let df=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new wd},providedIn:"root"}),n})();class wd{parse(e){const t=new i_(e);return new ja(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$a(e.root,!0)}`,r=function e_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Jl(t)}=${Jl(i)}`).join("&"):`${Jl(t)}=${Jl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Jy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const go=new wd;function Ed(n){return n.segments.map(e=>ff(e)).join("/")}function $a(n,e){if(!n.hasChildren())return Ed(n);if(e){const t=n.children[Mt]?$a(n.children[Mt],!1):"",r=[];return er(n.children,(i,u)=>{u!==Mt&&r.push(`${u}:${$a(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function vg(n,e){let t=[];return er(n.children,(r,i)=>{i===Mt&&(t=t.concat(e(r,i)))}),er(n.children,(r,i)=>{i!==Mt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Mt?[$a(n.children[Mt],!1)]:[`${i}:${$a(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${Ed(n)}/${t[0]}`:`${Ed(n)}/(${t.join("//")})`}}function wg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jl(n){return wg(n).replace(/%3B/gi,";")}function Ti(n){return wg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mo(n){return decodeURIComponent(n)}function hf(n){return mo(n.replace(/\+/g,"%20"))}function ff(n){return`${Ti(n.path)}${function Xy(n){return Object.keys(n).map(e=>`;${Ti(e)}=${Ti(n[e])}`).join("")}(n.parameters)}`}const t_=/^[^\/()?;=#]+/;function pf(n){const e=n.match(t_);return e?e[0]:""}const Qo=/^[^=?&#]+/,r_=/^[^&#]+/;class i_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Mt]=new jt(e,t)),r}parseSegment(){const e=pf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new vd(mo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=pf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=pf(this.remaining);i&&(r=i,this.capture(r))}e[mo(t)]=mo(r)}parseQueryParam(e){const t=function n_(n){const e=n.match(Qo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function gf(n){const e=n.match(r_);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=hf(t),u=hf(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=pf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Mt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Mt]:new jt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function Jo(n){return n.segments.length>0?new jt([],{[Mt]:n}):n}function Vi(n){const e={};for(const r of Object.keys(n.children)){const u=Vi(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Xl(n){if(1===n.numberOfChildren&&n.children[Mt]){const e=n.children[Mt];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}function js(n){return n instanceof ja}function d0(n,e,t,r,i){if(0===t.length)return ec(e.root,e.root,e.root,r,i);const u=function bg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tc(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return er(u.outlets,(_,I)=>{p[I]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new tc(t,e,r)}(t);return u.toRoot()?ec(e.root,e.root,new jt([],{}),r,i):function c(_){const I=function yf(n,e,t,r){if(n.isAbsolute)return new Wu(e.root,!0,0);if(-1===r)return new Wu(t,t===e.root,0);return function _f(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new Wu(r,!1,i-u)}(t,r+(Ha(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),T=I.processChildren?qa(I.segmentGroup,I.index,u.commands):za(I.segmentGroup,I.index,u.commands);return ec(e.root,I.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function Ha(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ga(n){return"object"==typeof n&&null!=n&&n.outlets}function ec(n,e,t,r,i){let c,u={};r&&er(r,(_,I)=>{u[I]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),c=n===e?t:Ig(n,e,t);const p=Jo(Vi(c));return new ja(p,u,i)}function Ig(n,e,t){const r={};return er(n.children,(i,u)=>{r[u]=i===e?t:Ig(i,e,t)}),new jt(n.segments,r)}class tc{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ha(r[0]))throw new h.vHH(4003,!1);const i=r.find(Ga);if(i&&i!==gg(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function za(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return qa(n,e,t);const r=function o_(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(Ga(p))break;const _=`${p}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&I&&"object"==typeof I&&void 0===I.outlets){if(!Dd(_,I,c))return u;r+=2}else{if(!Dd(_,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new jt(n.segments.slice(0,r.pathIndex),{});return u.children[Mt]=new jt(n.segments.slice(r.pathIndex),n.children),qa(u,0,i)}return r.match&&0===i.length?new jt(n.segments,{}):r.match&&!n.hasChildren()?xn(n,e,t):r.match?qa(n,0,i):xn(n,e,t)}function qa(n,e,t){if(0===t.length)return new jt(n.segments,{});{const r=function bd(n){return Ga(n[0])?n[0].outlets:{[Mt]:n}}(t),i={};return er(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=za(n.children[c],e,u))}),er(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new jt(n.segments,i)}}function xn(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Ga(u)){const _=vf(u.outlets);return new jt(r,_)}if(0===i&&Ha(t[0])){r.push(new vd(n.segments[e].path,Dg(t[0]))),i++;continue}const c=Ga(u)?u.outlets[Mt]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&Ha(p)?(r.push(new vd(c,Dg(p))),i+=2):(r.push(new vd(c,{})),i++)}return new jt(r,{})}function vf(n){const e={};return er(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=xn(new jt([],{}),0,t))}),e}function Dg(n){const e={};return er(n,(t,r)=>e[r]=`${t}`),e}function Dd(n,e,t){return n==t.path&&Ci(e,t.parameters)}class $s{constructor(e,t){this.id=e,this.url=t}}class wf extends $s{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ls extends $s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cd extends $s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ef extends $s{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class a_ extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h0 extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f0 extends $s{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nc extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Td extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ad{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class If{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u_{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Md{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cg{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=rc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ku(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ku(e,this._root).map(t=>t.value)}}function rc(n,e){if(n===e.value)return e;for(const t of e.children){const r=rc(n,t);if(r)return r}return null}function Ku(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ku(n,t);if(r.length)return r.unshift(e),r}return[]}class Ui{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bi(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Df extends bf{constructor(e,t){super(e),this.snapshot=t,mr(this,e)}toString(){return this.snapshot.toString()}}function Nd(n,e){const t=function cs(n,e){const c=new Hs([],{},{},"",{},Mt,e,null,n.root,-1,{});return new Pd("",new Ui(c,[]))}(n,e),r=new wn([new vd("",{})]),i=new wn({}),u=new wn({}),c=new wn({}),p=new wn(""),_=new yo(r,i,c,p,u,Mt,e,t.root);return _.snapshot=t.root,new Df(new Ui(_,[]),t)}class yo{constructor(e,t,r,i,u,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,at.U)(I=>I[Fi]))??ot(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(e=>si(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(e=>si(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Od(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hs{constructor(e,t,r,i,u,c,p,_,I,T,M,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.title=this.data?.[Fi],this.routeConfig=_,this._urlSegment=I,this._lastPathIndex=T,this._correctedLastPathIndex=L??T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=si(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=si(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pd extends bf{constructor(e,t){super(t),this.url=e,mr(this,t)}toString(){return kd(this._root)}}function mr(n,e){e.value._routerState=n,e.children.forEach(t=>mr(n,t))}function kd(n){const e=n.children.length>0?` { ${n.children.map(kd).join(", ")} } `:"";return`${n.value}${e}`}function ic(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ci(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ci(e.params,t.params)||n.params.next(t.params),function ho(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ci(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ci(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fd(n,e){const t=Ci(n.params,e.params)&&function Ql(n,e){return po(n,e)&&n.every((t,r)=>Ci(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Fd(n.parent,e.parent))}function _o(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Tg(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _o(n,r,i);return _o(n,r)})}(n,e,t);return new Ui(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>_o(n,p)),c}}const r=function Sg(n){return new yo(new wn(n.url),new wn(n.params),new wn(n.queryParams),new wn(n.fragment),new wn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>_o(n,u));return new Ui(r,i)}}const Cf="ngNavigationCancelingError";function Zu(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=js(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ag(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Ag(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Cf]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Tf(n){return Mg(n)&&js(n.url)}function Mg(n){return n&&n[Cf]}class xg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new y,this.attachRef=null}}let y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xg,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f=!1;let m=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=i||Mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,f);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,f);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,f);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,f);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new w(t,p,i.injector);if(r&&function A(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(c);this.activated=i.createComponent(I,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(y),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class w{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yo?this.route:e===y?this.childContexts:this.parent.get(e,t)}}let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[m],encapsulation:2}),n})();function K(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ld(n){const e=n.children&&n.children.map(Ld),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mt&&(t.component=R),t}function ai(n){return n.outlet||Mt}function sc(n,e){const t=n.filter(r=>ai(r)===e);return t.push(...n.filter(r=>ai(r)!==e)),t}function oc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Vd{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ic(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Bi(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),er(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Bi(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Bi(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Bi(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Cg(u.value.snapshot))}),e.children.length&&this.forwardEvent(new u_(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(ic(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),ic(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=oc(i.snapshot),_=p?.get(h._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Rg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ac{constructor(e,t){this.component=e,this.route=t}}function l_(n,e,t){const r=n._root;return uc(r,e?e._root:null,t,[r.value])}function Wa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function uc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Bi(e);return n.children.forEach(c=>{(function g0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const _=function c_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!po(n.url,e.url);case"pathParamsOrQueryParamsChange":return!po(n.url,e.url)||!Ci(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fd(n,e)||!Ci(n.queryParams,e.queryParams);default:return!Fd(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Rg(r)):(u.data=c.data,u._resolvedData=c._resolvedData),uc(n,e,u.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new ac(p.outlet.component,c))}else c&&Ud(e,p,i),i.canActivateChecks.push(new Rg(r)),uc(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),er(u,(c,p)=>Ud(c,t.getContext(p),i)),i}function Ud(n,e,t){const r=Bi(n),i=n.value;er(r,(u,c)=>{Ud(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new ac(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bd(n){return"function"==typeof n}function Og(n){return n instanceof ka||"EmptyError"===n?.name}const Pg=Symbol("INITIAL_VALUE");function jd(){return Hn(n=>Wo(n.map(e=>e.pipe(mn(1),qu(Pg)))).pipe((0,at.U)(e=>{for(const t of e)if(!0!==t){if(t===Pg)return Pg;if(!1===t||t instanceof ja)return t}return!0}),D(e=>e!==Pg),mn(1)))}function ui(n){return(0,Yl.z)((0,Re.b)(e=>{if(js(e))throw Zu(0,e)}),(0,at.U)(e=>!0===e))}const kg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fg(n,e,t,r,i){const u=Pr(n,e,t);return u.matched?function p_(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ot(i.map(c=>{const p=Wa(c,n);return Li(function ND(n){return n&&Bd(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(jd(),ui()):ot(!0)}(r=K(e,r),e,t).pipe((0,at.U)(c=>!0===c?u:{...kg})):ot(u)}function Pr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...kg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Yo)(t,n,e);if(!i)return{...kg};const u={};er(i.posParams,(p,_)=>{u[_]=p.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Qu(n,e,t,r,i="corrected"){if(t.length>0&&function jD(n,e,t){return t.some(r=>Lg(n,e,r)&&ai(r)!==Mt)}(n,t,r)){const c=new jt(e,function BD(n,e,t,r){const i={};i[Mt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ai(u)!==Mt){const c=new jt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[ai(u)]=c}return i}(n,e,r,new jt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function v0(n,e,t){return t.some(r=>Lg(n,e,r))}(n,t,r)){const c=new jt(n.segments,function _0(n,e,t,r,i,u){const c={};for(const p of r)if(Lg(n,t,p)&&!i[ai(p)]){const _=new jt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[ai(p)]=_}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new jt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Lg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function g_(n,e,t,r){return!!(ai(n)===r||r!==Mt&&Lg(e,t,n))&&("**"===n.path||Pr(e,n,t).matched)}function w0(n,e,t){return 0===e.length&&!n.children[t]}const Af=!1;class Vg{constructor(e){this.segmentGroup=e||null}}class E0{constructor(e){this.urlTree=e}}function Mf(n){return Yr(new Vg(n))}function I0(n){return Yr(new E0(n))}class HD{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=Qu(this.urlTree.root,[],[],this.config).segmentGroup,t=new jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Mt).pipe((0,at.U)(u=>this.createUrlTree(Vi(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(et(u=>{if(u instanceof E0)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Vg?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Mt).pipe((0,at.U)(i=>this.createUrlTree(Vi(i),e.queryParams,e.fragment))).pipe(et(i=>{throw i instanceof Vg?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,Af)}createUrlTree(e,t,r){const i=Jo(e);return new ja(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,at.U)(u=>new jt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,un.D)(i).pipe(be(u=>{const c=r.children[u],p=sc(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,at.U)(_=>({segment:_,outlet:u})))}),At((u,c)=>(u[c.outlet]=c.segment,u),{}),En())}expandSegment(e,t,r,i,u,c){return(0,un.D)(r).pipe(be(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(et(I=>{if(I instanceof Vg)return ot(null);throw I}))),re(p=>!!p),et((p,_)=>{if(Og(p))return w0(t,i,u)?ot(new jt([],{})):Mf(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return g_(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Mf(t):Mf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?I0(u):this.lineralizeSegments(r,u).pipe((0,C.z)(c=>{const p=new jt(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:_,remainingSegments:I,positionalParamSegments:T}=Pr(t,i,u);if(!p)return Mf(t);const M=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?I0(M):this.lineralizeSegments(i,M).pipe((0,C.z)(L=>this.expandSegment(e,t,r,L.concat(I),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=K(r,e),r.loadChildren?(r._loadedRoutes?ot({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,at.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new jt(i,{})))):ot(new jt(i,{}))):Fg(t,r,i,e).pipe(Hn(({matched:c,consumedSegments:p,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,C.z)(T=>{const M=T.injector??e,L=T.routes,{segmentGroup:G,slicedSegments:Z}=Qu(t,p,_,L),ue=new jt(G.segments,G.children);if(0===Z.length&&ue.hasChildren())return this.expandChildren(M,L,ue).pipe((0,at.U)(mt=>new jt(p,mt)));if(0===L.length&&0===Z.length)return ot(new jt(p,{}));const Ie=ai(r)===u;return this.expandSegment(M,ue,L,Z,Ie?Mt:u,!0).pipe((0,at.U)(rt=>new jt(p.concat(rt.segments),rt.children)))})):Mf(t)))}getChildConfig(e,t,r){return t.children?ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function UD(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ot(!0):ot(i.map(c=>{const p=Wa(c,n);return Li(function d_(n){return n&&Bd(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(jd(),ui())}(e,t,r).pipe((0,C.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Re.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function $d(n){return Yr(Ag(Af,3))}())):ot({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ot(r);if(i.numberOfChildren>1||!i.children[Mt])return Yr(new h.vHH(4e3,Af));i=i.children[Mt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new ja(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return er(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return er(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,r,i)}),new jt(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,Af);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class vM{}class Xo{constructor(e,t,r,i,u,c,p,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p,this.urlSerializer=_}recognize(){const e=Qu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Mt).pipe((0,at.U)(t=>{if(null===t)return null;const r=new Hs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ui(r,t),u=new Pd(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Rd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,un.D)(Object.keys(r.children)).pipe(be(i=>{const u=r.children[i],c=sc(t,i);return this.processSegmentGroup(e,c,u,i)}),At((i,u)=>i&&u?(i.push(...u),i):null),function gr(n,e=!1){return(0,Ir.e)((t,r)=>{let i=0;t.subscribe((0,Xn.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),x(null),En(),(0,at.U)(i=>{if(null===i)return null;const u=v_(i);return function y_(n){n.sort((e,t)=>e.value.outlet===Mt?-1:t.value.outlet===Mt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,un.D)(t).pipe(be(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),re(c=>!!c),et(c=>{if(Og(c))return w0(r,i,u)?ot([]):ot(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!g_(t,r,i,u))return ot(null);let c;if("**"===t.path){const p=i.length>0?gg(i).parameters:{},_=D0(r)+i.length;c=ot({snapshot:new Hs(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ug(t),ai(t),t.component??t._loadedComponent??null,t,Hd(r),_,Bg(t),_),consumedSegments:[],remainingSegments:[]})}else c=Fg(r,t,i,e).pipe((0,at.U)(({matched:p,consumedSegments:_,remainingSegments:I,parameters:T})=>{if(!p)return null;const M=D0(r)+_.length;return{snapshot:new Hs(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ug(t),ai(t),t.component??t._loadedComponent??null,t,Hd(r),M,Bg(t),M),consumedSegments:_,remainingSegments:I}}));return c.pipe(Hn(p=>{if(null===p)return ot(null);const{snapshot:_,consumedSegments:I,remainingSegments:T}=p;e=t._injector??e;const M=t._loadedInjector??e,L=function __(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:G,slicedSegments:Z}=Qu(r,I,T,L.filter(Ie=>void 0===Ie.redirectTo),this.relativeLinkResolution);if(0===Z.length&&G.hasChildren())return this.processChildren(M,L,G).pipe((0,at.U)(Ie=>null===Ie?null:[new Ui(_,Ie)]));if(0===L.length&&0===Z.length)return ot([new Ui(_,[])]);const ue=ai(t)===u;return this.processSegment(M,L,G,Z,ue?Mt:u).pipe((0,at.U)(Ie=>null===Ie?null:[new Ui(_,Ie)]))}))}}function zD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function v_(n){const e=[],t=new Set;for(const r of n){if(!zD(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=v_(r.children);e.push(new Ui(r.value,i))}return e.filter(r=>!t.has(r))}function Hd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function D0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ug(n){return n.data||{}}function Bg(n){return n.resolve||{}}function jg(n){return"string"==typeof n.title||null===n.title}function E_(n){return Hn(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,at.U)(()=>e)):ot(e)})}let A0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Mt);return r}getResolvedTitleForRoute(t){return t.data[Fi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(M0)},providedIn:"root"}),n})(),M0=(()=>{class n extends A0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ss))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KD{}class x0 extends class ZD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const xf=new h.OlP("",{providedIn:"root",factory:()=>({})}),b_=new h.OlP("ROUTES");let D_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Li(t.loadComponent()).pipe((0,Re.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Us(()=>{this.componentLoaders.delete(t)})),i=new us(r,()=>new $n.x).pipe(Vs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ot({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,at.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,I,T=!1;Array.isArray(p)?I=p:(_=p.create(t).injector,I=pg(_.get(b_,[],h.XFs.Self|h.XFs.Optional)));return{routes:I.map(Ld),injector:_}}),Us(()=>{this.childrenLoaders.delete(r)})),c=new us(u,()=>new $n.x).pipe(Vs());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Li(t()).pipe((0,C.z)(r=>r instanceof h.YKP||Array.isArray(r)?ot(r):(0,un.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class N0{}class R0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function O0(n){throw n}function P0(n,e,t){return e.parse("/")}const YD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function k0(){const n=(0,h.f3M)(df),e=(0,h.f3M)(y),t=(0,h.f3M)(Me),r=(0,h.f3M)(h.zs3),i=(0,h.f3M)(h.Sil),u=(0,h.f3M)(b_,{optional:!0})??[],c=(0,h.f3M)(xf,{optional:!0})??{},p=(0,h.f3M)(M0),_=(0,h.f3M)(A0,{optional:!0}),I=(0,h.f3M)(N0,{optional:!0}),T=(0,h.f3M)(KD,{optional:!0}),M=new br(null,n,e,t,r,i,pg(u));return I&&(M.urlHandlingStrategy=I),T&&(M.routeReuseStrategy=T),M.titleStrategy=_??p,function Hg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,M),M}let br=(()=>{class n{constructor(t,r,i,u,c,p,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $n.x,this.errorHandler=O0,this.malformedUriErrorHandler=P0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ot(void 0),this.urlHandlingStrategy=new R0,this.routeReuseStrategy=new x0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(D_),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new Ad(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new Sd(L)),this.ngModule=c.get(h.h0i),this.console=c.get(h.c2e);const M=c.get(h.R0b);this.isNgZoneEnabled=M instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function mg(){return new ja(new jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Nd(this.currentUrlTree,this.rootComponentType),this.transitions=new wn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(D(i=>0!==i.id),(0,at.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Hn(i=>{let u=!1,c=!1;return ot(i).pipe((0,Re.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hn(p=>{const _=this.browserUrlTree.toString(),I=!this.navigated||p.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return C_(p.source)&&(this.browserUrlTree=p.extractedUrl),ot(p).pipe(Hn(M=>{const L=this.transitions.getValue();return r.next(new wf(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),L!==this.transitions.getValue()?as.E:Promise.resolve(M)}),function GD(n,e,t,r){return Hn(i=>function Ka(n,e,t,r,i){return new HD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,at.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Re.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},i.urlAfterRedirects=M.urlAfterRedirects}),function T0(n,e,t,r,i,u){return(0,C.z)(c=>function wM(n,e,t,r,i,u,c="emptyOnly",p="legacy"){return new Xo(n,e,t,r,i,c,p,u).recognize().pipe(Hn(_=>null===_?function b0(n){return new Rr.y(e=>e.error(n))}(new vM):ot(_)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,u).pipe((0,at.U)(p=>({...c,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Re.b)(M=>{if(i.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(G,M)}this.browserUrlTree=M.urlAfterRedirects}const L=new a_(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(L)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:G,source:Z,restoredState:ue,extras:Ie}=p,We=new wf(L,this.serializeUrl(G),Z,ue);r.next(We);const rt=Nd(G,this.rootComponentType).snapshot;return ot(i={...p,targetSnapshot:rt,urlAfterRedirects:G,extras:{...Ie,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),as.E}),(0,Re.b)(p=>{const _=new h0(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),(0,at.U)(p=>i={...p,guards:l_(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function OD(n,e){return(0,C.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?ot({...t,guardsResult:!0}):function PD(n,e,t,r){return(0,un.D)(n).pipe((0,C.z)(i=>function VD(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ot(u.map(p=>{const _=oc(e)??i,I=Wa(p,_);return Li(function Sf(n){return n&&Bd(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):_.runInContext(()=>I(n,e,t,r))).pipe(re())})).pipe(jd()):ot(!0)}(i.component,i.route,t,e,r)),re(i=>!0!==i,!0))}(c,r,i,n).pipe((0,C.z)(p=>p&&function m0(n){return"boolean"==typeof n}(p)?function f_(n,e,t,r){return(0,un.D)(e).pipe(be(i=>Fs(function FD(n,e){return null!==n&&e&&e(new If(n)),ot(!0)}(i.route.parent,r),function kD(n,e){return null!==n&&e&&e(new Md(n)),ot(!0)}(i.route,r),function y0(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function p0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Di(()=>ot(c.guards.map(_=>{const I=oc(c.node)??t,T=Wa(_,I);return Li(function h_(n){return n&&Bd(n.canActivateChild)}(T)?T.canActivateChild(r,n):I.runInContext(()=>T(r,n))).pipe(re())})).pipe(jd())));return ot(u).pipe(jd())}(n,i.path,t),function LD(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ot(!0);const i=r.map(u=>Di(()=>{const c=oc(e)??t,p=Wa(u,c);return Li(function xD(n){return n&&Bd(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(re())}));return ot(i).pipe(jd())}(n,i.route,t))),re(i=>!0!==i,!0))}(r,u,n,e):ot(p)),(0,at.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Re.b)(p=>{if(i.guardsResult=p.guardsResult,js(p.guardsResult))throw Zu(0,p.guardsResult);const _=new f0(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(_)}),D(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),E_(p=>{if(p.guards.canActivateChecks.length)return ot(p).pipe((0,Re.b)(_=>{const I=new nc(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(I)}),Hn(_=>{let I=!1;return ot(_).pipe(function EM(n,e){return(0,C.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ot(t);let u=0;return(0,un.D)(i).pipe(be(c=>function Gd(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!jg(i)&&(u[Fi]=i.title),function w_(n,e,t,r){const i=function S0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ot({});const u={};return(0,un.D)(i).pipe((0,C.z)(c=>function WD(n,e,t,r){const i=oc(e)??r,u=Wa(n,i);return Li(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(re(),(0,Re.b)(p=>{u[c]=p}))),ht(1),function Zo(n){return(0,at.U)(()=>n)}(u),et(c=>Og(c)?as.E:Yr(c)))}(u,n,e,r).pipe((0,at.U)(c=>(n._resolvedData=c,n.data=Rd(n,t).resolve,i&&jg(i)&&(n.data[Fi]=i.title),null)))}(c.route,r,n,e)),(0,Re.b)(()=>u++),ht(1),(0,C.z)(c=>u===i.length?ot(t):as.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Re.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Re.b)(_=>{const I=new Td(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(I)}))}),E_(p=>{const _=I=>{const T=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,Re.b)(M=>{I.component=M}),(0,at.U)(()=>{})));for(const M of I.children)T.push(..._(M));return T};return Wo(_(p.targetSnapshot.root)).pipe(x(),mn(1))}),E_(()=>this.afterPreactivation()),(0,at.U)(p=>{const _=function oi(n,e,t){const r=_o(n,e._root,t?t._root:void 0);return new Df(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:_}}),(0,Re.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,at.U)(r=>(new Vd(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Re.b)({next(){u=!0},complete(){u=!0}}),Us(()=>{u||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),et(p=>{if(c=!0,Mg(p)){Tf(p)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new Cd(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(r.next(_),Tf(p)){const I=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||C_(i.source)};this.scheduleNavigation(I,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Ef(i.id,this.serializeUrl(i.extractedUrl),p,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(p))}catch(I){i.reject(I)}}return as.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const p={...u};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Ld),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:_}=r,I=i||this.routerState.root,T=_?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M={...this.currentUrlTree.queryParams,...u};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),d0(I,this.currentUrlTree,t,M,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=js(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function F0(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...YD}:!1===r?{...bM}:r,js(t))return Qy(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Qy(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ls(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let p,_,I;c?(p=c.resolve,_=c.reject,I=c.promise):I=new Promise((L,G)=>{p=L,_=G});const T=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:T,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:p,reject:_,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const u=new Cd(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:function(){return k0()},providedIn:"root"}),n})();function C_(n){return"imperative"!==n}let lc=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new $n.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(br),h.Y36(yo),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})(),Nf=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new $n.x,this.subscription=t.events.subscribe(u=>{u instanceof ls&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,c){return!!(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(br),h.Y36(yo),h.Y36(ye))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})();class T_{}let S_=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(D(t=>t instanceof ls),be(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,p=u._loadedInjector??c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(p,u.children??u._loadedRoutes))}return(0,un.D)(i).pipe((0,zu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ot(null);const u=i.pipe((0,C.z)(c=>null===c?ot(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,un.D)([u,c]).pipe((0,zu.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(br),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(T_),h.LFG(D_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cc=new h.OlP("");let V0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ls&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Or&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Or(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function dc(n,e){return{\u0275kind:n,\u0275providers:e}}function Of(n){return[{provide:b_,multi:!0,useValue:n}]}function XD(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(br),i=n.get(A_);1===n.get(M_)&&r.initialNavigation(),n.get(Gs,null,h.XFs.Optional)?.setUpPreloading(),n.get(cc,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const A_=new h.OlP("",{factory:()=>new $n.x}),M_=new h.OlP("",{providedIn:"root",factory:()=>1});const Gs=new h.OlP("");function nC(n){return dc(0,[{provide:Gs,useExisting:S_},{provide:T_,useExisting:n}])}const j0=new h.OlP("ROUTER_FORROOT_GUARD"),iC=[Me,{provide:df,useClass:wd},{provide:br,useFactory:k0},y,{provide:yo,useFactory:function U0(n){return n.routerState.root},deps:[br]},D_];function $0(){return new h.PXZ("Router",br)}let H0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[iC,[],Of(t),{provide:j0,useFactory:G0,deps:[[br,new h.FiY,new h.tp0]]},{provide:xf,useValue:r||{}},r?.useHash?{provide:ye,useClass:it}:{provide:ye,useClass:Ze},{provide:cc,useFactory:()=>{const n=(0,h.f3M)(br),e=(0,h.f3M)(mu),t=(0,h.f3M)(xf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new V0(n,e,t)}},r?.preloadingStrategy?nC(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:$0},r?.initialNavigation?z0(r):[],[{provide:x_,useFactory:XD},{provide:h.tb,multi:!0,useExisting:x_}]]}}static forChild(t){return{ngModule:n,providers:[Of(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(j0,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[R]}),n})();function G0(n){return"guarded"}function z0(n){return["disabled"===n.initialNavigation?dc(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(br);return()=>{e.setUpLocationChangeListener()}}},{provide:M_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?dc(2,[{provide:M_,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(B,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const c=e.get(br),p=e.get(A_);(function i(u){e.get(br).events.pipe(D(p=>p instanceof ls||p instanceof Cd||p instanceof Ef),(0,at.U)(p=>p instanceof ls||p instanceof Cd&&(0===p.code||1===p.code)&&null),D(p=>null!==p),mn(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),c.afterPreactivation=()=>(u(!0),r||p.closed?ot(void 0):p),c.initialNavigation()}))}}]).\u0275providers:[]]}const x_=new h.OlP("");let q0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-acerca"]],decls:35,vars:0,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"container-xxl","py-5"],[1,"container"],[1,"row","g-20","align-items-end"],["data-wow-delay","0.90s",1,"col-lg-3","col-md-11","wow","fadeInUp"],["data-wow-delay","0.20s","src","/assets/foto.jpg",1,"img-fluid","img-thumbnail","rounded",2,"max-width","100%","height","380px"],["data-wow-delay","0.3s",1,"col-lg-6","col-md-7","wow","fadeInUp"],[1,"display-1","mb-1"],[1,"mb-4"],[1,"display-5","mb-4"],["href","",1,"btn","btn-primary","py-3","px-4"],["data-wow-delay","0.5s",1,"col-lg-3","col-md-12","wow","fadeInUp"],[1,"row","g-5"],[1,"col-12","col-sm-6","col-lg-12"],[1,"border-start","ps-4"],[1,"fa","fa-award","fa-3x","mb-3"],[1,"mb-3"],[1,"fa-brands","fa-3x","fa-angular"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),h._UZ(7,"img",7),h.qZA(),h.TgZ(8,"div",8)(9,"h1",9),h._uU(10,"3"),h.qZA(),h.TgZ(11,"p",10),h._uU(12,"A\xf1os desarrollando software"),h.qZA(),h.TgZ(13,"h1",11),h._uU(14,"Ingenier\xeda en desarrollo y gesti\xf3n de software"),h.qZA(),h.TgZ(15,"p",10),h._uU(16,"Martin Pe\xf1a Anzaldo, estudiante de ingenier\xeda en desarrollo y gesti\xf3n de software en la Universidad Tecnol\xf3gica de Nezahualc\xf3yotl (UTN). "),h.qZA(),h.TgZ(17,"a",12),h._uU(18,"Mas informacion"),h.qZA()(),h.TgZ(19,"div",13)(20,"div",14)(21,"div",15)(22,"div",16),h._UZ(23,"i",17),h.TgZ(24,"h4",18),h._uU(25,"Titulo"),h.qZA(),h.TgZ(26,"span"),h._uU(27,"TSU en desarrollo de software multiplataforma."),h.qZA()()(),h.TgZ(28,"div",15)(29,"div",16),h._UZ(30,"i",19),h.TgZ(31,"h4",18),h._uU(32,"Herramientas utilizadas"),h.qZA(),h.TgZ(33,"span"),h._uU(34,"Angular 14 y Firebase"),h.qZA()()()()()()()()()()())}}),n})(),N_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),hc=(()=>{class n extends N_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const ta=new h.OlP("NgValueAccessor"),W0={provide:ta,useExisting:(0,h.Gpc)(()=>zd),multi:!0},lC=new h.OlP("CompositionEventMode");let zd=(()=>{class n extends N_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fc(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(lC,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([W0]),h.qOj]}),n})();function Ju(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function cC(n){return null!=n&&"number"==typeof n.length}const Si=new h.OlP("NgValidators"),pc=new h.OlP("NgAsyncValidators"),dC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pf{static min(e){return function hC(n){return e=>{if(Ju(e.value)||Ju(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function K0(n){return e=>{if(Ju(e.value)||Ju(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function gc(n){return Ju(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Z0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function P_(n){return Ju(n.value)||dC.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function kf(n){return e=>Ju(e.value)||!cC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Y0(n){return e=>cC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function k_(n){if(!n)return Wg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ju(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return F_(e)}static composeAsync(e){return Zg(e)}}function Wg(n){return null}function Q0(n){return null!=n}function J0(n){return(0,h.QGY)(n)?(0,un.D)(n):n}function X0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function eE(n,e){return e.map(t=>t(n))}function nE(n){return n.map(e=>function tE(n){return!n.validate}(e)?e:t=>e.validate(t))}function F_(n){if(!n)return null;const e=n.filter(Q0);return 0==e.length?null:function(t){return X0(eE(t,e))}}function Kg(n){return null!=n?F_(nE(n)):null}function Zg(n){if(!n)return null;const e=n.filter(Q0);return 0==e.length?null:function(t){return function uC(...n){const e=(0,Ii.jO)(n),{args:t,keys:r}=Fa(n),i=new Rr.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let _=c,I=c;for(let T=0;T<c;T++){let M=!1;(0,Ls.Xf)(t[T]).subscribe((0,Xn.x)(u,L=>{M||(M=!0,I--),p[T]=L},()=>_--,void 0,()=>{(!_||!M)&&(I||u.next(r?qo(r,p):p),u.complete())}))}});return e?i.pipe(Va(e)):i}(eE(t,e).map(J0)).pipe((0,at.U)(X0))}}function rE(n){return null!=n?Zg(nE(n)):null}function Yg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iE(n){return n._rawValidators}function fC(n){return n._rawAsyncValidators}function Xu(n){return n?Array.isArray(n)?n:[n]:[]}function Ff(n,e){return Array.isArray(n)?n.includes(e):n===e}function L_(n,e){const t=Xu(e);return Xu(n).forEach(i=>{Ff(t,i)||t.push(i)}),t}function Lf(n,e){return Xu(e).filter(t=>!Ff(n,t))}class zs{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Kg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class li extends zs{get formDirective(){return null}get path(){return null}}class el extends zs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qg{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let V_=(()=>{class n extends Qg{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(el,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),Vf=(()=>{class n extends Qg{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(li,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const Wd="VALID",em="INVALID",nl="PENDING",tm="DISABLED";function cE(n){return(B_(n)?n.validators:n)||null}function mC(n){return Array.isArray(n)?Kg(n):n||null}function dE(n,e){return(B_(e)?e.asyncValidators:n)||null}function yC(n){return Array.isArray(n)?rE(n):n||null}function B_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function _C(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function vC(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,"")})}class j_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=mC(this._rawValidators),this._composedAsyncValidatorFn=yC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wd}get invalid(){return this.status===em}get pending(){return this.status==nl}get disabled(){return this.status===tm}get enabled(){return this.status!==tm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=mC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=yC(e)}addValidators(e){this.setValidators(L_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(L_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Lf(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Lf(e,this._rawAsyncValidators))}hasValidator(e){return Ff(this._rawValidators,e)}hasAsyncValidator(e){return Ff(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wd||this.status===nl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tm:Wd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nl,this._hasOwnPendingAsyncValidator=!0;const t=J0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?tm:this.errors?em:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nl)?nl:this._anyControlsHaveStatus(em)?em:Wd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){B_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class nm extends j_{constructor(e,t,r){super(cE(t),dE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vC(this,0,e),Object.keys(e).forEach(r=>{_C(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class fE extends nm{}function Zd(n,e){im(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function EC(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gE(n,e)})}(n,e),function IC(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pE(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function rl(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Yd(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function im(n,e){const t=iE(n);null!==e.validator?n.setValidators(Yg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=fC(n);null!==e.asyncValidator?n.setAsyncValidators(Yg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();rm(e._rawValidators,i),rm(e._rawAsyncValidators,i)}function sm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=iE(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=fC(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return rm(e._rawValidators,r),rm(e._rawAsyncValidators,r),t}function gE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function G_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function wE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Xd=class extends j_{constructor(e=null,t,r){super(cE(t),dE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=wE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){G_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){G_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let cm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const AC={provide:ta,useExisting:(0,h.Gpc)(()=>dm),multi:!0};let dm=(()=>{class n extends hc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([AC]),h.qOj]}),n})(),W_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const K_=new h.OlP("NgModelWithFormControlWarning"),CE={provide:li,useExisting:(0,h.Gpc)(()=>fm)};let fm=(()=>{class n extends li{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Zd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Yd(t.control||null,t,!1),function _E(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function um(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Yd(r||null,t),(n=>n instanceof Xd)(i)&&(Zd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Bf(n,e){im(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Qd(n,e){return sm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){im(this.form,this),this._oldForm&&sm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Si,10),h.Y36(pc,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([CE]),h.qOj,h.TTD]}),n})();const pm={provide:el,useExisting:(0,h.Gpc)(()=>$f)};let $f=(()=>{class n extends el{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function jf(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===zd?t=u:function yE(n){return Object.getPrototypeOf(n.constructor)===hc}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function am(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Kd(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(li,13),h.Y36(Si,10),h.Y36(pc,10),h.Y36(ta,10),h.Y36(K_,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([pm]),h.qOj,h.TTD]}),n})(),VC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[W_]}),n})(),VE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:K_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[VC]}),n})();class zf extends j_{constructor(e,t,r){super(cE(t),dE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vC(this,0,e),e.forEach((r,i)=>{_C(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function nh(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let UC=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return nh(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new nm(i,u)}record(t,r=null){const i=this._reduceControls(t);return new fE(i,r)}control(t,r,i){let u={};return this.useNonNullable?(nh(r)?u=r:(u.validators=r,u.asyncValidators=i),new Xd(t,{...u,nonNullable:!0})):new Xd(t,r,i)}array(t,r,i){const u=t.map(c=>this._createControl(c));return new zf(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Xd||t instanceof j_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:VE}),n})();var ra=k(4986),lr=k(5813);function kr(){return(0,Ir.e)((n,e)=>{let t,r=!1;n.subscribe((0,Xn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function vm(n,e){return n===e}var nt,nr=k(2011),rh=(k(2476),k(3942)),_e=k(5861),qs=k(9681),Za=k(4859),ds=k(1877),Gt=k(2090),ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hi={},wm=wm||{},Rt=ih||self;function qf(){}function Wf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function sh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Em="closure_uid_"+(1e9*Math.random()>>>0),$E=0;function HE(n,e,t){return n.call.apply(n.bind,arguments)}function BC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ci(n,e,t){return(ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HE:BC).apply(null,arguments)}function Kf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function il(){this.s=this.s,this.o=this.o}var rv={};il.prototype.s=!1,il.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function jE(n){return Object.prototype.hasOwnProperty.call(n,Em)&&n[Em]||(n[Em]=++$E)}(this);delete rv[n]}},il.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function oh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Zf(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Wf(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function Fr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Fr.prototype.h=function(){this.defaultPrevented=!0};var jC=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",qf,e),Rt.removeEventListener("test",qf,e)}catch{}return n}();function vc(n){return/^[\s\xa0]*$/.test(n)}var Yf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Im(n,e){return n<e?-1:n>e?1:0}function Qf(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function Ws(n){return-1!=Qf().indexOf(n)}function bm(n){return bm[" "](n),n}bm[" "]=qf;var Cm,n,iv=Ws("Opera"),wc=Ws("Trident")||Ws("MSIE"),qE=Ws("Edge"),Dm=qE||wc,sv=Ws("Gecko")&&!(-1!=Qf().toLowerCase().indexOf("webkit")&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),WE=-1!=Qf().toLowerCase().indexOf("webkit")&&!Ws("Edge");function ov(){var n=Rt.document;return n?n.documentMode:void 0}e:{var av="",uv=(n=Qf(),sv?/rv:([^\);]+)(\)|;)/.exec(n):qE?/Edge\/([\d\.]+)/.exec(n):wc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):WE?/WebKit\/(\S+)/.exec(n):iv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(uv&&(av=uv?uv[1]:""),wc){var Tm=ov();if(null!=Tm&&Tm>parseFloat(av)){Cm=String(Tm);break e}}Cm=av}var lv={};var ZE=Rt.document&&wc&&(ov()||parseInt(Cm,10))||void 0;function ah(n,e){if(Fr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(sv){e:{try{bm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:YE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ah.X.h.call(this)}}Qr(ah,Fr);var YE={2:"touch",3:"pen",4:"mouse"};ah.prototype.h=function(){ah.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var uh="closure_listenable_"+(1e6*Math.random()|0),QE=0;function GM(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++QE,this.ba=this.ea=!1}function Am(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function dv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function hv(n){const e={};for(const t in n)e[t]=n[t];return e}const JE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yr(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<JE.length;u++)t=JE[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Jf(n){this.src=n,this.g={},this.h=0}function fv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=GE(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Am(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pv(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}Jf.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=pv(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new GM(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var Mm="closure_lm_"+(1e6*Math.random()|0),gv={};function mv(n,e,t,r,i){if(r&&r.once)return XE(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)mv(n,e[u],t,r,i);return null}return t=ep(t),n&&n[uh]?n.N(e,t,sh(r)?!!r.capture:!!r,i):yv(n,e,t,!1,r,i)}function yv(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=sh(i)?!!i.capture:!!i,p=rI(n);if(p||(n[Mm]=p=new Jf(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function lh(){const e=nI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)jC||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(tI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function XE(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)XE(n,e[u],t,r,i);return null}return t=ep(t),n&&n[uh]?n.O(e,t,sh(r)?!!r.capture:!!r,i):yv(n,e,t,!0,r,i)}function eI(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)eI(n,e[u],t,r,i);else r=sh(r)?!!r.capture:!!r,t=ep(t),n&&n[uh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pv(u=n.g[e],t,r,i))&&(Am(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=rI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pv(e,t,r,i)),(t=-1<n?e[n]:null)&&xm(t))}function xm(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[uh])fv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(tI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=rI(e))?(fv(t,n),0==t.h&&(t.src=null,e[Mm]=null)):Am(n)}}}function tI(n){return n in gv?gv[n]:gv[n]="on"+n}function nI(n,e){if(n.ba)n=!0;else{e=new ah(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&xm(n),n=t.call(r,e)}return n}function rI(n){return(n=n[Mm])instanceof Jf?n:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function ep(n){return"function"==typeof n?n:(n[Xf]||(n[Xf]=function(e){return n.handleEvent(e)}),n[Xf])}function In(){il.call(this),this.i=new Jf(this),this.P=this,this.I=null}function Jr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Fr(e,n);else if(e instanceof Fr)e.target=e.target||n;else{var i=e;yr(e=new Fr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=tp(c,r,!0,e)&&i}if(i=tp(c=e.g=n,r,!0,e)&&i,i=tp(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=tp(c=e.g=t[u],r,!1,e)&&i}function tp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ba&&c.capture==t){var p=c.listener,_=c.ha||c.src;c.ea&&fv(n.i,c),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}Qr(In,il),In.prototype[uh]=!0,In.prototype.removeEventListener=function(n,e,t,r){eI(this,n,e,t,r)},In.prototype.M=function(){if(In.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Am(t[r]);delete n.g[e],n.h--}}this.I=null},In.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},In.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ks=Rt.JSON.stringify;function wo(){var n=ch;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vv,_v=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iI,n=>n.reset());class iI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $C(n){Rt.setTimeout(()=>{throw n},0)}function sI(n,e){vv||function HC(){var n=Rt.Promise.resolve(void 0);vv=function(){n.then(GC)}}(),np||(vv(),np=!0),ch.add(n,e)}var np=!1,ch=new class Eo{constructor(){this.h=this.g=null}add(e,t){const r=_v.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function GC(){for(var n;n=wo();){try{n.h.call(n.g)}catch(t){$C(t)}var e=_v;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}np=!1}function rp(n,e){In.call(this),this.h=n||1,this.g=e||Rt,this.j=ci(this.kb,this),this.l=Date.now()}function wv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Nm(n,e,t){if("function"==typeof n)t&&(n=ci(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ci(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function Ev(n){n.g=Nm(()=>{n.g=null,n.i&&(n.i=!1,Ev(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qr(rp,In),(nt=rp.prototype).ca=!1,nt.R=null,nt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Jr(this,"tick"),this.ca&&(wv(this),this.start()))}},nt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){rp.X.M.call(this),wv(this),delete this.g};class Rm extends il{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ev(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ip(n){il.call(this),this.h=n,this.g={}}Qr(ip,il);var Iv=[];function bv(n,e,t,r){Array.isArray(t)||(t&&(Iv[0]=t.toString()),t=Iv);for(var i=0;i<t.length;i++){var u=mv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Om(n){dv(n.g,function(e,t){this.g.hasOwnProperty(t)&&xm(e)},n),n.g={}}function Ec(){this.g=!0}function Ic(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Ks(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ip.prototype.M=function(){ip.X.M.call(this),Om(this)},ip.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ec.prototype.Aa=function(){this.g=!1},Ec.prototype.info=function(){};var sl={},Dv=null;function sp(){return Dv=Dv||new In}function cI(n){Fr.call(this,sl.Oa,n)}function op(n){const e=sp();Jr(e,new cI(e,n))}function dI(n,e){Fr.call(this,sl.STAT_EVENT,n),this.stat=e}function Ai(n){const e=sp();Jr(e,new dI(e,n))}function hI(n,e){Fr.call(this,sl.Pa,n),this.size=e}function ap(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}sl.Oa="serverreachability",Qr(cI,Fr),sl.STAT_EVENT="statevent",Qr(dI,Fr),sl.Pa="timingevent",Qr(hI,Fr);var Pm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},fI={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Cv(){}function gI(){}Cv.prototype.h=null;var Av,up={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Tv(){Fr.call(this,"d")}function Sv(){Fr.call(this,"c")}function km(){}function lp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ip(this),this.O=yI,this.T=new rp(n=Dm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new mI}function mI(){this.i=null,this.g="",this.h=!1}Qr(Tv,Fr),Qr(Sv,Fr),Qr(km,Cv),km.prototype.g=function(){return new XMLHttpRequest},km.prototype.i=function(){return{}},Av=new km;var yI=45e3,Fm={},cp={};function Lm(n,e,t){n.K=1,n.v=Ya(al(e)),n.s=t,n.P=!0,Mv(n,null)}function Mv(n,e){n.F=Date.now(),dh(n),n.A=al(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),bI(t.i,"t",r),n.C=0,t=n.l.H,n.h=new mI,n.g=UI(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Rm(ci(n.Ka,n,n.g),n.N)),bv(n.S,n.g,"readystatechange",n.hb),e=n.H?hv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),op(1),function oI(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),_=0;_<p.length;_++){var I=p[_].split("=");if(1<I.length){var T=I[0];I=I[1];var M=T.split("_");c=2<=M.length&&"type"==M[1]?c+(T+"=")+I+"&":c+(T+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function xv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Nv(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=_I(n,t),i==cp){4==e&&(n.o=4,Ai(14),r=!1),Ic(n.j,n.m,null,"[Incomplete Response]");break}if(i==Fm){n.o=4,Ai(15),Ic(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ic(n.j,n.m,i,null),Ov(n,i)}xv(n)&&i!=cp&&i!=Fm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ai(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),wp(e),e.K=!0,Ai(11))):(Ic(n.j,n.m,t,"[Invalid Chunked Response]"),bc(n),Io(n))}function _I(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?cp:(t=Number(e.substring(t,r)),isNaN(t)?Fm:(r+=1)+t>e.length?cp:(e=e.substr(r,t),n.C=r+t,e))}function dh(n){n.V=Date.now()+n.O,Rv(n,n.O)}function Rv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ap(ci(n.fb,n),e)}function hh(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function Io(n){0==n.l.G||n.I||$v(n.l,n)}function bc(n){hh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wv(n.T),Om(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ov(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||jm(t.h,n)))if(!n.J&&jm(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ep(t),zm(t)}jv(t),Ai(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=ap(ci(t.bb,t),6e3));if(1>=fp(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Cc(t,11)}else if((n.J||t.g==n)&&Ep(t),!vc(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.T=I[0],I=I[1],2==t.G)if("c"==I[0]){t.I=I[1],t.ka=I[2];const T=I[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const M=I[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const L=I[5];null!=L&&"number"==typeof L&&0<L&&(t.J=r=1.5*L,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const Z=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var u=r.h;u.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&($m(u,u.h),u.h=null))}if(r.D){const ue=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(r.za=ue,Ln(r.F,r.D,ue))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=Wm(r,r.H?r.ka:null,r.V),c.J){Fv(r.h,c);var p=c,_=r.J;_&&p.setTimeout(_),p.B&&(hh(p),dh(p)),r.g=c}else Bv(r);0<t.i.length&&qm(t)}else"stop"!=I[0]&&"close"!=I[0]||Cc(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Cc(t,7):Uv(t):"noop"!=I[0]&&t.l&&t.l.wa(I),t.A=0)}op(4)}catch{}}function Vm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function zM(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function fh(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(nt=lp.prototype).setTimeout=function(n){this.O=n},nt.hb=function(n){n=n.target;const e=this.L;e&&3==Ja(n)?e.l():this.Ka(n)},nt.Ka=function(n){try{if(n==this.g)e:{const T=Ja(this.g);var e=this.g.Ea();const M=this.g.aa();if(!(3>T)&&(3!=T||Dm||this.g&&(this.h.h||this.g.fa()||NI(this.g)))){this.I||4!=T||7==e||op(8==e||0>=M?3:2),hh(this);var t=this.g.aa();this.Y=t;t:if(xv(this)){var r=NI(this.g);n="";var i=r.length,u=4==Ja(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bc(this),Io(this);var c="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function aI(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vc(p)){var I=p;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,Ai(12),bc(this),Io(this);break e}Ic(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ov(this,t)}this.P?(Nv(this,T,c),Dm&&this.i&&3==T&&(bv(this.S,this.T,"tick",this.gb),this.T.start())):(Ic(this.j,this.m,c,null),Ov(this,c)),4==T&&bc(this),this.i&&!this.I&&(4==T?$v(this.l,this):(this.i=!1,dh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),bc(this),Io(this)}}}catch{}},nt.gb=function(){if(this.g){var n=Ja(this.g),e=this.g.fa();this.C<e.length&&(hh(this),Nv(this,n,e),this.i&&4!=n&&dh(this))}},nt.cancel=function(){this.I=!0,bc(this)},nt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function uI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(op(3),Ai(17)),bc(this),this.o=2,Io(this)):Rv(this,this.V-n)};var zC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ol(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ol){this.h=void 0!==e?e:n.h,yt(this,n.j),this.s=n.s,this.g=n.g,Um(this,n.m),this.l=n.l,e=n.i;var t=new ph;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),wI(this,t),this.o=n.o}else n&&(t=String(n).match(zC))?(this.h=!!e,yt(this,t[1]||"",!0),this.s=dp(t[2]||""),this.g=dp(t[3]||"",!0),Um(this,t[4]),this.l=dp(t[5]||"",!0),wI(this,t[6]||"",!0),this.o=dp(t[7]||"")):(this.h=!!e,this.i=new ph(null,this.h))}function al(n){return new ol(n)}function yt(n,e,t){n.j=t?dp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Um(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function wI(n,e,t){e instanceof ph?(n.i=e,function WC(n,e){e&&!n.j&&(Qa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Pv(this,r),bI(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ul(e,II)),n.i=new ph(e,n.h))}function Ln(n,e,t){n.i.set(e,t)}function Ya(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function dp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ul(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Bm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Bm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ol.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ul(e,Gn,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ul(e,Gn,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ul(t,"/"==t.charAt(0)?EI:qM,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ul(t,qC)),n.join("")};var Gn=/[#\/\?@]/g,qM=/[#\?:]/g,EI=/[#\?]/g,II=/[#\?@]/g,qC=/#/g;function ph(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qa(n){n.g||(n.g=new Map,n.h=0,n.i&&function vI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Pv(n,e){Qa(n),e=gh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function kv(n,e){return Qa(n),e=gh(n,e),n.g.has(e)}function bI(n,e,t){Pv(n,e),0<t.length&&(n.i=null,n.g.set(gh(n,e),oh(t)),n.h+=t.length)}function gh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function DI(n){this.l=n||KC,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=ph.prototype).add=function(n,e){Qa(this),this.i=null,n=gh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){Qa(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},nt.oa=function(){Qa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},nt.W=function(n){Qa(this);let e=[];if("string"==typeof n)kv(this,n)&&(e=e.concat(this.g.get(gh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nt.set=function(n,e){return Qa(this),this.i=null,kv(this,n=gh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var KC=10;function CI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function fp(n){return n.h?1:n.g?n.g.size:0}function jm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $m(n,e){n.g?n.g.add(e):n.h=e}function Fv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function TI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return oh(n.i)}function Dc(){}function pp(){this.g=new Dc}function ZC(n,e,t){const r=t||"";try{Vm(n,function(i,u){let c=i;sh(i)&&(c=Ks(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mh(n){this.l=n.$b||null,this.j=n.ib||!1}function gp(n,e){In.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Gm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}DI.prototype.cancel=function(){if(this.i=TI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Dc.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},Dc.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},Qr(mh,Cv),mh.prototype.g=function(){return new gp(this.l,this.j)},mh.prototype.i=function(n){return function(){return n}}({}),Qr(gp,In);var Gm=0;function SI(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function yh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mp(n)}function mp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=gp.prototype).open=function(n,e){if(this.readyState!=Gm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mp(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yh(this)),this.readyState=Gm},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mp(this)),this.g&&(this.readyState=3,mp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SI(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?yh(this):mp(this),3==this.readyState&&SI(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,yh(this))},nt.Ta=function(n){this.g&&(this.response=n,yh(this))},nt.ga=function(){this.g&&yh(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(gp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var QC=Rt.JSON.parse;function Dr(n){In.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=JC,this.K=this.L=!1}Qr(Dr,In);var JC="",WM=/^https?$/i,KM=["POST","PUT"];function yp(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,MI(n),_p(n)}function MI(n){n.D||(n.D=!0,Jr(n,"complete"),Jr(n,"error"))}function xI(n){if(n.h&&typeof wm<"u"&&(!n.C[1]||4!=Ja(n)||2!=n.aa()))if(n.v&&4==Ja(n))Nm(n.Ha,0,n);else if(Jr(n,"readystatechange"),4==Ja(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(zC)[1]||null;if(!i&&Rt.self&&Rt.self.location){var u=Rt.self.location.protocol;i=u.substr(0,u.length-1)}r=!WM.test(i?i.toLowerCase():"")}t=r}if(t)Jr(n,"complete"),Jr(n,"success");else{n.m=6;try{var c=2<Ja(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",MI(n)}}finally{_p(n)}}}function _p(n,e){if(n.g){_h(n);const t=n.g,r=n.C[0]?qf:null;n.g=null,n.C=null,e||Jr(n,"ready");try{t.onreadystatechange=r}catch{}}}function _h(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Ja(n){return n.g?n.g.readyState:0}function NI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case JC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function RI(n){let e="";return dv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Lv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=RI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function vp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Vv(n){this.Ca=0,this.i=[],this.j=new Ec,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=vp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=vp("baseRetryDelayMs",5e3,n),this.ab=vp("retryDelaySeedMs",1e4,n),this.Za=vp("forwardChannelMaxRetries",2,n),this.ta=vp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new DI(n&&n.concurrentRequestLimit),this.Fa=new pp,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Uv(n){if(vh(n),3==n.G){var e=n.U++,t=al(n.F);Ln(t,"SID",n.I),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),wh(n,t),(e=new lp(n,n.j,e,void 0)).K=2,e.v=Ya(al(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=UI(e.l,null),e.g.da(e.v)),e.F=Date.now(),dh(e)}VI(n)}function zm(n){n.g&&(wp(n),n.g.cancel(),n.g=null)}function vh(n){zm(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),Ep(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function qm(n){CI(n.h)||n.m||(n.m=!0,sI(n.Ja,n),n.C=0)}function PI(n,e){var t;t=e?e.m:n.U++;const r=al(n.F);Ln(r,"SID",n.I),Ln(r,"RID",t),Ln(r,"AID",n.T),wh(n,r),n.o&&n.s&&Lv(r,n.o,n.s),t=new lp(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=kI(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),$m(n.h,t),Lm(t,r,e)}function wh(n,e){n.ia&&dv(n.ia,function(t,r){Ln(e,r,t)}),n.l&&Vm({},function(t,r){Ln(e,r,t)})}function kI(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ci(n.l.Qa,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let _=0;_<t;_++){let I=i[_].h;const T=i[_].g;if(I-=u,0>I)u=Math.max(0,i[_].h-100),p=!1;else try{ZC(T,c,"req"+I+"_")}catch{r&&r(T)}}if(p){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Bv(n){n.g||n.u||(n.Z=1,sI(n.Ia,n),n.A=0)}function jv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=ap(ci(n.Ia,n),LI(n,n.A)),n.A++,0))}function wp(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function FI(n){n.g=new lp(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=al(n.sa);Ln(e,"RID","rpc"),Ln(e,"SID",n.I),Ln(e,"CI",n.L?"0":"1"),Ln(e,"AID",n.T),Ln(e,"TYPE","xmlhttp"),wh(n,e),n.o&&n.s&&Lv(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Ya(al(e)),t.s=null,t.P=!0,Mv(t,n)}function Ep(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function $v(n,e){var t=null;if(n.g==e){Ep(n),wp(n),n.g=null;var r=2}else{if(!jm(n.h,e))return;t=e.D,Fv(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Jr(r=sp(),new hI(r,t,e,i)),qm(n)}else Bv(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function OI(n,e){return!(fp(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=ap(ci(n.Ja,n,e),LI(n,n.C)),n.C++,0)))}(n,e)||2==r&&jv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Cc(n,5);break;case 4:Cc(n,10);break;case 3:Cc(n,6);break;default:Cc(n,2)}}function LI(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function Cc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ci(n.jb,n);t||(t=new ol("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||yt(t,"https"),Ya(t)),function YC(n,e){const t=new Ec;if(Rt.Image){const r=new Image;r.onload=Kf(Hm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Kf(Hm,t,r,"TestLoadImage: error",!1,e),r.onabort=Kf(Hm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kf(Hm,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ai(2);n.G=0,n.l&&n.l.va(e),VI(n),vh(n)}function VI(n){if(n.G=0,n.la=[],n.l){const e=TI(n.h);(0!=e.length||0!=n.i.length)&&(Zf(n.la,e),Zf(n.la,n.i),n.h.i.length=0,oh(n.i),n.i.length=0),n.l.ua()}}function Wm(n,e,t){var r=t instanceof ol?al(t):new ol(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Um(r,r.m);else{var i=Rt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new ol(null,void 0);r&&yt(u,r),e&&(u.g=e),i&&Um(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&Ln(r,t,e),Ln(r,"VER",n.ma),wh(n,r),r}function UI(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dr(t&&n.Da&&!n.ra?new mh({ib:!0}):n.ra)).L=n.H,e}function Hv(){}function Km(){if(wc&&!(10<=Number(ZE)))throw Error("Environmental error: no available transport.")}function hs(n,e){In.call(this),this.g=new Vv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!vc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vc(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Eh(this)}function BI(n){Tv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function jI(){Sv.call(this),this.status=1}function Eh(n){this.g=n}(nt=Dr.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Av.g(),this.C=function pI(n){return n.h||(n.h=n.i())}(this.u?this.u:Av),this.g.onreadystatechange=ci(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void yp(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Rt.FormData&&n instanceof Rt.FormData,!(0<=GE(KM,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_h(this),0<this.B&&((this.K=function AI(n){return wc&&function KE(){return function zE(n){var e=lv;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Yf(String(Cm)).split("."),t=Yf("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=Im(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Im(0==i[2].length,0==u[2].length)||Im(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ci(this.qa,this)):this.A=Nm(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){yp(this,u)}},nt.qa=function(){typeof wm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jr(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Jr(this,"complete"),Jr(this,"abort"),_p(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_p(this,!0)),Dr.X.M.call(this)},nt.Ha=function(){this.s||(this.F||this.v||this.l?xI(this):this.eb())},nt.eb=function(){xI(this)},nt.aa=function(){try{return 2<Ja(this)?this.g.status:-1}catch{return-1}},nt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},nt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),QC(e)}},nt.Ea=function(){return this.m},nt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=Vv.prototype).ma=8,nt.G=1,nt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new lp(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=hv(u),yr(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=kI(this,i,e),Ln(t=al(this.F),"RID",n),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),wh(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(RI(u)))+"&"+e:this.o&&Lv(t,this.o,u)),$m(this.h,i),this.Xa&&Ln(t,"TYPE","init"),this.O?(Ln(t,"$req",e),Ln(t,"SID","null"),i.Z=!0,Lm(i,t,null)):Lm(i,t,e),this.G=2}}else 3==this.G&&(n?PI(this,n):0==this.i.length||CI(this.h)||PI(this))},nt.Ia=function(){if(this.u=null,FI(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=ap(ci(this.cb,this),n)}},nt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ai(10),zm(this),FI(this))},nt.bb=function(){null!=this.v&&(this.v=null,zm(this),jv(this),Ai(19))},nt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Ai(2)):(this.j.info("Failed to ping google.com"),Ai(1))},(nt=Hv.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Qa=function(){},Km.prototype.g=function(n,e){return new hs(n,e)},Qr(hs,In),hs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ai(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Wm(n,null,n.V),qm(n)},hs.prototype.close=function(){Uv(this.g)},hs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ks(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&qm(e)},hs.prototype.M=function(){this.g.l=null,delete this.j,Uv(this.g),delete this.g,hs.X.M.call(this)},Qr(BI,Tv),Qr(jI,Sv),Qr(Eh,Hv),Eh.prototype.xa=function(){Jr(this.g,"a")},Eh.prototype.wa=function(n){Jr(this.g,new BI(n))},Eh.prototype.va=function(n){Jr(this.g,new jI(n))},Eh.prototype.ua=function(){Jr(this.g,"b")},Km.prototype.createWebChannel=Km.prototype.g,hs.prototype.send=hs.prototype.u,hs.prototype.open=hs.prototype.m,hs.prototype.close=hs.prototype.close,Pm.NO_ERROR=0,Pm.TIMEOUT=8,Pm.HTTP_ERROR=6,fI.COMPLETE="complete",gI.EventType=up,up.OPEN="a",up.CLOSE="b",up.ERROR="c",up.MESSAGE="d",In.prototype.listen=In.prototype.N,Dr.prototype.listenOnce=Dr.prototype.O,Dr.prototype.getLastError=Dr.prototype.Na,Dr.prototype.getLastErrorCode=Dr.prototype.Ea,Dr.prototype.getStatus=Dr.prototype.aa,Dr.prototype.getResponseJson=Dr.prototype.Ra,Dr.prototype.getResponseText=Dr.prototype.fa,Dr.prototype.send=Dr.prototype.da;var XC=Hi.createWebChannelTransport=function(){return new Km},eT=Hi.getStatEventTarget=function(){return sp()},Gv=Hi.ErrorCode=Pm,$I=Hi.EventType=fI,HI=Hi.Event=sl,GI=Hi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},tT=Hi.FetchXmlHttpFactory=mh,Ip=Hi.WebChannel=gI,nT=Hi.XhrIo=Dr;const zI="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let ll="9.10.0";const ia=new ds.Yd("@firebase/firestore");function Zm(){return ia.logLevel}function Pe(n,...e){if(ia.logLevel<=ds.in.DEBUG){const t=e.map(qv);ia.debug(`Firestore (${ll}): ${n}`,...t)}}function cr(n,...e){if(ia.logLevel<=ds.in.ERROR){const t=e.map(qv);ia.error(`Firestore (${ll}): ${n}`,...t)}}function Xa(n,...e){if(ia.logLevel<=ds.in.WARN){const t=e.map(qv);ia.warn(`Firestore (${ll}): ${n}`,...t)}}function qv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function wt(n,e){n||Xe()}function qe(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class WI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class rT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KI{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let c=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _r,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const I=c;e.enqueueRetryable((0,_e.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},_=I=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(I=>_(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?_(I):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _r)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt("string"==typeof r.accessToken),new WI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new Lr(e)}}class Kv{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(wt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ZI{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Kv(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YI{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.A;return this.A=u.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt("string"==typeof t.token),this.A=t.token,new Zv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class QI{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sT(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Ot(n,e){return n<e?-1:n>e?1:0}function Ih(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Yv(n){return n+"\0"}class zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new zn(0,0))}static max(){return new bt(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bp{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===bp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends bp{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const ZM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends bp{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return ZM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ne(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ne(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ne(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Ne(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Qt.fromString(e))}static fromName(e){return new Ge(Qt.fromString(e).popFirst(5))}static empty(){return new Ge(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Qt(e.slice()))}}class Ym{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Qv(n){return n.fields.find(e=>2===e.kind)}function cl(n){return n.fields.filter(e=>2!==e.kind)}Ym.UNKNOWN_ID=-1;class Qm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dp(0,fs.min())}}function JI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new zn(t+1,0):new zn(t,r));return new fs(i,Ge.empty(),e)}function XI(n){return new fs(n.readTime,n.key,-1)}class fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fs(bt.min(),Ge.empty(),-1)}static max(){return new fs(bt.max(),Ge.empty(),-1)}}function Jv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Ot(n.largestBatchId,e.largestBatchId))}const bh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function eu(n){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,_e.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==bh)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Jm.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},_=>r(_))}),c=!0,u===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const u=e.length,c=new Array(u);let p=0;for(let _=0;_<u;_++){const I=_;t(e[I]).next(T=>{c[I]=T,++p,p===u&&r(c)},T=>i(T))}})}static doWhile(e,t){return new oe((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class Cp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new _r,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Xm(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=ew(r.target.error);this.P.reject(new Xm(e,i))}}static open(e,t,r,i){try{return new Cp(t,e.transaction(i,r))}catch(u){throw new Xm(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lT(t)}}class Zs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Zs.D((0,Gt.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Tc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Gt.hl)())return!1;if(Zs.N())return!0;const e=(0,Gt.z$)(),t=Zs.D(e),r=0<t&&t<10,i=Zs.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new Xm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Ne(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ne(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Xm(e,p))},u.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,_e.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.F(e);const _=Cp.open(u.db,e,c?"readonly":"readwrite",r),I=i(_).next(T=>(_.V(),T)).catch(T=>(_.abort(T),oe.reject(T))).toPromise();return I.catch(()=>{}),yield _.v,I}catch(_){const I=_,T="FirebaseError"!==I.name&&p<3;if(Pe("SimpleDb","Transaction failed with error:",I.message,"Retrying:",T),u.close(),!T)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class uT{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Tc(this.U.delete())}}class Xm extends Ne{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function tu(n){return"IndexedDbTransactionError"===n.name}class lT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Tc(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Tc(this.store.add(e))}get(e){return Tc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Tc(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Tc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new oe((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,c,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new oe((r,i)=>{t.onerror=u=>{const c=ew(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}H(e,t){const r=[];return new oe((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const _=new uT(p),I=t(p.primaryKey,p.value,_);if(I instanceof oe){const T=I.catch(M=>(_.done(),oe.reject(M)));r.push(T)}_.isDone?i():null===_.G?p.continue():p.continue(_.G)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Tc(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=ew(r.target.error);t(i)}})}let eb=!1;function ew(n){const e=Zs.D((0,Gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eb||(eb=!0,setTimeout(()=>{throw r},0)),r}}return n}class Tp{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){tu(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield eu(r)}yield t.nt(6e4)}))}}class cT{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return oe.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(p=>{i-=p,r.add(c)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,u)).next(p=>(Pe("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const c=XI(u);Jv(c,r)>0&&(r=c)}),new fs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class di{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function bo(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ey(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}di.at=-1;class Dn{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new Dn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new Dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ty(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ty(this.root,e,this.comparator,!1)}getReverseIterator(){return new ty(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ty(this.root,e,this.comparator,!0)}}class ty{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Xr.RED,this.left=i??Xr.EMPTY,this.right=u??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Xr(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(e){this.comparator=e,this.data=new Dn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sp(this.data.getIterator())}getIteratorFrom(e){return new Sp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yn(this.comparator);return t.data=e,t}}class Sp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nu(n){return n.hasNext()?n.getNext():void 0}class ps{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new ps([])}unionWith(e){let t=new yn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ih(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const tb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(n){if(wt(!!n),"string"==typeof n){let e=0;const t=tb.exec(n);if(wt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qn(n.seconds),nanos:qn(n.nanos)}}function qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ac(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function tw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hT(n){const e=n.mapValue.fields.__previous_value__;return tw(e)?hT(e):e}function Mc(n){const e=sa(n.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}class nw{constructor(e,t,r,i,u,c,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class ru{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ru("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}function xc(n){return null==n}function Nc(n){return 0===n&&1/n==-1/0}function nb(n){return"number"==typeof n&&Number.isInteger(n)&&!Nc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ny={nullValue:"NULL_VALUE"};function Rc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tw(n)?4:Fc(n)?9007199254740991:10:Xe()}function Do(n,e){if(n===e)return!0;const t=Rc(n);if(t!==Rc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mc(n).isEqual(Mc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=sa(r.timestampValue),c=sa(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ac(n.bytesValue).isEqual(Ac(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return qn(r.geoPointValue.latitude)===qn(i.geoPointValue.latitude)&&qn(r.geoPointValue.longitude)===qn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qn(r.integerValue)===qn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=qn(r.doubleValue),c=qn(i.doubleValue);return u===c?Nc(u)===Nc(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Ih(n.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(bo(u)!==bo(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!Do(u[p],c[p])))return!1;return!0}(n,e);default:return Xe()}var i}function Oc(n,e){return void 0!==(n.values||[]).find(t=>Do(t,e))}function iu(n,e){if(n===e)return 0;const t=Rc(n),r=Rc(e);if(t!==r)return Ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=qn(i.integerValue||i.doubleValue),p=qn(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return rb(n.timestampValue,e.timestampValue);case 4:return rb(Mc(n),Mc(e));case 5:return Ot(n.stringValue,e.stringValue);case 6:return function(i,u){const c=Ac(i),p=Ac(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let _=0;_<c.length&&_<p.length;_++){const I=Ot(c[_],p[_]);if(0!==I)return I}return Ot(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Ot(qn(i.latitude),qn(u.latitude));return 0!==c?c:Ot(qn(i.longitude),qn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let _=0;_<c.length&&_<p.length;++_){const I=iu(c[_],p[_]);if(I)return I}return Ot(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===dl.mapValue&&u===dl.mapValue)return 0;if(i===dl.mapValue)return 1;if(u===dl.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),_=u.fields||{},I=Object.keys(_);p.sort(),I.sort();for(let T=0;T<p.length&&T<I.length;++T){const M=Ot(p[T],I[T]);if(0!==M)return M;const L=iu(c[p[T]],_[I[T]]);if(0!==L)return L}return Ot(p.length,I.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function rb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ot(n,e);const t=sa(n),r=sa(e),i=Ot(t.seconds,r.seconds);return 0!==i?i:Ot(t.nanos,r.nanos)}function Pc(n){return ry(n)}function ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=sa(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ac(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=ry(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${ry(r.fields[p])}`;return u+"}"}(n.mapValue):Xe();var e}function kc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iy(n){return!!n&&"integerValue"in n}function Dh(n){return!!n&&"arrayValue"in n}function ib(n){return!!n&&"nullValue"in n}function rw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sy(n){return!!n&&"mapValue"in n}function Cr(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cr(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cr(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Fc(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function fT(n){return"nullValue"in n?ny:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kc(ru.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Xe()}function pT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kc(ru.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?dl:Xe()}function gT(n,e){const t=iu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function mT(n,e){const t=iu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cr(t)}setAll(e){let t=dr.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=Cr(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());sy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Vr(Cr(this.value))}}function iw(n){const e=[];return Sc(n.fields,(t,r)=>{const i=new dr([t]);if(sy(r)){const u=iw(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new ps(e)}class cn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new cn(e,0,bt.min(),bt.min(),Vr.empty(),0)}static newFoundDocument(e,t,r){return new cn(e,1,t,bt.min(),r,0)}static newNoDocument(e,t){return new cn(e,2,t,bt.min(),Vr.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,bt.min(),Vr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yT{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.ht=null}}function oy(n,e=null,t=[],r=[],i=null,u=null,c=null){return new yT(n,e,t,r,i,u,c)}function Lc(n){const e=qe(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Pc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pc(r)).join(",")),e.ht=t}return e.ht}function Ap(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!QM(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Do(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wT(n.startAt,e.startAt)&&wT(n.endAt,e.endAt)}function ay(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uy(n,e){return n.filters.filter(t=>t instanceof Ur&&t.field.isEqual(e))}function ly(n,e,t){let r=ny,i=!0;for(const u of uy(n,e)){let c=ny,p=!0;switch(u.op){case"<":case"<=":c=fT(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,p=!1;break;case"!=":case"not-in":c=ny}gT({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];gT({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function sw(n,e,t){let r=dl,i=!0;for(const u of uy(n,e)){let c=dl,p=!0;switch(u.op){case">=":case">":c=pT(u.value),p=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,p=!1;break;case"!=":case"not-in":c=dl}mT({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];mT({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Ur extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new cy(e,t,r):"array-contains"===t?new _T(e,r):"in"===t?new ob(e,r):"not-in"===t?new Ch(e,r):"array-contains-any"===t?new vT(e,r):new Ur(e,t,r)}static lt(e,t,r){return"in"===t?new ow(e,r):new YM(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(iu(t,this.value)):null!==t&&Rc(this.value)===Rc(t)&&this.ft(iu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class cy extends Ur{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.ft(t)}}class ow extends Ur{constructor(e,t){super(e,"in",t),this.keys=aw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YM extends Ur{constructor(e,t){super(e,"not-in",t),this.keys=aw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class _T extends Ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dh(t)&&Oc(t.arrayValue,this.value)}}class ob extends Ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Oc(this.value.arrayValue,t)}}class Ch extends Ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Oc(this.value.arrayValue,t)}}class vT extends Ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}}class su{constructor(e,t){this.position=e,this.inclusive=t}}class hl{constructor(e,t="asc"){this.field=e,this.dir=t}}function QM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function ab(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):iu(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function wT(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Do(n.position[t],e.position[t]))return!1;return!0}class ou{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=_,this._t=null,this.wt=null}}function ub(n,e,t,r,i,u,c,p){return new ou(n,e,t,r,i,u,c,p)}function Th(n){return new ou(n)}function uw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function dy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lw(n){for(const e of n.filters)if(e.dt())return e.field;return null}function hy(n){return null!==n.collectionGroup}function Vc(n){const e=qe(n);if(null===e._t){e._t=[];const t=lw(e),r=dy(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new hl(t)),e._t.push(new hl(dr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new hl(dr.keyField(),u))}}}return e._t}function Gi(n){const e=qe(n);if(!e.wt)if("F"===e.limitType)e.wt=oy(e.path,e.collectionGroup,Vc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Vc(e))t.push(new hl(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new su(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new su(e.startAt.position,e.startAt.inclusive):null;e.wt=oy(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function fy(n,e,t){return new ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sh(n,e){return Ap(Gi(n),Gi(e))&&n.limitType===e.limitType}function lb(n){return`${Lc(Gi(n))}|lt:${n.limitType}`}function py(n){return`Query(target=${function sb(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Pc(r.value)}`;var r}).join(", ")}]`),xc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Pc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Pc(t)).join(",")),`Target(${e})`}(Gi(n))}; limitType=${n.limitType})`}function gy(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=ab(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,Vc(t),r)||t.endAt&&!function(i,u,c){const p=ab(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,Vc(t),r)));var t,r}function cw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dw(n){return(e,t)=>{let r=!1;for(const i of Vc(n)){const u=ET(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function ET(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),_=c.data.field(i);return null!==p&&null!==_?iu(p,_):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}function cb(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function IT(n){return{integerValue:""+n}}function hw(n,e){return nb(e)?IT(e):cb(n,e)}class fw{constructor(){this._=void 0}}function JM(n,e,t){return n instanceof Mp?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Ah?DT(n,e):n instanceof Mh?xp(n,e):function(r,i){const u=bT(r,i),c=pw(u)+pw(r.yt);return iy(u)&&iy(r.yt)?IT(c):cb(r.It,c)}(n,e)}function XM(n,e,t){return n instanceof Ah?DT(n,e):n instanceof Mh?xp(n,e):t}function bT(n,e){return n instanceof Np?iy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Mp extends fw{}class Ah extends fw{constructor(e){super(),this.elements=e}}function DT(n,e){const t=Rp(e);for(const r of n.elements)t.some(i=>Do(i,r))||t.push(r);return{arrayValue:{values:t}}}class Mh extends fw{constructor(e){super(),this.elements=e}}function xp(n,e){let t=Rp(e);for(const r of n.elements)t=t.filter(i=>!Do(i,r));return{arrayValue:{values:t}}}class Np extends fw{constructor(e,t){super(),this.It=e,this.yt=t}}function pw(n){return qn(n.integerValue||n.doubleValue)}function Rp(n){return Dh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xh{constructor(e,t){this.field=e,this.transform=t}}class ex{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class my{}function gw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Nh(n.key,Cn.none()):new au(n.key,n.data,Cn.none());{const t=n.data,r=Vr.empty();let i=new yn(dr.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new uu(n.key,r,new ps(i.toArray()),Cn.none())}}function tx(n,e,t){n instanceof au?function(r,i,u){const c=r.value.clone(),p=ST(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof uu?function(r,i,u){if(!Op(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=ST(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(TT(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Pp(n,e,t,r){return n instanceof au?function(i,u,c,p){if(!Op(i.precondition,u))return c;const _=i.value.clone(),I=AT(i.fieldTransforms,p,u);return _.setAll(I),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof uu?function(i,u,c,p){if(!Op(i.precondition,u))return c;const _=AT(i.fieldTransforms,p,u),I=u.data;return I.setAll(TT(i)),I.setAll(_),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,Op(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function CT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=bT(r.transform,i||null);null!=u&&(null===t&&(t=Vr.empty()),t.set(r.field,u))}return t||null}function hb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ih(t,r,(i,u)=>function db(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ah&&r instanceof Ah||t instanceof Mh&&r instanceof Mh?Ih(t.elements,r.elements,Do):t instanceof Np&&r instanceof Np?Do(t.yt,r.yt):t instanceof Mp&&r instanceof Mp);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class au extends my{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uu extends my{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function TT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ST(n,e,t){const r=new Map;wt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,XM(c,p,t[i]))}return r}function AT(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,JM(u,c,e))}return r}class Nh extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mw extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MT{constructor(e){this.count=e}}var Tr,Jt;function yw(n){switch(n){default:return Xe();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function _w(n){if(void 0===n)return cr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Tr.OK:return de.OK;case Tr.CANCELLED:return de.CANCELLED;case Tr.UNKNOWN:return de.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return de.INTERNAL;case Tr.UNAVAILABLE:return de.UNAVAILABLE;case Tr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Tr.NOT_FOUND:return de.NOT_FOUND;case Tr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Tr.ABORTED:return de.ABORTED;case Tr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Tr.DATA_LOSS:return de.DATA_LOSS;default:return Xe()}}(Jt=Tr||(Tr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";class Uc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return ey(this.inner)}size(){return this.innerSize}}const Co=new Dn(Ge.comparator);function zi(){return Co}const yy=new Dn(Ge.comparator);function kp(...n){let e=yy;for(const t of n)e=e.insert(t.key,t);return e}function gs(n){let e=yy;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function oa(){return Fp()}function _y(){return Fp()}function Fp(){return new Uc(n=>n.toString(),(n,e)=>n.isEqual(e))}const xT=new Dn(Ge.comparator),vw=new yn(Ge.comparator);function Vt(...n){let e=vw;for(const t of n)e=e.add(t);return e}const fb=new yn(Ot);function vy(){return fb}class Rh{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Rh(bt.min(),r,vy(),zi(),Vt())}}class Oh{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Oh(vr.EMPTY_BYTE_STRING,t,Vt(),Vt(),Vt())}}class wy{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class ww{constructor(e,t){this.targetId=e,this.At=t}}class pb{constructor(e,t,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Ey{constructor(){this.Rt=0,this.bt=Iy(),this.Pt=vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Vt(),t=Vt(),r=Vt();return this.bt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new Oh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=Iy()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class fl{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=zi(),this.qt=Ew(),this.Kt=new yn(Ot)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const u=i.target;if(ay(u))if(0===r){const c=new Ge(u.path);this.jt(t,c,cn.newNoDocument(c,bt.min()))}else wt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,c)=>{const p=this.Xt(c);if(p){if(u.current&&ay(p.target)){const _=new Ge(p.target.path);null!==this.Ut.get(_)||this.ee(c,_)||this.jt(c,_,cn.newNoDocument(_,e))}u.Dt&&(t.set(c,u.xt()),u.Nt())}});let r=Vt();this.qt.forEach((u,c)=>{let p=!0;c.forEachWhile(_=>{const I=this.Xt(_);return!I||2===I.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.Ut.forEach((u,c)=>c.setReadTime(e));const i=new Rh(e,t,this.Kt,this.Ut,r);return this.Ut=zi(),this.qt=Ew(),this.Kt=new yn(Ot),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new Ey,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new yn(Ot),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Ey),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Ew(){return new Dn(Ge.comparator)}function Iy(){return new Dn(Ge.comparator)}const lu={asc:"ASCENDING",desc:"DESCENDING"},NT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class nx{constructor(e,t){this.databaseId=e,this.gt=t}}function Lp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gb(n,e){return n.gt?e.toBase64():e.toUint8Array()}function RT(n,e){return Lp(n,e.toTimestamp())}function Br(n){return wt(!!n),bt.fromTimestamp(function(e){const t=sa(e);return new zn(t.seconds,t.nanos)}(n))}function by(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function OT(n){const e=Qt.fromString(n);return wt(VT(e)),e}function Ph(n,e){return by(n.databaseId,e.path)}function aa(n,e){const t=OT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(Iw(t))}function Dy(n,e){return by(n.databaseId,e)}function PT(n){const e=OT(n);return 4===e.length?Qt.emptyPath():Iw(e)}function Bc(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Iw(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bw(n,e,t){return{name:Ph(n,e),fields:t.value.mapValue.fields}}function Dw(n,e,t){const r=aa(n,e.name),i=Br(e.updateTime),u=new Vr({mapValue:{fields:e.fields}}),c=cn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function pl(n,e){let t;if(e instanceof au)t={update:bw(n,e.key,e.value)};else if(e instanceof Nh)t={delete:Ph(n,e.key)};else if(e instanceof uu)t={update:bw(n,e.key,e.data),updateMask:sx(e.fieldMask)};else{if(!(e instanceof mw))return Xe();t={verify:Ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Mp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ah)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Np)return{fieldPath:u.field.canonicalString(),increment:c.yt};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:RT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Xe()),t;var i}function kh(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Cn.updateTime(Br(i.updateTime)):void 0!==i.exists?Cn.exists(i.exists):Cn.none():Cn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(wt("REQUEST_TIME"===c.setToServerValue),p=new Mp):"appendMissingElements"in c?p=new Ah(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new Mh(c.removeAllFromArray.values||[]):"increment"in c?p=new Np(u,c.increment):Xe();const _=dr.fromServerFormat(c.fieldPath);return new xh(_,p)}(n,i)):[];var i;if(e.update){const i=aa(n,e.update.name),u=new Vr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ps((e.updateMask.fieldPaths||[]).map(I=>dr.fromServerFormat(I)));return new uu(i,u,c,t,r)}return new au(i,u,t,r)}if(e.delete){const i=aa(n,e.delete);return new Nh(i,t)}if(e.verify){const i=aa(n,e.verify);return new mw(i,t)}return Xe()}function vb(n,e){return{documents:[Dy(n,e.path)]}}function Cw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Dy(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dy(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const I=_.map(T=>function(M){if("=="===M.op){if(rw(M.value))return{unaryFilter:{field:jc(M.field),op:"IS_NAN"}};if(ib(M.value))return{unaryFilter:{field:jc(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(rw(M.value))return{unaryFilter:{field:jc(M.field),op:"IS_NOT_NAN"}};if(ib(M.value))return{unaryFilter:{field:jc(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jc(M.field),op:ix(M.op),value:M.value}}}(T));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(_){if(0!==_.length)return _.map(I=>{return{field:jc((T=I).field),direction:rx(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(I=e.limit,n.gt||xc(I)?I:{value:I});var I,p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Tw(n){let e=PT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){wt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=wb(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new hl(Fh((M=T).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(T){let M;return M="object"==typeof T?T.value:T,xc(M)?null:M}(t.limit));let _=null;var T;t.startAt&&(_=new su((T=t.startAt).values||[],!!T.before));let I=null;return t.endAt&&(I=function(T){return new su(T.values||[],!T.before)}(t.endAt)),ub(e,i,c,u,p,"F",_,I)}function wb(n){return n?void 0!==n.unaryFilter?[LT(n)]:void 0!==n.fieldFilter?[FT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>wb(e)).reduce((e,t)=>e.concat(t)):Xe():[]}function rx(n){return lu[n]}function ix(n){return NT[n]}function jc(n){return{fieldPath:n.canonicalString()}}function Fh(n){return dr.fromServerFormat(n.fieldPath)}function FT(n){return Ur.create(Fh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}function LT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Fh(n.unaryFilter.field);return Ur.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Fh(n.unaryFilter.field);return Ur.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fh(n.unaryFilter.field);return Ur.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fh(n.unaryFilter.field);return Ur.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function sx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function qi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UT(e)),e=ox(n.get(t),e);return UT(e)}function ox(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function UT(n){return n+"\x01\x01"}function ua(n){const e=n.length;if(wt(e>=2),2===e)return wt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&Xe(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let _;0===i.length?_=p:(i+=p,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:Xe()}u=c+2}return new Qt(r)}const Vp=["userId","batchId"];function Cy(n,e){return[n,qi(e)]}function Eb(n,e,t){return[n,qi(e),t]}const Ib={},$c=["prefixPath","collectionGroup","readTime","documentId"],bb=["prefixPath","collectionGroup","documentId"],Sw=["collectionGroup","readTime","prefixPath","documentId"],Aw=["canonicalId","targetId"],BT=["targetId","path"],Mw=["path","targetId"],xw=["collectionId","parent"],Ty=["indexId","uid"],ax=["uid","sequenceNumber"],ux=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lx=["indexId","uid","orderedDocumentKey"],cx=["userId","collectionPath","documentId"],Db=["userId","collectionPath","largestBatchId"],jT=["userId","collectionGroup","largestBatchId"],Cb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$T=[...Cb,"documentOverlays"],Tb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Nw=Tb,Sb=[...Nw,"indexConfiguration","indexState","indexEntries"];class Sy extends Xv{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function jr(n,e){const t=qe(n);return Zs.O(t.ie,e)}class Rw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&tx(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_y();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=t.has(i.key)?null:p;const _=gw(c,p);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Ih(this.mutations,e.mutations,(t,r)=>hb(t,r))&&Ih(this.baseMutations,e.baseMutations,(t,r)=>hb(t,r))}}class Ay{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){wt(e.mutations.length===r.length);let i=xT;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new Ay(e,t,r,i)}}class Up{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hc{constructor(e,t,r,i,u=bt.min(),c=bt.min(),p=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new Hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ow{constructor(e){this.re=e}}function Ab(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:My(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ph(i=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Lp(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Lh(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:t.path.toArray(),version:Lh(e.version)}}var i,u;return r}function My(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Lh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Vh(n){const e=new zn(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function Gc(n,e){const t=(e.baseMutations||[]).map(u=>kh(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>kh(n.re,u)),i=zn.fromMillis(e.localWriteTimeMs);return new Rw(e.batchId,i,t,r)}function Bp(n){const e=Vh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Vh(n.lastLimboFreeSnapshotVersion):bt.min();let r;var i;return void 0!==n.query.documents?(wt(1===(i=n.query).documents.length),r=Gi(Th(PT(i.documents[0])))):r=Gi(Tw(n.query)),new Hc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,vr.fromBase64String(n.resumeToken))}function Mb(n,e){const t=Lh(e.snapshotVersion),r=Lh(e.lastLimboFreeSnapshotVersion);let i;i=ay(e.target)?vb(n.re,e.target):Cw(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function xb(n){const e=Tw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fy(e,e.limit,"L"):e}function Nb(n,e){return new Up(e.largestBatchId,kh(n.re,e.overlayMutation))}function HT(n,e){const t=e.path.lastSegment();return[n,qi(e.path.popLast()),t]}function GT(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Lh(r.readTime),documentKey:qi(r.documentKey.path),largestBatchId:r.largestBatchId}}class dx{getBundleMetadata(e,t){return Rb(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Vh(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Rb(e).put({bundleId:(r=t).id,createTime:Lh(Br(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return zT(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:xb(i.bundledQuery),readTime:Vh(i.readTime)};var i})}saveNamedQuery(e,t){return zT(e).put({name:(r=t).name,readTime:Lh(Br(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Rb(n){return jr(n,"bundles")}function zT(n){return jr(n,"namedQueries")}class kw{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new kw(e,t.uid||"")}getOverlay(e,t){return xy(e).get(HT(this.userId,t)).next(r=>r?Nb(this.It,r):null)}getOverlays(e,t){const r=oa();return oe.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new Up(t,c);i.push(this.ue(e,p))}),oe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(qi(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(xy(e).Y("collectionPathOverlayIndex",p))}),oe.waitFor(u)}getOverlaysForCollection(e,t,r){const i=oa(),u=qi(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return xy(e).W("collectionPathOverlayIndex",c).next(p=>{for(const _ of p){const I=Nb(this.It,_);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=oa();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xy(e).Z({index:"collectionGroupOverlayIndex",range:p},(_,I,T)=>{const M=Nb(this.It,I);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):T.done()}).next(()=>u)}ue(e,t){return xy(e).put(function(r,i,u){const[c,p,_]=HT(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:pl(r.re,u.mutation)}}(this.It,this.userId,t))}}function xy(n){return jr(n,"documentOverlays")}class Uh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(qn(e.integerValue));else if("doubleValue"in e){const r=qn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Nc(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ac(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Fc(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Xe()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Ge.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function hx(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function qT(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=hx(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Uh.Te=new Uh;class s{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=qT(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=qT(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class o{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class a{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class l{constructor(){this.Be=new s,this.Le=new o(this.Be),this.Ue=new a(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class d{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new d(this.indexId,this.documentKey,this.arrayValue,r)}}function g(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=v(n.arrayValue,e.arrayValue),0!==t?t:(t=v(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function v(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class E{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Qv(e);if(void 0!==t&&!this.ze(t))return!1;const r=cl(e);let i=0,u=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const c=r[i];if(!this.He(this.je,c)||!this.Je(this.Ge[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class b{constructor(){this.Ye=new S}addToCollectionParentIndex(e,t){return this.Ye.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(fs.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class S{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yn(Qt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yn(Qt.comparator)).toArray()}}const N=new Uint8Array(0);class P{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new S,this.Ze=new Uc(r=>Lc(r),(r,i)=>Ap(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:qi(i)};return z(e).put(u)}return oe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Yv(t),""],!1,!0);return z(e).W(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(ua(c.parent))}return r})}addFieldIndex(e,t){const r=ve(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete i.indexId;const u=r.add(i);if(t.indexState){const c=ke(e);return u.next(p=>{c.put(GT(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=ve(e),i=ke(e),u=X(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=X(e);let i=!0;const u=new Map;return oe.forEach(this.tn(t),c=>this.en(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=Vt();const p=[];return oe.forEach(u,(_,I)=>{var T;Pe("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(mt=>`${mt.fieldPath}:${mt.kind}`).join(",")}`} to execute ${Lc(t)}`);const M=function(mt,ut){const St=Qv(ut);if(void 0===St)return null;for(const xt of uy(mt,St.fieldPath))switch(xt.op){case"array-contains-any":return xt.value.arrayValue.values||[];case"array-contains":return[xt.value]}return null}(I,_),L=function(mt,ut){const St=new Map;for(const xt of cl(ut))for(const nn of uy(mt,xt.fieldPath))switch(nn.op){case"==":case"in":St.set(xt.fieldPath.canonicalString(),nn.value);break;case"not-in":case"!=":return St.set(xt.fieldPath.canonicalString(),nn.value),Array.from(St.values())}return null}(I,_),G=function(mt,ut){const St=[];let xt=!0;for(const nn of cl(ut)){const vs=0===nn.kind?ly(mt,nn.fieldPath,mt.startAt):sw(mt,nn.fieldPath,mt.startAt);St.push(vs.value),xt&&(xt=vs.inclusive)}return new su(St,xt)}(I,_),Z=function(mt,ut){const St=[];let xt=!0;for(const nn of cl(ut)){const vs=0===nn.kind?sw(mt,nn.fieldPath,mt.endAt):ly(mt,nn.fieldPath,mt.endAt);St.push(vs.value),xt&&(xt=vs.inclusive)}return new su(St,xt)}(I,_),ue=this.nn(_,I,G),Ie=this.nn(_,I,Z),We=this.sn(_,I,L),rt=this.rn(_.indexId,M,ue,G.inclusive,Ie,Z.inclusive,We);return oe.forEach(rt,mt=>r.J(mt,t.limit).next(ut=>{ut.forEach(St=>{const xt=Ge.fromSegments(St.documentKey);c.has(xt)||(c=c.add(xt),p.push(xt))})}))}).next(()=>p)}return oe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,u,c,p){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),I=_/(null!=t?t.length:1),T=[];for(let M=0;M<_;++M){const L=t?this.on(t[M/I]):N,G=this.un(e,L,r[M%I],i),Z=this.cn(e,L,u[M%I],c),ue=p.map(Ie=>this.un(e,L,Ie,!0));T.push(...this.createRange(G,Z,ue))}return T}un(e,t,r,i){const u=new d(e,Ge.empty(),t,r);return i?u:u.Ke()}cn(e,t,r,i){const u=new d(e,Ge.empty(),t,r);return i?u.Ke():u}en(e,t){const r=new E(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let c=null;for(const p of u)r.We(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;return oe.forEach(this.tn(t),i=>this.en(e,i).next(u=>{u?0!==r&&u.fields.length<function(c){let p=new yn(dr.comparator),_=!1;for(const I of c.filters){const T=I;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:p=p.add(T.field))}for(const I of c.orderBy)I.field.isKeyField()||(p=p.add(I.field));return p.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new l;for(const i of cl(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.qe(i.kind);Uh.Te.ce(u,c)}return r.$e()}on(e){const t=new l;return Uh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new l;return Uh.Te.ce(kc(this.databaseId,t),r.qe(function(i){const u=cl(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new l);let u=0;for(const c of cl(e)){const p=r[u++];for(const _ of i)if(this.ln(t,c.fieldPath)&&Dh(p))i=this.fn(i,c,p);else{const I=_.qe(c.kind);Uh.Te.ce(p,I)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const _=new l;_.seed(p.$e()),Uh.Te.ce(c,_.qe(t.kind)),u.push(_)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Ur&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ve(e),i=ke(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const c=[];return oe.forEach(u,p=>i.get([p.indexId,this.uid]).next(_=>{c.push(function(I,T){const M=T?new Dp(T.sequenceNumber,new fs(Vh(T.readTime),new Ge(ua(T.documentKey)),T.largestBatchId)):Dp.empty(),L=I.fields.map(([G,Z])=>new Qm(dr.fromServerFormat(G),Z));return new Ym(I.indexId,I.collectionGroup,L,M)}(p,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Ot(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ve(e),u=ke(e);return this._n(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>oe.forEach(p,_=>u.put(GT(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?oe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),oe.forEach(p,_=>this.wn(e,i,_).next(I=>{const T=this.mn(u,_);return I.isEqual(T)?oe.resolve():this.gn(e,u,_,I,T)}))))})}yn(e,t,r,i){return X(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return X(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=X(e);let u=new yn(g);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(c,p)=>{u=u.add(new d(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}mn(e,t){let r=new yn(g);const i=this.an(t,e);if(null==i)return r;const u=Qv(t);if(null!=u){const c=e.data.field(u.fieldPath);if(Dh(c))for(const p of c.arrayValue.values||[])r=r.add(new d(t.indexId,e.key,this.on(p),i))}else r=r.add(new d(t.indexId,e.key,N,i));return r}gn(e,t,r,i,u){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,_,I,T,M){const L=p.getIterator(),G=_.getIterator();let Z=nu(L),ue=nu(G);for(;Z||ue;){let Ie=!1,We=!1;if(Z&&ue){const rt=I(Z,ue);rt<0?We=!0:rt>0&&(Ie=!0)}else null!=Z?We=!0:Ie=!0;Ie?(T(ue),ue=nu(G)):We?(M(Z),Z=nu(L)):(Z=nu(L),ue=nu(G))}}(i,u,g,p=>{c.push(this.yn(e,t,r,p))},p=>{c.push(this.pn(e,t,r,p))}),oe.waitFor(c)}_n(e){let t=1;return ke(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>g(c,p)).filter((c,p,_)=>!p||0!==g(c,_[p-1]));const i=[];i.push(e);for(const c of r){const p=g(c,e),_=g(c,t);if(0===p)i[0]=e.Ke();else if(p>0&&_<0)i.push(c),i.push(c.Ke());else if(_>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,N,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,N,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(He)}getMinOffset(e,t){return oe.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Xe())).next(He)}}function z(n){return jr(n,"collectionParents")}function X(n){return jr(n,"indexEntries")}function ve(n){return jr(n,"indexConfiguration")}function ke(n){return jr(n,"indexState")}function He(n){wt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Jv(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new fs(e.readTime,e.documentKey,t)}const tt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Je{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Je(e,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ae(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const _=r.Z({range:c},(T,M,L)=>(p++,L.delete()));u.push(_.next(()=>{wt(1===p)}));const I=[];for(const T of t.mutations){const M=Eb(e,T.key.path,t.batchId);u.push(i.delete(M)),I.push(T.key)}return oe.waitFor(u).next(()=>I)}function Et(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xe();e=n.noDocument}return JSON.stringify(e).length}Je.DEFAULT_COLLECTION_PERCENTILE=10,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Je.DEFAULT=new Je(41943040,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Je.DISABLED=new Je(-1,0,0);class Xt{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){wt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Xt(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(e).Z({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=gl(e),c=Wi(e);return c.add({}).next(p=>{wt("number"==typeof p);const _=new Rw(p,t,r,i),I=function(L,G,Z){const ue=Z.baseMutations.map(We=>pl(L.re,We)),Ie=Z.mutations.map(We=>pl(L.re,We));return{userId:G,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:ue,mutations:Ie}}(this.It,this.userId,_),T=[];let M=new yn((L,G)=>Ot(L.canonicalString(),G.canonicalString()));for(const L of i){const G=Eb(this.userId,L.key.path,p);M=M.add(L.key.path.popLast()),T.push(c.put(I)),T.push(u.put(G,Ib))}return M.forEach(L=>{T.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.In[p]=_.keys()}),oe.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return Wi(e).get(t).next(r=>r?(wt(r.userId===this.userId),Gc(this.It,r)):null)}Tn(e,t){return this.In[t]?oe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Wi(e).Z({index:"userMutationsIndex",range:i},(c,p,_)=>{p.userId===this.userId&&(wt(p.batchId>=r),u=Gc(this.It,p)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Wi(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(e).W("userMutationsIndex",t).next(r=>r.map(i=>Gc(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Cy(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return gl(e).Z({range:i},(c,p,_)=>{const[I,T,M]=c,L=ua(T);if(I===this.userId&&t.path.isEqual(L))return Wi(e).get(M).next(G=>{if(!G)throw Xe();wt(G.userId===this.userId),u.push(Gc(this.It,G))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(Ot);const i=[];return t.forEach(u=>{const c=Cy(this.userId,u.path),p=IDBKeyRange.lowerBound(c),_=gl(e).Z({range:p},(I,T,M)=>{const[L,G,Z]=I,ue=ua(G);L===this.userId&&u.path.isEqual(ue)?r=r.add(Z):M.done()});i.push(_)}),oe.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=Cy(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new yn(Ot);return gl(e).Z({range:c},(_,I,T)=>{const[M,L,G]=_,Z=ua(L);M===this.userId&&r.isPrefixOf(Z)?Z.length===i&&(p=p.add(G)):T.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Wi(e).get(u).next(c=>{if(null===c)throw Xe();wt(c.userId===this.userId),r.push(Gc(this.It,c))}))}),oe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Ae(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return gl(e).Z({range:r},(u,c,p)=>{if(u[0]===this.userId){const _=ua(u[1]);i.push(_)}else p.done()}).next(()=>{wt(0===i.length)})})}containsKey(e,t){return Nn(e,this.userId,t)}Rn(e){return Ny(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Nn(n,e,t){const r=Cy(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return gl(n).Z({range:u,X:!0},(p,_,I)=>{const[T,M,L]=p;T===e&&M===i&&(c=!0),I.done()}).next(()=>c)}function Wi(n){return jr(n,"mutations")}function gl(n){return jr(n,"documentMutations")}function Ny(n){return jr(n,"mutationQueues")}class cu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new cu(0)}static vn(){return new cu(-1)}}class Fw{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new cu(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>bt.fromTimestamp(new zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ml(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(wt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return ml(e).Z((c,p)=>{const _=Bp(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,u.push(this.removeTargetData(e,_)))}).next(()=>oe.waitFor(u)).next(()=>i)}forEachTarget(e,t){return ml(e).Z((r,i)=>{const u=Bp(i);t(u)})}Vn(e){return Ry(e).get("targetGlobalKey").next(t=>(wt(null!==t),t))}Sn(e,t){return Ry(e).put("targetGlobalKey",t)}Dn(e,t){return ml(e).put(Mb(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ml(e).Z({range:i,index:"queryTargetsIndex"},(c,p,_)=>{const I=Bp(p);Ap(t,I.target)&&(u=I,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=la(e);return t.forEach(c=>{const p=qi(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),oe.waitFor(i)}removeMatchingKeys(e,t,r){const i=la(e);return oe.forEach(t,u=>{const c=qi(u.path);return oe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=la(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=la(e);let u=Vt();return i.Z({range:r,X:!0},(c,p,_)=>{const I=ua(c[1]),T=new Ge(I);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=qi(t.path),i=IDBKeyRange.bound([r],[Yv(r)],!1,!0);let u=0;return la(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,p],_,I)=>{0!==c&&(u++,I.done())}).next(()=>u>0)}se(e,t){return ml(e).get(t).next(r=>r?Bp(r):null)}}function ml(n){return jr(n,"targets")}function Ry(n){return jr(n,"targetGlobal")}function la(n){return jr(n,"targetDocuments")}function Oy([n,e],[t,r]){const i=Ot(n,t);return 0===i?Ot(e,r):i}class Lw{constructor(e){this.xn=e,this.buffer=new yn(Oy),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Oy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){tu(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield eu(r)}yield t.Fn(3e5)}))}}class VO{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(di.at);const r=new Lw(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(tt)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tt):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,u,c,p,_,I;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(I=Date.now(),Zm()<=ds.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(_-p)+`ms\n\tRemoved ${M} documents in `+(I-_)+`ms\nTotal Duration: ${I-T}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class UO{constructor(e,t){this.db=e,this.garbageCollector=new VO(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Ob(e,r)}removeReference(e,t,r){return Ob(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ob(e,t)}Gn(e,t){return function(r,i){let u=!1;return Ny(r).tt(c=>Nn(r,c,i).next(p=>(p&&(u=!0),oe.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(c,p)=>{if(p<=t){const _=this.Gn(e,c).next(I=>{if(!I)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,bt.min()),la(e).delete([0,qi(c.path)])))});i.push(_)}}).next(()=>oe.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ob(e,t)}Kn(e,t){const r=la(e);let i,u=di.at;return r.Z({index:"documentTargetsIndex"},([c,p],{path:_,sequenceNumber:I})=>{0===c?(u!==di.at&&t(new Ge(ua(i)),u),u=I,i=_):u=di.at}).next(()=>{u!==di.at&&t(new Ge(ua(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ob(n,e){return la(n).put((r=n.currentSequenceNumber,{targetId:0,path:qi(e.path),sequenceNumber:r}));var r}class fx{constructor(){this.changes=new Uc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BO{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return jp(e).put(r)}removeEntry(e,t,r){return jp(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],My(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=cn.newInvalidDocument(t);return jp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:cn.newInvalidDocument(t)};return jp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(i,u)=>{r={document:this.jn(t,u),size:Et(u)}}).next(()=>r)}getEntries(e,t){let r=zi();return this.zn(e,t,(i,u)=>{const c=this.jn(i,u);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=zi(),i=new Dn(Ge.comparator);return this.zn(e,t,(u,c)=>{const p=this.jn(u,c);r=r.insert(u,p),i=i.insert(u,Et(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return oe.resolve();let i=new yn(yx);t.forEach(_=>i=i.add(_));const u=IDBKeyRange.bound(Vw(i.first()),Vw(i.last())),c=i.getIterator();let p=c.getNext();return jp(e).Z({index:"documentKeyIndex",range:u},(_,I,T)=>{const M=Ge.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;p&&yx(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,I),p=c.hasNext()?c.getNext():null),p?T.j(Vw(p)):T.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),My(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jp(e).W(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=zi();for(const _ of c){const I=this.jn(Ge.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);p=p.insert(I.key,I)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=zi();const c=mx(t,r),p=mx(t,fs.max());return jp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(_,I,T)=>{const M=this.jn(Ge.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(M.key,M),u.size===i&&T.done()}).next(()=>u)}newChangeBuffer(e){return new jO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gx(e).get("remoteDocumentGlobalKey").next(t=>(wt(!!t),t))}Qn(e,t){return gx(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function Pw(n,e){let t;if(e.document)t=Dw(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=Vh(e.noDocument.readTime);t=cn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=Ge.fromSegments(e.unknownDocument.path),i=Vh(e.unknownDocument.version);t=cn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new zn(r[0],r[1]);return bt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return cn.newInvalidDocument(e)}}function px(n){return new BO(n)}class jO extends fx{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Uc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new yn((u,c)=>Ot(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const _=Ab(this.Yn.It,c);i=i.add(u.path.popLast()),r+=Et(_)-p.size,t.push(this.Yn.addEntry(e,u,_))}else if(r-=p.size,this.trackRemovals){const _=Ab(this.Yn.It,c.convertToNoDocument(bt.min()));t.push(this.Yn.addEntry(e,u,_))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,c)=>{this.Xn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function gx(n){return jr(n,"remoteDocumentGlobal")}function jp(n){return jr(n,"remoteDocumentsV14")}function Vw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mx(n,e){const t=e.documentKey.path.toArray();return[n,My(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function yx(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Ot(t[u],r[u]),i)return i;return i=Ot(t.length,r.length),i||(i=Ot(t[t.length-2],r[r.length-2]),i||Ot(t[t.length-1],r[r.length-1]))}class $O{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _x{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Pp(r.mutation,i,ps.empty(),zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Vt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Vt()){const i=oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=kp();return u.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=oa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Vt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let u=zi();const c=Fp(),p=Fp();return t.forEach((_,I)=>{const T=r.get(I.key);i.has(I.key)&&(void 0===T||T.mutation instanceof uu)?u=u.insert(I.key,I):void 0!==T&&(c.set(I.key,T.mutation.getFieldMask()),Pp(T.mutation,I,T.mutation.getFieldMask(),zn.now()))}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((I,T)=>c.set(I,T)),t.forEach((I,T)=>{var M;return p.set(I,new $O(T,null!==(M=c.get(I))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Fp();let i=new Dn((c,p)=>c-p),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const I=t.get(_);if(null===I)return;let T=r.get(_)||ps.empty();T=p.applyToLocalView(I,T),r.set(_,T);const M=(i.get(p.batchId)||Vt()).add(_);i=i.insert(p.batchId,M)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),I=_.key,T=_.value,M=_y();T.forEach(L=>{if(!u.has(L)){const G=gw(t.get(L),r.get(L));null!==G&&M.set(L,G),u=u.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,I,M))}return oe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):hy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):oe.resolve(oa());let p=-1,_=u;return c.next(I=>oe.forEach(I,(T,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),u.get(T)?oe.resolve():this.getBaseDocument(e,T,M).next(L=>{_=_.insert(T,L)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,_,I,Vt())).next(T=>({batchId:p,changes:gs(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=kp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=kp();return this.indexManager.getCollectionParents(e,i).next(c=>oe.forEach(c,p=>{const _=(I=t,T=p.child(i),new ou(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(I=>{I.forEach((T,M)=>{u=u.insert(T,M)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((p,_)=>{const I=_.getKey();null===i.get(I)&&(i=i.insert(I,cn.newInvalidDocument(I)))});let c=kp();return i.forEach((p,_)=>{const I=u.get(p);void 0!==I&&Pp(I.mutation,_,ps.empty(),zn.now()),gy(t,_)&&(c=c.insert(p,_))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):oe.resolve(cn.newInvalidDocument(t))}}class HO{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return oe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Br(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:xb(r.bundledQuery),readTime:Br(r.readTime)}),oe.resolve();var r}}class GO{constructor(){this.overlays=new Dn(Ge.comparator),this.es=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=oa();return oe.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ue(e,t,u)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=oa(),u=t.length+1,c=new Ge(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,I=_.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&_.largestBatchId>r&&i.set(_.getKey(),_)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Dn((I,T)=>I-T);const c=this.overlays.getIterator();for(;c.hasNext();){const I=c.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let T=u.get(I.largestBatchId);null===T&&(T=oa(),u=u.insert(I.largestBatchId,T)),T.set(I.getKey(),I)}}const p=oa(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((I,T)=>p.set(I,T)),!(p.size()>=i)););return oe.resolve(p)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Up(t,r));let u=this.es.get(t);void 0===u&&(u=Vt(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class WT{constructor(){this.ns=new yn(hi.ss),this.rs=new yn(hi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new hi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new hi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new Qt([])),r=new hi(t,e),i=new hi(t,e+1),u=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),u.push(c.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new Qt([])),r=new hi(t,e),i=new hi(t,e+1);let u=Vt();return this.rs.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new hi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class hi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||Ot(e._s,t._s)}static os(e,t){return Ot(e._s,t._s)||Ge.comparator(e.key,t.key)}}class zO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new yn(hi.ss)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const c=new Rw(u,t,r,i);this.mutationQueue.push(c);for(const p of i)this.gs=this.gs.add(new hi(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hi(t,0),i=new hi(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],c=>{const p=this.ys(c._s);u.push(p)}),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(Ot);return t.forEach(i=>{const u=new hi(i,0),c=new hi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,c],p=>{r=r.add(p._s)})}),oe.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ge.isDocumentKey(u)||(u=u.child(""));const c=new hi(new Ge(u),0);let p=new yn(Ot);return this.gs.forEachWhile(_=>{const I=_.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(p=p.add(_._s)),!0)},c),oe.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){wt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return oe.forEach(t.mutations,i=>{const u=new hi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new hi(t,0),i=this.gs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return oe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qO{constructor(e){this.Es=e,this.docs=new Dn(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=zi();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():cn.newInvalidDocument(i))}),oe.resolve(r)}getAllFromCollection(e,t,r){let i=zi();const u=new Ge(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:_}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||Jv(XI(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return oe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Xe()}As(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new WO(this)}getSize(e){return oe.resolve(this.size)}}class WO extends fx{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class KO{constructor(e){this.persistence=e,this.Rs=new Uc(t=>Lc(t),Ap),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new WT,this.targetCount=0,this.vs=cu.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),oe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new cu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Dn(t),oe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),oe.waitFor(u).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),oe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.Ps.containsKey(t))}}class vx{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new di(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new KO(this),this.indexManager=new b,this.remoteDocumentCache=new qO(r=>this.referenceDelegate.xs(r)),this.It=new Ow(t),this.Ns=new HO(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new zO(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new ZO(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Ms(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Os(e,t){return oe.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class ZO extends Xv{constructor(e){super(),this.currentSequenceNumber=e}}class Pb{constructor(e){this.persistence=e,this.Fs=new WT,this.$s=null}static Bs(e){return new Pb(e)}get Ls(){if(this.$s)return this.$s;throw Xe()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.Us(e,i).next(u=>{u||t.removeEntry(i,bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return oe.or([()=>oe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class YO{constructor(e){this.It=e}$(e,t,r,i){const u=new Cp("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vp,{unique:!0}),p.createObjectStore("documentMutations"),wx(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=oe.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),wx(e)),c=c.next(()=>function(p){const _=p.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",I)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,_){return _.store("mutations").W().next(I=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vp,{unique:!0});const T=_.store("mutations"),M=I.map(L=>T.put(L));return oe.waitFor(M)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(u))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:cx});_.createIndex("collectionPathOverlayIndex",Db,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",jT,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:$c});_.createIndex("documentKeyIndex",bb),_.createIndex("collectionGroupIndex",Sw)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,u))),r<15&&i>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Ty}).createIndex("sequenceNumberIndex",ax,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:ux}).createIndex("documentKeyIndex",lx,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Et(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>oe.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(p=>oe.forEach(p,_=>{wt(_.userId===u.userId);const I=Gc(this.It,_);return Ae(e,u.userId,I).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((c,p)=>{const _=new Qt(c),I=[0,qi(_)];u.push(t.get(I).next(T=>T?oe.resolve():t.put({targetId:0,path:qi(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>oe.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:xw});const r=t.store("collectionParents"),i=new S,u=c=>{if(i.add(c)){const p=c.lastSegment(),_=c.popLast();return r.put({collectionId:p,parent:qi(_)})}};return t.store("remoteDocuments").Z({X:!0},(c,p)=>{const _=new Qt(c);return u(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,p,_],I)=>{const T=ua(p);return u(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=Bp(i),c=Mb(this.It,u);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,c)=>{const p=t.store("remoteDocumentsV14"),_=(I=c,I.document?new Ge(Qt.fromString(I.document.name).popFirst(5)):I.noDocument?Ge.fromSegments(I.noDocument.path):I.unknownDocument?Ge.fromSegments(I.unknownDocument.path):Xe()).path.toArray();var I;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(T))}).next(()=>oe.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=px(this.It),u=new vx(Pb.Bs,this.It.re);return r.W().next(c=>{const p=new Map;return c.forEach(_=>{var I;let T=null!==(I=p.get(_.userId))&&void 0!==I?I:Vt();Gc(this.It,_).keys().forEach(M=>T=T.add(M)),p.set(_.userId,T)}),oe.forEach(p,(_,I)=>{const T=new Lr(I),M=kw.oe(this.It,T),L=u.getIndexManager(T),G=Xt.oe(T,this.It,L,u.referenceDelegate);return new _x(i,G,M,L).recalculateAndSaveOverlaysForDocumentKeys(new Sy(t,di.at),_).next()})})}}function wx(n){n.createObjectStore("targetDocuments",{keyPath:BT}).createIndex("documentTargetsIndex",Mw,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Aw,{unique:!0}),n.createObjectStore("targetGlobal")}const KT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ZT{constructor(e,t,r,i,u,c,p,_,I,T,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=c,this.document=p,this.Js=I,this.Ys=T,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!ZT.C())throw new Ne(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UO(this,i),this.ii=t+"main",this.It=new Ow(_),this.ri=new Zs(this.ii,this.Xs,new YO(this.It)),this.Cs=new Fw(this.referenceDelegate,this.It),this.remoteDocumentCache=px(this.It),this.Ns=new dx,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(de.FAILED_PRECONDITION,KT);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new di(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(tu(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Uw(e).get("owner").next(t=>oe.resolve(this.mi(t)))}gi(e){return kb(e).delete(this.clientId)}yi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=jr(r,"clientMetadata");return i.W().next(u=>{const c=e.Ii(u,18e5),p=u.filter(_=>-1===c.indexOf(_));return oe.forEach(p,_=>i.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?oe.resolve(!0):Uw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ne(de.FAILED_PRECONDITION,KT);return!1}}return!(!this.networkEnabled||!this.inForeground)||kb(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Sy(t,di.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>kb(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Xt.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new P(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return kw.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(c=this.Xs)?Sb:14===c?Nw:13===c?Tb:12===c?$T:11===c?Cb:void Xe();var c;let p;return this.ri.runTransaction(e,i,u,_=>(p=new Sy(_,this.Ss?this.Ss.next():di.at),"readwrite-primary"===t?this.fi(p).next(I=>!!I||this.di(p)).next(I=>{if(!I)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ne(de.FAILED_PRECONDITION,bh);return r(p)}).next(I=>this.wi(p).next(()=>I)):this.Vi(p).next(()=>r(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}Vi(e){return Uw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(de.FAILED_PRECONDITION,KT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uw(e).put("owner",t)}static C(){return Zs.C()}_i(e){const t=Uw(e);return t.get("owner").next(r=>this.mi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(cr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Gt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return cr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uw(n){return jr(n,"owner")}function kb(n){return jr(n,"clientMetadata")}function YT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class QT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Vt(),i=Vt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new QT(e,t.fromCache,r,i)}}class Ex{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Mi(e,t,i,r)).next(u=>u||this.Oi(e,t))}ki(e,t){if(uw(t))return oe.resolve(null);let r=Gi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=fy(t,null,"F"),r=Gi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Vt(...u);return this.Ni.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const I=this.Fi(t,p);return this.$i(t,I,c,_.readTime)?this.ki(e,fy(t,null,"F")):this.Bi(e,I,t,_)}))})))}Mi(e,t,r,i){return uw(t)||i.isEqual(bt.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(u=>{const c=this.Fi(t,u);return this.$i(t,c,r,i)?this.Oi(e,t):(Zm()<=ds.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),py(t)),this.Bi(e,c,t,JI(i,-1)))})}Fi(e,t){let r=new yn(dw(e));return t.forEach((i,u)=>{gy(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Oi(e,t){return Zm()<=ds.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",py(t)),this.Ni.getDocumentsMatchingQuery(e,t,fs.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class QO{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Dn(Ot),this.qi=new Uc(u=>Lc(u),Ap),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _x(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Ix(n,e,t,r){return new QO(n,e,t,r)}function bx(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,_e.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let _=Vt();for(const I of i){c.push(I.batchId);for(const T of I.mutations)_=_.add(T.key)}for(const I of u){p.push(I.batchId);for(const T of I.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(I=>({ji:I,removedBatchIds:c,addedBatchIds:p}))})})}),JT.apply(this,arguments)}function JO(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,p,_,I){const T=_.batch,M=T.keys();let L=oe.resolve();return M.forEach(G=>{L=L.next(()=>I.getEntry(p,G)).next(Z=>{const ue=_.docVersions.get(G);wt(null!==ue),Z.version.compareTo(ue)<0&&(T.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),I.addEntry(Z)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(p,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Vt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Dx(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function XO(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const p=[];e.targetChanges.forEach((T,M)=>{const L=i.get(M);if(!L)return;p.push(t.Cs.removeMatchingKeys(u,T.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(u,T.addedDocuments,M)));let G=L.withSequenceNumber(u.currentSequenceNumber);var Z,ue,Ie;e.targetMismatches.has(M)?G=G.withResumeToken(vr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,r)),i=i.insert(M,G),ue=G,Ie=T,(0===(Z=L).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(u,G))});let _=zi(),I=Vt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),p.push(Cx(u,c,e.documentUpdates).next(T=>{_=T.Wi,I=T.zi})),!r.isEqual(bt.min())){const T=t.Cs.getLastRemoteSnapshotVersion(u).next(M=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(T)}return oe.waitFor(p).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,I)).next(()=>_)}).then(u=>(t.Ui=i,u))}function Cx(n,e,t){let r=Vt(),i=Vt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=zi();return t.forEach((p,_)=>{const I=u.get(p);_.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(bt.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!I.isValidDocument()||_.version.compareTo(I.version)>0||0===_.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Pe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",I.version," Watch version:",_.version)}),{Wi:c,zi:i}})}function eP(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Py(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,oe.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Hc(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function ky(n,e,t){return XT.apply(this,arguments)}function XT(){return XT=(0,_e.Z)(function*(n,e,t){const r=qe(n),i=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!tu(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),XT.apply(this,arguments)}function Fb(n,e,t){const r=qe(n);let i=bt.min(),u=Vt();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,I){const T=qe(p),M=T.qi.get(I);return void 0!==M?oe.resolve(T.Ui.get(M)):T.Cs.getTargetData(_,I)}(r,c,Gi(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{u=_})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:bt.min(),t?u:Vt())).next(p=>(Ax(r,cw(e),p),{documents:p,Hi:u})))}function Tx(n,e){const t=qe(n),r=qe(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(c=>c?c.target:null))}function Sx(n,e){const t=qe(n),r=t.Ki.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,JI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Ax(t,e,i),i))}function Ax(n,e,t){let r=bt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function eS(){return eS=(0,_e.Z)(function*(n,e,t,r){const i=qe(n);let u=Vt(),c=zi();for(const I of t){const T=e.Ji(I.metadata.name);I.document&&(u=u.add(T));const M=e.Yi(I);M.setReadTime(e.Xi(I.metadata.readTime)),c=c.insert(T,M)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield Py(i,(I=r,Gi(Th(Qt.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>Cx(I,p,c).next(T=>(p.apply(I),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(I,_.targetId).next(()=>i.Cs.addMatchingKeys(I,u,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,T.Wi,T.zi)).next(()=>T.Wi)))}),eS.apply(this,arguments)}function nP(n,e){return tS.apply(this,arguments)}function tS(){return tS=(0,_e.Z)(function*(n,e,t=Vt()){const r=yield Py(n,Gi(xb(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=Br(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(u,e);const p=r.withResumeToken(vr.EMPTY_BYTE_STRING,c);return i.Ui=i.Ui.insert(p.targetId,p),i.Cs.updateTargetData(u,p).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),tS.apply(this,arguments)}function Mx(n,e){return`firestore_clients_${n}_${e}`}function xx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function nS(n,e){return`firestore_targets_${n}_${e}`}class Lb{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Ne(i.error.code,i.error.message))),c?new Lb(e,t,i.state,u):(cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Ne(r.error.code,r.error.message))),u?new Bw(e,r.state,i):(cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=vy();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=nb(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new Vb(e,u):(cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class rS{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new rS(t.clientId,t.onlineState):(cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class iS{constructor(){this.activeTargetIds=vy()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sS{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Dn(Ot),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=Mx(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new iS),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(Mx(e.persistenceKey,i));if(u){const c=Vb.Zi(i,u);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(nS(this.persistenceKey,e));if(r){const i=Bw.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let c=di.at;if(null!=u)try{const p=JSON.parse(u);wt("number"==typeof p),c=p}catch(p){cr("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==di.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new Lb(this.currentUser,e,t,r),u=xx(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=xx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=nS(this.persistenceKey,e),u=new Bw(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Vb.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return Lb.Zi(new Lr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Bw.Zi(i,t)}yr(e){return rS.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),c=[],p=[];return u.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{u.has(_)||p.push(_)}),this.syncEngine.Br(c,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=vy();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Nx{constructor(){this.Lr=new iS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new iS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rP{qr(e){}shutdown(){}}class Rx{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const iP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sP{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class oP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,u){const c=this.ao(e,t);Pe("RestConnection","Sending: ",c,r);const p={};return this.ho(p,i,u),this.lo(e,c,p,r).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw Xa("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}fo(e,t,r,i,u,c){return this.co(e,t,r,i,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ll,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ao(e,t){return`${this.oo}/v1/${t}:${iP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((u,c)=>{const p=new nT;p.listenOnce($I.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Gv.NO_ERROR:const I=p.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(I)),u(I);break;case Gv.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Ne(de.DEADLINE_EXCEEDED,"Request time out"));break;case Gv.HTTP_ERROR:const T=p.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',T,"response text:",p.getResponseText()),T>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const L=function(G){const Z=G.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(Z)>=0?Z:de.UNKNOWN}(M.status);c(new Ne(L,M.message))}else c(new Ne(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Ne(de.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);p.send(t,"POST",_,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=XC(),c=eT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new tT({})),this.ho(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=i.join("");Pe("Connection","Creating WebChannel: "+_,p);const I=u.createWebChannel(_,p);let T=!1,M=!1;const L=new sP({Hr:Z=>{M?Pe("Connection","Not sending because WebChannel is closed:",Z):(T||(Pe("Connection","Opening WebChannel transport."),I.open(),T=!0),Pe("Connection","WebChannel sending:",Z),I.send(Z))},Jr:()=>I.close()}),G=(Z,ue,Ie)=>{Z.listen(ue,We=>{try{Ie(We)}catch(rt){setTimeout(()=>{throw rt},0)}})};return G(I,Ip.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),G(I,Ip.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),L.io())}),G(I,Ip.EventType.ERROR,Z=>{M||(M=!0,Xa("Connection","WebChannel transport errored:",Z),L.io(new Ne(de.UNAVAILABLE,"The operation could not be completed")))}),G(I,Ip.EventType.MESSAGE,Z=>{var ue;if(!M){const Ie=Z.data[0];wt(!!Ie);const We=Ie,rt=We.error||(null===(ue=We[0])||void 0===ue?void 0:ue.error);if(rt){Pe("Connection","WebChannel received error:",rt);const mt=rt.status;let ut=function(xt){const nn=Tr[xt];if(void 0!==nn)return _w(nn)}(mt),St=rt.message;void 0===ut&&(ut=de.INTERNAL,St="Unknown error status: "+mt+" with message "+rt.message),M=!0,L.io(new Ne(ut,St)),I.close()}else Pe("Connection","WebChannel received:",Ie),L.ro(Ie)}}),G(c,HI.STAT_EVENT,Z=>{Z.stat===GI.PROXY?Pe("Connection","Detected buffering proxy"):Z.stat===GI.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function Ox(){return typeof window<"u"?window:null}function Ub(){return typeof document<"u"?document:null}function jw(n){return new nx(n,!0)}class oS{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Px{constructor(e,t,r,i,u,c,p,_){this.Hs=e,this.Po=r,this.vo=i,this.Vo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new oS(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,_e.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,_e.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ne(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,_e.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aP extends Px{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function yb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Xe(),i=e.targetChange.targetIds||[],u=function(_,I){return _.gt?(wt(void 0===I||"string"==typeof I),vr.fromBase64String(I||"")):(wt(void 0===I||I instanceof Uint8Array),vr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const I=void 0===_.code?de.UNKNOWN:_w(_.code);return new Ne(I,_.message||"")}(c);t=new pb(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=aa(n,r.document.name),u=Br(r.document.updateTime),c=new Vr({mapValue:{fields:r.document.fields}}),p=cn.newFoundDocument(i,u,c);t=new wy(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=aa(n,r.document),u=r.readTime?Br(r.readTime):bt.min(),c=cn.newNoDocument(i,u);t=new wy([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=aa(n,r.document);t=new wy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,u=new MT(r.count||0);t=new ww(r.targetId,u)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return bt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?bt.min():u.readTime?Br(u.readTime):bt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Bc(this.It),t.addTarget=function(i,u){let c;const p=u.target;return c=ay(p)?{documents:vb(i,p)}:{query:Cw(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=gb(i,u.resumeToken):u.snapshotVersion.compareTo(bt.min())>0&&(c.readTime=Lp(i,u.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function kT(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Bc(this.It),t.removeTarget=e,this.Bo(t)}}class uP extends Px{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function _b(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(r,i){let u=Br(r.updateTime?r.updateTime:i);return u.isEqual(bt.min())&&(u=Br(i)),new ex(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.Zo(r,t)}return wt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Bc(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>pl(this.It,r))};this.Bo(t)}}class lP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.Vo.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(de.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.Vo.fo(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(de.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class cP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(cr(t),this.ou=!1):Pe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class dP{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(p=>{r.enqueueAndForget((0,_e.Z)(function*(){var _;Bh(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,_e.Z)(function*(I){const T=qe(I);T._u.add(4),yield Fy(T),T.gu.set("Unknown"),T._u.delete(4),yield $w(T)}),function(I){return _.apply(this,arguments)})(c))}))}),this.gu=new cP(r,i)}}function $w(n){return aS.apply(this,arguments)}function aS(){return aS=(0,_e.Z)(function*(n){if(Bh(n))for(const e of n.wu)yield e(!0)}),aS.apply(this,arguments)}function Fy(n){return uS.apply(this,arguments)}function uS(){return uS=(0,_e.Z)(function*(n){for(const e of n.wu)yield e(!1)}),uS.apply(this,arguments)}function Bb(n,e){const t=qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),dS(t)?cS(t):Vy(t).ko()&&lS(t,e))}function Hw(n,e){const t=qe(n),r=Vy(t);t.du.delete(e),r.ko()&&kx(t,e),0===t.du.size&&(r.ko()?r.Fo():Bh(t)&&t.gu.set("Unknown"))}function lS(n,e){n.yu.Ot(e.targetId),Vy(n).zo(e)}function kx(n,e){n.yu.Ot(e),Vy(n).Ho(e)}function cS(n){n.yu=new fl({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Vy(n).start(),n.gu.uu()}function dS(n){return Bh(n)&&!Vy(n).No()&&n.du.size>0}function Bh(n){return 0===qe(n)._u.size}function Fx(n){n.yu=void 0}function hP(n){return hS.apply(this,arguments)}function hS(){return hS=(0,_e.Z)(function*(n){n.du.forEach((e,t)=>{lS(n,e)})}),hS.apply(this,arguments)}function fP(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,_e.Z)(function*(n,e){Fx(n),dS(n)?(n.gu.hu(e),cS(n)):n.gu.set("Unknown")}),fS.apply(this,arguments)}function pP(n,e,t){return pS.apply(this,arguments)}function pS(){return pS=(0,_e.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof pb&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.du.delete(p),i.yu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jb(n,r)}else if(e instanceof wy?n.yu.Gt(e):e instanceof ww?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(bt.min()))try{const r=yield Dx(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.yu.te(u);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const I=i.du.get(_);I&&i.du.set(_,I.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const _=i.du.get(p);if(!_)return;i.du.set(p,_.withResumeToken(vr.EMPTY_BYTE_STRING,_.snapshotVersion)),kx(i,p);const I=new Hc(_.target,p,1,_.sequenceNumber);lS(i,I)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield jb(n,r)}var r}),pS.apply(this,arguments)}function jb(n,e,t){return gS.apply(this,arguments)}function gS(){return gS=(0,_e.Z)(function*(n,e,t){if(!tu(e))throw e;n._u.add(1),yield Fy(n),n.gu.set("Offline"),t||(t=()=>Dx(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield $w(n)}))}),gS.apply(this,arguments)}function Lx(n,e){return e().catch(t=>jb(n,t,e))}function Ly(n){return mS.apply(this,arguments)}function mS(){return mS=(0,_e.Z)(function*(n){const e=qe(n),t=jh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;gP(e);)try{const i=yield eP(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,mP(e,i)}catch(i){yield jb(e,i)}Vx(e)&&Ux(e)}),mS.apply(this,arguments)}function gP(n){return Bh(n)&&n.fu.length<10}function mP(n,e){n.fu.push(e);const t=jh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Vx(n){return Bh(n)&&!jh(n).No()&&n.fu.length>0}function Ux(n){jh(n).start()}function yP(n){return yS.apply(this,arguments)}function yS(){return yS=(0,_e.Z)(function*(n){jh(n).eu()}),yS.apply(this,arguments)}function _P(n){return _S.apply(this,arguments)}function _S(){return _S=(0,_e.Z)(function*(n){const e=jh(n);for(const t of n.fu)e.Xo(t.mutations)}),_S.apply(this,arguments)}function vP(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,_e.Z)(function*(n,e,t){const r=n.fu.shift(),i=Ay.from(r,e,t);yield Lx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ly(n)}),vS.apply(this,arguments)}function wP(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,_e.Z)(function*(n,e){var t;e&&jh(n).Yo&&(yield(t=(0,_e.Z)(function*(r,i){if(yw(u=i.code)&&u!==de.ABORTED){const c=r.fu.shift();jh(r).Oo(),yield Lx(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Ly(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),Vx(n)&&Ux(n)}),wS.apply(this,arguments)}function Bx(n,e){return ES.apply(this,arguments)}function ES(){return ES=(0,_e.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Bh(t);t._u.add(3),yield Fy(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield $w(t)}),ES.apply(this,arguments)}function IS(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,_e.Z)(function*(n,e){const t=qe(n);e?(t._u.delete(2),yield $w(t)):e||(t._u.add(2),yield Fy(t),t.gu.set("Unknown"))}),bS.apply(this,arguments)}function Vy(n){return n.pu||(n.pu=function(e,t,r){const i=qe(e);return i.su(),new aP(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:hP.bind(null,n),Zr:fP.bind(null,n),Wo:pP.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.pu.Oo(),dS(n)?cS(n):n.gu.set("Unknown")):(yield n.pu.stop(),Fx(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function jh(n){return n.Iu||(n.Iu=function(e,t,r){const i=qe(e);return i.su(),new uP(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:yP.bind(null,n),Zr:wP.bind(null,n),tu:_P.bind(null,n),Zo:vP.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Iu.Oo(),yield Ly(n)):(yield n.Iu.stop(),n.fu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class DS{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new DS(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(n,e){if(cr("AsyncQueue",`${e}: ${n}`),tu(n))return new Ne(de.UNAVAILABLE,`${e}: ${n}`);throw n}class By{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=kp(),this.sortedSet=new Dn(this.comparator)}static emptySet(e){return new By(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof By)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new By;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jx{constructor(){this.Tu=new Dn(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Xe():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class jy{constructor(e,t,r,i,u,c,p,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new jy(e,t,By.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class EP{constructor(){this.Au=void 0,this.listeners=[]}}class IP{constructor(){this.queries=new Uc(e=>lb(e),Sh),this.onlineState="Unknown",this.Ru=new Set}}function CS(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new EP),i)try{u.Au=yield t.onListen(r)}catch(c){const p=Uy(c,`Initialization of query '${py(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&MS(t)}),TS.apply(this,arguments)}function SS(n,e){return AS.apply(this,arguments)}function AS(){return AS=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),AS.apply(this,arguments)}function bP(n,e){const t=qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Pu(i)&&(r=!0);c.Au=i}}r&&MS(t)}function DP(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function MS(n){n.Ru.forEach(e=>{e.next()})}class xS{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new jy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=jy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class CP{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class $x{constructor(e){this.It=e}Ji(e){return aa(this.It,e)}Yi(e){return e.metadata.exists?Dw(this.It,e.document,!1):cn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Br(e)}}class TP{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hx(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new $x(this.It);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||Vt()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function tP(n,e,t,r){return eS.apply(this,arguments)}(e.localStore,new $x(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield nP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Hx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Gx{constructor(e){this.key=e}}class zx{constructor(e){this.key=e}}class qx{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Vt(),this.mutatedKeys=Vt(),this.Ku=dw(e),this.Gu=new By(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new jx,i=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,M)=>{const L=i.get(T),G=gy(this.query,M)?M:null,Z=!!L&&this.mutatedKeys.has(L.key),ue=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Ie=!1;L&&G?L.data.isEqual(G.data)?Z!==ue&&(r.track({type:3,doc:G}),Ie=!0):this.zu(L,G)||(r.track({type:2,doc:G}),Ie=!0,(_&&this.Ku(G,_)>0||I&&this.Ku(G,I)<0)&&(p=!0)):!L&&G?(r.track({type:0,doc:G}),Ie=!0):L&&!G&&(r.track({type:1,doc:L}),Ie=!0,(_||I)&&(p=!0)),Ie&&(G?(c=c.add(G),u=ue?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Gu:c,Wu:r,$i:p,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((I,T)=>function(M,L){const G=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return G(M)-G(L)}(I.type,T.type)||this.Ku(I.doc,T.doc)),this.Hu(r);const c=t?this.Ju():[],p=0===this.qu.size&&this.current?1:0,_=p!==this.Uu;return this.Uu=p,0!==u.length||_?{snapshot:new jy(this.query,e.Gu,i,u,e.mutatedKeys,0===p,_,!1),Yu:c}:{Yu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new jx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Vt(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new zx(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new Gx(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=Vt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return jy.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class SP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class AP{constructor(e){this.key=e,this.ec=!1}}class MP{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new Uc(p=>lb(p),Sh),this.ic=new Map,this.rc=new Set,this.oc=new Dn(Ge.comparator),this.uc=new Map,this.cc=new WT,this.ac={},this.hc=new Map,this.lc=cu.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function xP(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,_e.Z)(function*(n,e){const t=eA(n);let r,i;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.tc();else{const c=yield Py(t.localStore,Gi(e));t.isPrimaryClient&&Bb(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield RS(t,e,r,"current"===p)}return i}),NS.apply(this,arguments)}function RS(n,e,t,r){return OS.apply(this,arguments)}function OS(){return OS=(0,_e.Z)(function*(n,e,t,r){n.dc=(T,M,L)=>{return(G=(0,_e.Z)(function*(Z,ue,Ie,We){let rt=ue.view.ju(Ie);rt.$i&&(rt=yield Fb(Z.localStore,ue.query,!1).then(({documents:St})=>ue.view.ju(St,rt)));const mt=We&&We.targetChanges.get(ue.targetId),ut=ue.view.applyChanges(rt,Z.isPrimaryClient,mt);return HS(Z,ue.targetId,ut.Yu),ut.snapshot}),function(Z,ue,Ie,We){return G.apply(this,arguments)})(n,T,M,L);var G};const i=yield Fb(n.localStore,e,!0),u=new qx(e,i.Hi),c=u.ju(i.documents),p=Oh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=u.applyChanges(c,n.isPrimaryClient,p);HS(n,t,_.Yu);const I=new SP(e,t,u);return n.sc.set(e,I),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),OS.apply(this,arguments)}function NP(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,_e.Z)(function*(n,e){const t=qe(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(u=>!Sh(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ky(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Hw(t.remoteStore,r.targetId),$y(t,r.targetId)}).catch(eu))):($y(t,r.targetId),yield ky(t.localStore,r.targetId,!0))}),PS.apply(this,arguments)}function kS(){return kS=(0,_e.Z)(function*(n,e,t){const r=tA(n);try{const i=yield function(u,c){const p=qe(u),_=zn.now(),I=c.reduce((L,G)=>L.add(G.key),Vt());let T,M;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let G=zi(),Z=Vt();return p.Gi.getEntries(L,I).next(ue=>{G=ue,G.forEach((Ie,We)=>{We.isValidDocument()||(Z=Z.add(Ie))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,G)).next(ue=>{T=ue;const Ie=[];for(const We of c){const rt=CT(We,T.get(We.key).overlayedDocument);null!=rt&&Ie.push(new uu(We.key,rt,iw(rt.value.mapValue),Cn.exists(!0)))}return p.mutationQueue.addMutationBatch(L,_,Ie,c)}).next(ue=>{M=ue;const Ie=ue.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(L,ue.batchId,Ie)})}).then(()=>({batchId:M.batchId,changes:gs(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let _=u.ac[u.currentUser.toKey()];_||(_=new Dn(Ot)),_=_.insert(c,p),u.ac[u.currentUser.toKey()]=_}(r,i.batchId,t),yield zc(r,i.changes),yield Ly(r.remoteStore)}catch(i){const u=Uy(i,"Failed to persist write");t.reject(u)}}),kS.apply(this,arguments)}function Wx(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,_e.Z)(function*(n,e){const t=qe(n);try{const r=yield XO(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.uc.get(u);c&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ec=!0:i.modifiedDocuments.size>0?wt(c.ec):i.removedDocuments.size>0&&(wt(c.ec),c.ec=!1))}),yield zc(t,r,e)}catch(r){yield eu(r)}}),FS.apply(this,arguments)}function Kx(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((u,c)=>{const p=c.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=qe(u);p.onlineState=c;let _=!1;p.queries.forEach((I,T)=>{for(const M of T.listeners)M.bu(c)&&(_=!0)}),_&&MS(p)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function OP(n,e,t){return LS.apply(this,arguments)}function LS(){return LS=(0,_e.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),u=i&&i.key;if(u){let c=new Dn(Ge.comparator);c=c.insert(u,cn.newNoDocument(u,bt.min()));const p=Vt().add(u),_=new Rh(bt.min(),new Map,new yn(Ot),c,p);yield Wx(r,_),r.oc=r.oc.remove(u),r.uc.delete(e),GS(r)}else yield ky(r.localStore,e,!1).then(()=>$y(r,e,t)).catch(eu)}),LS.apply(this,arguments)}function PP(n,e){return VS.apply(this,arguments)}function VS(){return VS=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield JO(t.localStore,e);$S(t,r,null),jS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield zc(t,i)}catch(i){yield eu(i)}}),VS.apply(this,arguments)}function kP(n,e,t){return US.apply(this,arguments)}function US(){return US=(0,_e.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(u,c){const p=qe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let I;return p.mutationQueue.lookupMutationBatch(_,c).next(T=>(wt(null!==T),I=T.keys(),p.mutationQueue.removeMutationBatch(_,T))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,I,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,I)).next(()=>p.localDocuments.getDocuments(_,I))})}(r.localStore,e);$S(r,e,t),jS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield zc(r,i)}catch(i){yield eu(i)}}),US.apply(this,arguments)}function BS(){return BS=(0,_e.Z)(function*(n,e){const t=qe(n);Bh(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=qe(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=Uy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),BS.apply(this,arguments)}function jS(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function $S(n,e,t){const r=qe(n);let i=r.ac[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function $y(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||Zx(n,r)})}function Zx(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Hw(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),GS(n))}function HS(n,e,t){for(const r of t)r instanceof Gx?(n.cc.addReference(r.key,e),LP(n,r)):r instanceof zx?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||Zx(n,r.key)):Xe()}function LP(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.rc.add(r),GS(n))}function GS(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ge(Qt.fromString(e)),r=n.lc.next();n.uc.set(r,new AP(t)),n.oc=n.oc.insert(t,r),Bb(n.remoteStore,new Hc(Gi(Th(t.path)),r,2,di.at))}}function zc(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,_e.Z)(function*(n,e,t){const r=qe(n),i=[],u=[],c=[];var p;r.sc.isEmpty()||(r.sc.forEach((p,_)=>{c.push(r.dc(_,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,I.fromCache?"not-current":"current"),i.push(I);const T=QT.Ci(_.targetId,I);u.push(T)}}))}),yield Promise.all(c),r.nc.Wo(i),yield(p=(0,_e.Z)(function*(_,I){const T=qe(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>oe.forEach(I,L=>oe.forEach(L.Si,G=>T.persistence.referenceDelegate.addReference(M,L.targetId,G)).next(()=>oe.forEach(L.Di,G=>T.persistence.referenceDelegate.removeReference(M,L.targetId,G)))))}catch(M){if(!tu(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of I){const L=M.targetId;if(!M.fromCache){const G=T.Ui.get(L),ue=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);T.Ui=T.Ui.insert(L,ue)}}}),function(_,I){return p.apply(this,arguments)})(r.localStore,u))}),zS.apply(this,arguments)}function VP(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,_e.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield bx(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(c=>{c.forEach(p=>{p.reject(new Ne(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield zc(t,r.ji)}var i}),qS.apply(this,arguments)}function UP(n,e){const t=qe(n),r=t.uc.get(e);if(r&&r.ec)return Vt().add(r.key);{let i=Vt();const u=t.ic.get(e);if(!u)return i;for(const c of u){const p=t.sc.get(c);i=i.unionWith(p.view.Qu)}return i}}function BP(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,_e.Z)(function*(n,e){const t=qe(n),r=yield Fb(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&HS(t,e.targetId,i.Yu),i}),WS.apply(this,arguments)}function jP(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,_e.Z)(function*(n,e){const t=qe(n);return Sx(t.localStore,e).then(r=>zc(t,r))}),KS.apply(this,arguments)}function $P(n,e,t,r){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,_e.Z)(function*(n,e,t,r){const i=qe(n),u=yield function(c,p){const _=qe(c),I=qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>I.Tn(T,p).next(M=>M?_.localDocuments.getDocuments(T,M):oe.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield Ly(i.remoteStore):"acknowledged"===t||"rejected"===t?($S(i,e,r||null),jS(i,e),p=e,qe(qe(i.localStore).mutationQueue).An(p)):Xe(),yield zc(i,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),ZS.apply(this,arguments)}function YS(){return YS=(0,_e.Z)(function*(n,e){const t=qe(n);if(eA(t),tA(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Yx(t,r.toArray());t.fc=!0,yield IS(t.remoteStore,!0);for(const u of i)Bb(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>($y(t,c),ky(t.localStore,c,!0))),Hw(t.remoteStore,c)}),yield i,yield Yx(t,r),function(u){const c=qe(u);c.uc.forEach((p,_)=>{Hw(c.remoteStore,_)}),c.cc.fs(),c.uc=new Map,c.oc=new Dn(Ge.comparator)}(t),t.fc=!1,yield IS(t.remoteStore,!1)}}),YS.apply(this,arguments)}function Yx(n,e,t){return QS.apply(this,arguments)}function QS(){return QS=(0,_e.Z)(function*(n,e,t){const r=qe(n),i=[],u=[];for(const c of e){let p;const _=r.ic.get(c);if(_&&0!==_.length){p=yield Py(r.localStore,Gi(_[0]));for(const I of _){const T=r.sc.get(I),M=yield BP(r,T);M.snapshot&&u.push(M.snapshot)}}else{const I=yield Tx(r.localStore,c);p=yield Py(r.localStore,I),yield RS(r,Qx(I),c,!1)}i.push(p)}return r.nc.Wo(u),i}),QS.apply(this,arguments)}function Qx(n){return ub(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function GP(n){const e=qe(n);return qe(qe(e.localStore).persistence).vi()}function zP(n,e,t,r){return JS.apply(this,arguments)}function JS(){return JS=(0,_e.Z)(function*(n,e,t,r){const i=qe(n);if(i.fc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const u=i.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield Sx(i.localStore,cw(u[0])),p=Rh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield zc(i,c,p);break}case"rejected":yield ky(i.localStore,e,!0),$y(i,e,r);break;default:Xe()}}),JS.apply(this,arguments)}function qP(n,e,t){return XS.apply(this,arguments)}function XS(){return XS=(0,_e.Z)(function*(n,e,t){const r=eA(n);if(r.fc){for(const i of e){if(r.ic.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const u=yield Tx(r.localStore,i),c=yield Py(r.localStore,u);yield RS(r,Qx(u),c.targetId,!1),Bb(r.remoteStore,c)}for(const i of t)r.ic.has(i)&&(yield ky(r.localStore,i,!1).then(()=>{Hw(r.remoteStore,i),$y(r,i)}).catch(eu))}}),XS.apply(this,arguments)}function eA(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OP.bind(null,e),e.nc.Wo=bP.bind(null,e.eventManager),e.nc._c=DP.bind(null,e.eventManager),e}function tA(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kP.bind(null,e),e}class Jx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.It=jw(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Ix(this.persistence,new Ex,e.initialUser,this.It)}gc(e){return new vx(Pb.Bs,this.It)}mc(e){return new Nx}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xx extends Jx{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield tA(r.Ec.syncEngine),yield Ly(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Ix(this.persistence,new Ex,e.initialUser,this.It)}Ic(e,t){return new LO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new cT(t,this.persistence);return new Tp(e.asyncQueue,r)}gc(e){const t=YT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Je.withCacheSize(this.cacheSizeBytes):Je.DEFAULT;return new ZT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ox(),Ub(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Nx}}class KP extends Xx{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof sS&&(r.sharedClientState.syncEngine={Fr:$P.bind(null,i),$r:zP.bind(null,i),Br:qP.bind(null,i),vi:GP.bind(null,i),Or:jP.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,_e.Z)(function*(c){yield function HP(n,e){return YS.apply(this,arguments)}(r.Ec.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}mc(e){const t=Ox();if(!sS.C(t))throw new Ne(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=YT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class nA{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Kx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=VP.bind(null,r.syncEngine),yield IS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new IP}createDatastore(e){const t=jw(e.databaseInfo.databaseId),r=new oP(e.databaseInfo);return new lP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>Kx(this.syncEngine,p,0),c=Rx.C()?new Rx:new rP,new dP(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,_,I){const T=new MP(r,i,u,c,p,_);return I&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=qe(t);Pe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Fy(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eN(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $b{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ZP{constructor(e,t){this.bc=e,this.It=t,this.metadata=new _r,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const u=yield e.Dc(i);return new CP(JSON.parse(u),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,_e.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class YP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(u,c){const p=qe(u),_=Bc(p.It)+"/documents",I={documents:c.map(G=>Ph(p.It,G))},T=yield p.fo("BatchGetDocuments",_,I,c.length),M=new Map;T.forEach(G=>{const Z=function mb(n,e){return"found"in e?function(t,r){wt(!!r.found);const i=aa(t,r.found.name),u=Br(r.found.updateTime),c=new Vr({mapValue:{fields:r.found.fields}});return cn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){wt(!!r.missing),wt(!!r.readTime);const i=aa(t,r.missing),u=Br(r.readTime);return cn.newNoDocument(i,u)}(n,e):Xe()}(p.It,G);M.set(Z.key.toString(),Z)});const L=[];return c.forEach(G=>{const Z=M.get(G.toString());wt(!!Z),L.push(Z)}),L}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Ge.fromPath(i);e.mutations.push(new mw(u,e.precondition(u)))}),yield(r=(0,_e.Z)(function*(i,u){const c=qe(i),p=Bc(c.It)+"/documents",_={writes:u.map(I=>pl(c.It,I))};yield c.co("Commit",p,_)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xe();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bt.min())?Cn.exists(!1):Cn.updateTime(t):Cn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Ne(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cn.updateTime(t)}return Cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class QP{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Nc=r.maxAttempts,this.xo=new oS(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,_e.Z)(function*(){const t=new YP(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Oc(u)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!xc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!yw(t)}return!1}}class JP{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=QI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,_e.Z)(function*(p){Pe("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Uy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function tN(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(u){r.isEqual(u)||(yield bx(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),rA.apply(this,arguments)}function nN(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Bx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>Bx(e.remoteStore,u)),n.onlineComponents=e}),iA.apply(this,arguments)}function sA(n){return oA.apply(this,arguments)}function oA(){return oA=(0,_e.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield tN(n,new Jx)),n.offlineComponents}),oA.apply(this,arguments)}function Hb(n){return aA.apply(this,arguments)}function aA(){return aA=(0,_e.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield nN(n,new nA)),n.onlineComponents}),aA.apply(this,arguments)}function rN(n){return sA(n).then(e=>e.persistence)}function Gb(n){return sA(n).then(e=>e.localStore)}function iN(n){return Hb(n).then(e=>e.remoteStore)}function uA(n){return Hb(n).then(e=>e.syncEngine)}function Hy(n){return lA.apply(this,arguments)}function lA(){return lA=(0,_e.Z)(function*(n){const e=yield Hb(n),t=e.eventManager;return t.onListen=xP.bind(null,e.syncEngine),t.onUnlisten=NP.bind(null,e.syncEngine),t}),lA.apply(this,arguments)}function sN(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,p,_){const I=new $b({next:M=>{u.enqueueAndForget(()=>SS(i,T));const L=M.docs.has(c);!L&&M.fromCache?_.reject(new Ne(de.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&p&&"server"===p.source?_.reject(new Ne(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new xS(Th(c.path),I,{includeMetadataChanges:!0,Nu:!0});return CS(i,T)}(yield Hy(n),n.asyncQueue,e,t,r)})),r.promise}function oN(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,p,_){const I=new $b({next:M=>{u.enqueueAndForget(()=>SS(i,T)),M.fromCache&&"server"===p.source?_.reject(new Ne(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new xS(c,I,{includeMetadataChanges:!0,Nu:!0});return CS(i,T)}(yield Hy(n),n.asyncQueue,e,t,r)})),r.promise}const aN=new Map;function cA(n,e,t){if(!t)throw new Ne(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uN(n,e,t,r){if(!0===e&&!0===r)throw new Ne(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lN(n){if(!Ge.isDocumentKey(n))throw new Ne(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cN(n){if(Ge.isDocumentKey(n))throw new Ne(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zb(n);throw new Ne(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dN(n,e){if(e<=0)throw new Ne(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Wv;switch(t.type){case"gapi":return new ZI(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aN.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),aN.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class yl extends Ki{constructor(e,t,r){super(e,t,Th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ge(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function fN(n,e,...t){if(n=(0,Gt.m9)(n),cA("collection","path",e),n instanceof Gw){const r=Qt.fromString(e,...t);return cN(r),new yl(n,null,r)}{if(!(n instanceof Wn||n instanceof yl))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return cN(r),new yl(n.firestore,null,r)}}function qb(n,e,...t){if(n=(0,Gt.m9)(n),1===arguments.length&&(e=QI.R()),cA("doc","path",e),n instanceof Gw){const r=Qt.fromString(e,...t);return lN(r),new Wn(n,null,new Ge(r))}{if(!(n instanceof Wn||n instanceof yl))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return lN(r),new Wn(n.firestore,n instanceof yl?n.converter:null,new Ge(r))}}function pN(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),(n instanceof Wn||n instanceof yl)&&(e instanceof Wn||e instanceof yl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gN(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),n instanceof Ki&&e instanceof Ki&&n.firestore===e.firestore&&Sh(n._query,e._query)&&n.converter===e.converter}class l1{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new oS(this,"async_queue_retry"),this.jc=()=>{const t=Ub();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Ub();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Ub();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new _r;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!tu(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,cr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=DS.createAndSchedule(this,e,t,r,u=>this.Jc(u));return this.Uc.push(i),i}Wc(){this.qc&&Xe()}verifyOperationInProgress(){}Yc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function dA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class c1{constructor(){this._progressObserver={},this._taskCompletionResolver=new _r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class rr extends Gw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new l1,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mN(this),this._firestoreClient.terminate()}}function $r(n){return n._firestoreClient||mN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mN(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new nw(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new JP(n._authCredentials,n._appCheckCredentials,n._queue,r)}function yN(n,e,t){const r=new _r;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield tN(n,t),yield nN(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(c=u).name?c.code===de.FAILED_PRECONDITION||c.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw u;Xa("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var c})).then(()=>r.promise)}function _N(n){if(n._initialized||n._terminated)throw new Ne(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(vr.fromBase64String(e))}catch(t){throw new Ne(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _l(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $p{constructor(e){this._methodName=e}}class Wb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const w1=/^__.*__$/;class E1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new uu(e,this.data,this.fieldMask,t,this.fieldTransforms):new au(e,this.data,t,this.fieldTransforms)}}class vN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new uu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class Kb{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Kb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Qb(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(wN(this.na)&&w1.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class I1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||jw(e)}fa(e,t,r,i=!1){return new Kb({na:e,methodName:t,la:r,path:dr.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Hp(n){const e=n._freezeSettings(),t=jw(n._databaseId);return new I1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Zb(n,e,t,r,i,u={}){const c=n.fa(u.merge||u.mergeFields?2:0,e,t,i);gA("Data must be an object, but it was:",c,r);const p=bN(r,c);let _,I;if(u.merge)_=new ps(c.fieldMask),I=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const M of u.mergeFields){const L=mA(e,M,t);if(!c.contains(L))throw new Ne(de.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);CN(T,L)||T.push(L)}_=new ps(T),I=c.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,I=c.fieldTransforms;return new E1(new Vr(p),_,I)}class zw extends $p{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zw}}function EN(n,e,t){return new Kb({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class hA extends $p{_toFieldTransform(e){return new xh(e.path,new Mp)}isEqual(e){return e instanceof hA}}class b1 extends $p{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=EN(this,e,!0),r=this.da.map(u=>Gp(u,t)),i=new Ah(r);return new xh(e.path,i)}isEqual(e){return this===e}}class D1 extends $p{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=EN(this,e,!0),r=this.da.map(u=>Gp(u,t)),i=new Mh(r);return new xh(e.path,i)}isEqual(e){return this===e}}class C1 extends $p{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Np(e.It,hw(e.It,this._a));return new xh(e.path,t)}isEqual(e){return this===e}}function fA(n,e,t,r){const i=n.fa(1,e,t);gA("Data must be an object, but it was:",i,r);const u=[],c=Vr.empty();Sc(r,(_,I)=>{const T=Yb(e,_,t);I=(0,Gt.m9)(I);const M=i.ua(T);if(I instanceof zw)u.push(T);else{const L=Gp(I,M);null!=L&&(u.push(T),c.set(T,L))}});const p=new ps(u);return new vN(c,p,i.fieldTransforms)}function pA(n,e,t,r,i,u){const c=n.fa(1,e,t),p=[mA(e,r,t)],_=[i];if(u.length%2!=0)throw new Ne(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)p.push(mA(e,u[L])),_.push(u[L+1]);const I=[],T=Vr.empty();for(let L=p.length-1;L>=0;--L)if(!CN(I,p[L])){const G=p[L];let Z=_[L];Z=(0,Gt.m9)(Z);const ue=c.ua(G);if(Z instanceof zw)I.push(G);else{const Ie=Gp(Z,ue);null!=Ie&&(I.push(G),T.set(G,Ie))}}const M=new ps(I);return new vN(T,M,c.fieldTransforms)}function IN(n,e,t,r=!1){return Gp(t,n.fa(r?4:3,e))}function Gp(n,e){if(DN(n=(0,Gt.m9)(n)))return gA("Unsupported field value:",e,n),bN(n,e);if(n instanceof $p)return function(t,r){if(!wN(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Gp(c,r.ca(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hw(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=zn.fromDate(t);return{timestampValue:Lp(r.It,i)}}if(t instanceof zn){const i=new zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lp(r.It,i)}}if(t instanceof Wb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _l)return{bytesValue:gb(r.It,t._byteString)};if(t instanceof Wn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:by(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${zb(t)}`)}(n,e)}function bN(n,e){const t={};return ey(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(n,(r,i)=>{const u=Gp(i,e.ia(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function DN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof Wb||n instanceof _l||n instanceof Wn||n instanceof $p)}function gA(n,e,t){if(!DN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zb(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function mA(n,e,t){if((e=(0,Gt.m9)(e))instanceof qc)return e._internalPath;if("string"==typeof e)return Yb(n,e);throw Qb("Field path arguments must be of type string or ",n,!1,void 0,t)}const T1=new RegExp("[~\\*/\\[\\]]");function Yb(n,e,t){if(e.search(T1)>=0)throw Qb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch{throw Qb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qb(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||c)&&(_+=" (found",u&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ne(de.INVALID_ARGUMENT,p+n+_)}function CN(n,e){return n.some(t=>t.isEqual(e))}class qw{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new S1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class S1 extends qw{data(){return super.data()}}function Jb(n,e){return"string"==typeof e?Yb(n,e):e instanceof qc?e._internalPath:e._delegate._internalPath}class zp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends qw{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Jb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ww extends Wc{data(e={}){return super.data(e)}}class $h{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ww(this._firestore,this._userDataWriter,r.key,r,new zp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Ww(r._firestore,r._userDataWriter,c.doc.key,c.doc,new zp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new Ww(r._firestore,r._userDataWriter,c.doc.key,c.doc,new zp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,I=-1;return 0!==c.type&&(_=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),I=u.indexOf(c.doc.key)),{type:A1(c.type),doc:p,oldIndex:_,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function A1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function TN(n,e){return n instanceof Wc&&e instanceof Wc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $h&&e instanceof $h&&n._firestore===e._firestore&&gN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function SN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kw{}function Hh(n,...e){for(const t of e)n=t._apply(n);return n}class M1 extends Kw{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=Hp(e.firestore),r=function(i,u,c,p,_,I,T){let M;if(_.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Ne(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){ON(T,I);const G=[];for(const Z of T)G.push(RN(p,i,Z));M={arrayValue:{values:G}}}else M=RN(p,i,T)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||ON(T,I),M=IN(c,"where",T,"in"===I||"not-in"===I);const L=Ur.create(_,I,M);return function(G,Z){if(Z.dt()){const Ie=lw(G);if(null!==Ie&&!Ie.isEqual(Z.field))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ie.toString()}' and '${Z.field.toString()}'`);const We=dy(G);null!==We&&PN(0,Z.field,We)}const ue=function(Ie,We){for(const rt of Ie.filters)if(We.indexOf(rt.op)>=0)return rt.op;return null}(G,function(Ie){switch(Ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==ue)throw new Ne(de.INVALID_ARGUMENT,ue===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${ue.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Ki(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new ou(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class N1 extends Kw{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Ne(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new hl(i,u);return function(p,_){if(null===dy(p)){const I=lw(p);null!==I&&PN(0,I,_.field)}}(r,c),c}(e._query,this.wa,this.ya);return new Ki(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new ou(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class AN extends Kw{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new Ki(e.firestore,e.converter,fy(e._query,this.pa,this.Ia))}}class MN extends Kw{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=NN(e,this.type,this.Ta,this.Ea);return new Ki(e.firestore,e.converter,(i=t,new ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class xN extends Kw{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=NN(e,this.type,this.Ta,this.Ea);return new Ki(e.firestore,e.converter,(i=t,new ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function NN(n,e,t,r){if(t[0]=(0,Gt.m9)(t[0]),t[0]instanceof qw)return function(i,u,c,p,_){if(!p)throw new Ne(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const I=[];for(const T of Vc(i))if(T.field.isKeyField())I.push(kc(u,p.key));else{const M=p.data.field(T.field);if(tw(M))throw new Ne(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=T.field.canonicalString();throw new Ne(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}I.push(M)}return new su(I,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Hp(n.firestore);return function(u,c,p,_,I,T){const M=u.explicitOrderBy;if(I.length>M.length)throw new Ne(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let G=0;G<I.length;G++){const Z=I[G];if(M[G].field.isKeyField()){if("string"!=typeof Z)throw new Ne(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Z}`);if(!hy(u)&&-1!==Z.indexOf("/"))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Z}' contains a slash.`);const ue=u.path.child(Qt.fromString(Z));if(!Ge.isDocumentKey(ue))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const Ie=new Ge(ue);L.push(kc(c,Ie))}else{const ue=IN(p,_,Z);L.push(ue)}}return new su(L,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function RN(n,e,t){if("string"==typeof(t=(0,Gt.m9)(t))){if(""===t)throw new Ne(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hy(e)&&-1!==t.indexOf("/"))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!Ge.isDocumentKey(r))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kc(n,new Ge(r))}if(t instanceof Wn)return kc(n,t._key);throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zb(t)}.`)}function ON(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function PN(n,e,t){if(!t.isEqual(e))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const U1={maxAttempts:5};class yA{convertValue(e,t="none"){switch(Rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){const r={};return Sc(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Wb(qn(e.latitude),qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=hT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const t=sa(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);wt(VT(r));const i=new ru(r.get(1),r.get(3)),u=new Ge(r.popFirst(5));return i.isEqual(t)||cr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Xb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class B1 extends yA{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}class kN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hp(e)}set(e,t,r){this._verifyNotCommitted();const i=Gh(e,this._firestore),u=Xb(i.converter,t,r),c=Zb(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Cn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Gh(e,this._firestore);let c;return c="string"==typeof(t=(0,Gt.m9)(t))||t instanceof qc?pA(this._dataReader,"WriteBatch.update",u._key,t,r,i):fA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gh(e,this._firestore);return this._mutations=this._mutations.concat(new Nh(t._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gh(n,e){if((n=(0,Gt.m9)(n)).firestore!==e)throw new Ne(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qp extends yA{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function FN(n,e,t){n=tn(n,Wn);const r=tn(n.firestore,rr),i=Xb(n.converter,e,t);return Gy(r,[Zb(Hp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Cn.none())])}function LN(n,e,t,...r){n=tn(n,Wn);const i=tn(n.firestore,rr),u=Hp(i);let c;return c="string"==typeof(e=(0,Gt.m9)(e))||e instanceof qc?pA(u,"updateDoc",n._key,e,t,r):fA(u,"updateDoc",n._key,e),Gy(i,[c.toMutation(n._key,Cn.exists(!0))])}function VN(n,...e){var t,r,i;n=(0,Gt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||dA(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(dA(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,I,T;if(n instanceof Wn)I=tn(n.firestore,rr),T=Th(n._key.path),_={next:M=>{e[c]&&e[c](_A(I,n,M))},error:e[c+1],complete:e[c+2]};else{const M=tn(n,Ki);I=tn(M.firestore,rr),T=M._query;const L=new qp(I);_={next:G=>{e[c]&&e[c](new $h(I,L,M,G))},error:e[c+1],complete:e[c+2]},SN(n._query)}return function(M,L,G,Z){const ue=new $b(Z),Ie=new xS(L,ue,G);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return CS(yield Hy(M),Ie)})),()=>{ue.Rc(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return SS(yield Hy(M),Ie)}))}}($r(I),T,p,_)}function Gy(n,e){return function(t,r){const i=new _r;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function RP(n,e,t){return kS.apply(this,arguments)}(yield uA(t),r,i)})),i.promise}($r(n),e)}function _A(n,e,t){const r=t.docs.get(e._key),i=new qp(n);return new Wc(n,i,e._key,r,new zp(t.hasPendingWrites,t.fromCache),e.converter)}class Y1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hp(e)}get(e){const t=Gh(e,this._firestore),r=new B1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Xe();const u=i[0];if(u.isFoundDocument())return new qw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new qw(this._firestore,r,t._key,null,t.converter);throw Xe()})}set(e,t,r){const i=Gh(e,this._firestore),u=Xb(i.converter,t,r),c=Zb(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Gh(e,this._firestore);let c;return c="string"==typeof(t=(0,Gt.m9)(t))||t instanceof qc?pA(this._dataReader,"Transaction.update",u._key,t,r,i):fA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Gh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gh(e,this._firestore),r=new qp(this._firestore);return super.get(e).then(i=>new Wc(this._firestore,r,t._key,i._document,new zp(!1,!1),t.converter))}}function vA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BN(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function jN(){if(!function dT(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ll=qs.SDK_VERSION,(0,qs._registerComponent)(new Za.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new rr(new KI(t.getProvider("auth-internal")),new YI(t.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ne(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(p.options.projectId,_)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,qs.registerVersion)(zI,"3.5.0",n),(0,qs.registerVersion)(zI,"3.5.0","esm2017")}();class Zw{constructor(e){this._delegate=e}static fromBase64String(e){return jN(),new Zw(_l.fromBase64String(e))}static fromUint8Array(e){return BN(),new Zw(_l.fromUint8Array(e))}toBase64(){return jN(),this._delegate.toBase64()}toUint8Array(){return BN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wA(n){return function sk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class ok{enableIndexedDbPersistence(e,t){return function h1(n,e){_N(n=tn(n,rr));const t=$r(n),r=n._freezeSettings(),i=new nA;return yN(t,i,new Xx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function f1(n){_N(n=tn(n,rr));const e=$r(n),t=n._freezeSettings(),r=new nA;return yN(e,r,new KP(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function p1(n){if(n._initialized&&!n._terminated)throw new Ne(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!Zs.C())return Promise.resolve();const i=r+"main";yield Zs.delete(i)}),function(r){return t.apply(this,arguments)})(YT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $N{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ru||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function a1(n,e,t,r={}){var i;const u=(n=tn(n,Gw))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Xa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=Lr.MOCK_USER;else{c=(0,Gt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ne(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Lr(_)}n._authCredentials=new rT(new WI(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function m1(n){return function XP(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield rN(n),t=yield iN(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i._u.delete(0),$w(i)}(t)}))}($r(n=tn(n,rr)))}(this._delegate)}disableNetwork(){return function y1(n){return function e1(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield rN(n),t=yield iN(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const u=qe(i);u._u.add(0),yield Fy(u),u.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}($r(n=tn(n,rr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function g1(n){return function(e){const t=new _r;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function FP(n,e){return BS.apply(this,arguments)}(yield uA(e),t)})),t.promise}($r(n=tn(n,rr)))}(this._delegate)}onSnapshotsInSync(e){return function Z1(n,e){return function r1(n,e){const t=new $b(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Hy(n),i=t,qe(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Hy(n),i=t,void qe(r).Ru.delete(i);var r,i}))}}($r(n=tn(n,rr)),dA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zy(this,fN(this._delegate,e))}catch(t){throw ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new ca(this,qb(this._delegate,e))}catch(t){throw ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ys(this,function u1(n,e){if(n=tn(n,Gw),cA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(n,null,(t=e,new ou(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Q1(n,e,t){n=tn(n,rr);const r=Object.assign(Object.assign({},U1),t);return function(i){if(i.maxAttempts<1)throw new Ne(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function i1(n,e,t){const r=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const i=yield(u=n,Hb(u).then(c=>c.datastore));var u;new QP(n.asyncQueue,i,t,e,r).run()})),r.promise}($r(n),i=>e(new Y1(n,i)),r)}(this._delegate,t=>e(new HN(this,t)))}batch(){return $r(this._delegate),new GN(new kN(this._delegate,e=>Gy(this._delegate,e)))}loadBundle(e){return function _1(n,e){const t=$r(n=tn(n,rr)),r=new c1;return function s1(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,_=function(_,I){if(_ instanceof Uint8Array)return eN(_,I);if(_ instanceof ArrayBuffer)return eN(new Uint8Array(_),I);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new ZP(_,c);var _}(t,jw(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function WP(n,e,t){const r=qe(n);var i;(i=(0,_e.Z)(function*(u,c,p){try{const _=yield c.getMetadata();if(yield function(L,G){const Z=qe(L),ue=Br(G.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Ie=>Z.Ns.getBundleMetadata(Ie,G.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(ue)>=0)}(u.localStore,_))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(Hx(_));const I=new TP(_,u.localStore,c.It);let T=yield c.wc();for(;T;){const L=yield I.Ou(T);L&&p._updateProgress(L),T=yield c.wc()}const M=yield I.complete();return yield zc(u,M.Bu,void 0),yield function(L,G){const Z=qe(L);return Z.persistence.runTransaction("Save bundle","readwrite",ue=>Z.Ns.saveBundleMetadata(ue,G))}(u.localStore,_),p._completeWith(M.progress),Promise.resolve(M.$u)}catch(_){return Xa("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var L}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield uA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function v1(n,e){return function o1(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield Gb(n),e)}))}($r(n=tn(n,rr)),e).then(t=>t?new Ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ys(this,t):null)}}class eD extends yA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zw(new _l(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ca.forKey(t,this.firestore,null)}}class HN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eD(e)}get(e){const t=Kp(e);return this._delegate.get(t).then(r=>new Yw(this._firestore,new Wc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Kp(e);return r?(vA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Kp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Kp(e);return this._delegate.delete(t),this}}class GN{constructor(e){this._delegate=e}set(e,t,r){const i=Kp(e);return r?(vA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Kp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Kp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ww(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Wp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Wp(e,new eD(e),t),i.set(t,u)),u}}Wp.INSTANCES=new WeakMap;class ca{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ca(t,new Wn(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new ca(t,new Wn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new zy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zy(this.firestore,fN(this._delegate,e))}catch(t){throw ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Wn&&pN(this._delegate,e)}set(e,t){t=vA("DocumentReference.set",t);try{return t?FN(this._delegate,e,t):FN(this._delegate,e)}catch(r){throw ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LN(this._delegate,e):LN(this._delegate,e,t,...r)}catch(i){throw ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function W1(n){return Gy(tn(n.firestore,rr),[new Nh(n._key,Cn.none())])}(this._delegate)}onSnapshot(...e){const t=zN(e),r=qN(e,i=>new Yw(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return VN(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function $1(n){n=tn(n,Wn);const e=tn(n.firestore,rr),t=$r(e),r=new qp(e);return function t1(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const p=yield function(_,I){const T=qe(_);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,I))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Ne(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=Uy(p,`Failed to get document '${u} from cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield Gb(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Wc(e,r,n._key,i,new zp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function H1(n){n=tn(n,Wn);const e=tn(n.firestore,rr);return sN($r(e),n._key,{source:"server"}).then(t=>_A(e,n,t))}(this._delegate):function j1(n){n=tn(n,Wn);const e=tn(n.firestore,rr);return sN($r(e),n._key).then(t=>_A(e,n,t))}(this._delegate),t.then(r=>new Yw(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ca(this.firestore,this._delegate.withConverter(e?Wp.getInstance(this.firestore,e):null))}}function ms(n,e,t){return n.message=n.message.replace(e,t),n}function zN(n){for(const e of n)if("object"==typeof e&&!wA(e))return e;return{}}function qN(n,e){var t,r;let i;return i=wA(n[0])?n[0]:wA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Yw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ca(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return TN(this._delegate,e._delegate)}}class Qw extends Yw{data(e){const t=this._delegate.data(e);return function qI(n,e){n||Xe()}(void 0!==t),t}}class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eD(e)}where(e,t,r){try{return new ys(this.firestore,Hh(this._delegate,function x1(n,e,t){const r=e,i=Jb("where",n);return new M1(i,r,t)}(e,t,r)))}catch(i){throw ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ys(this.firestore,Hh(this._delegate,function R1(n,e="asc"){const t=e,r=Jb("orderBy",n);return new N1(r,t)}(e,t)))}catch(r){throw ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ys(this.firestore,Hh(this._delegate,function O1(n){return dN("limit",n),new AN("limit",n,"F")}(e)))}catch(t){throw ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ys(this.firestore,Hh(this._delegate,function P1(n){return dN("limitToLast",n),new AN("limitToLast",n,"L")}(e)))}catch(t){throw ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ys(this.firestore,Hh(this._delegate,function k1(...n){return new MN("startAt",n,!0)}(...e)))}catch(t){throw ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ys(this.firestore,Hh(this._delegate,function F1(...n){return new MN("startAfter",n,!1)}(...e)))}catch(t){throw ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ys(this.firestore,Hh(this._delegate,function L1(...n){return new xN("endBefore",n,!1)}(...e)))}catch(t){throw ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ys(this.firestore,Hh(this._delegate,function V1(...n){return new xN("endAt",n,!0)}(...e)))}catch(t){throw ms(t,"endAt()","Query.endAt()")}}isEqual(e){return gN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function z1(n){n=tn(n,Ki);const e=tn(n.firestore,rr),t=$r(e),r=new qp(e);return function n1(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const p=yield Fb(i,u,!0),_=new qx(u,p.Hi),I=_.ju(p.documents),T=_.applyChanges(I,!1);c.resolve(T.snapshot)}catch(p){const _=Uy(p,`Failed to execute query '${u} against cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield Gb(n),e,t);var r})),t.promise}(t,n._query).then(i=>new $h(e,r,n,i))}(this._delegate):"server"===e?.source?function q1(n){n=tn(n,Ki);const e=tn(n.firestore,rr),t=$r(e),r=new qp(e);return oN(t,n._query,{source:"server"}).then(i=>new $h(e,r,n,i))}(this._delegate):function G1(n){n=tn(n,Ki);const e=tn(n.firestore,rr),t=$r(e),r=new qp(e);return SN(n._query),oN(t,n._query).then(i=>new $h(e,r,n,i))}(this._delegate),t.then(r=>new EA(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=zN(e),r=qN(e,i=>new EA(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return VN(this._delegate,t,r)}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?Wp.getInstance(this.firestore,e):null))}}class uk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class EA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Qw(this._firestore,r))})}isEqual(e){return TN(this._delegate,e._delegate)}}class zy extends ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ca(this.firestore,e):null}doc(e){try{return new ca(this.firestore,void 0===e?qb(this._delegate):qb(this._delegate,e))}catch(t){throw ms(t,"doc()","CollectionReference.doc()")}}add(e){return function K1(n,e){const t=tn(n.firestore,rr),r=qb(n),i=Xb(n.converter,e);return Gy(t,[Zb(Hp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ca(this.firestore,t))}isEqual(e){return pN(this._delegate,e._delegate)}withConverter(e){return new zy(this.firestore,this._delegate.withConverter(e?Wp.getInstance(this.firestore,e):null))}}function Kp(n){return tn(n,Wn)}class IA{constructor(...e){this._delegate=new qc(...e)}static documentId(){return new IA(dr.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof qc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Zp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function X1(){return new hA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Zp(e)}static delete(){const e=function J1(){return new zw("deleteField")}();return e._methodName="FieldValue.delete",new Zp(e)}static arrayUnion(...e){const t=function ek(...n){return new b1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Zp(t)}static arrayRemove(...e){const t=function tk(...n){return new D1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Zp(t)}static increment(e){const t=function nk(n){return new C1("increment",n)}(e);return t._methodName="FieldValue.increment",new Zp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lk={Firestore:$N,GeoPoint:Wb,Timestamp:zn,Blob:Zw,Transaction:HN,WriteBatch:GN,DocumentReference:ca,DocumentSnapshot:Yw,Query:ys,QueryDocumentSnapshot:Qw,QuerySnapshot:EA,CollectionReference:zy,FieldPath:IA,FieldValue:Zp,setLogLevel:function ak(n){!function zv(n){ia.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function dk(n){(function ck(n,e){n.INTERNAL.registerComponent(new Za.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},lk)))})(n,(e,t)=>new $N(e,t,new ok)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(rh.Z);var hk=k(6451),tD=k(5363),fk=k(6063);class pk extends $n.x{constructor(e=1/0,t=1/0,r=fk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}var gk=k(3099);function WN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,gk.B)({connector:()=>new pk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function KN(n,e){return(0,Ko.m)(e)?Hn(()=>n,e):Hn(()=>n)}var bA=k(9468);k(5867);const YN=new Map,wk={activated:!1,tokenObservers:[]},Ek={initialized:!1,enabled:!1};function fi(n){return YN.get(n)||wk}function du(n,e){YN.set(n,e)}function rD(){return Ek}class Tk{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Gt.BH,yield function Sk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const _s=new Gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JN(n){if(!fi(n).activated)throw _s.create("use-before-activation",{appName:n.name})}function SA(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,_e.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const G=yield c.getHeartbeatsHeader();G&&(u["X-Firebase-Client"]=G)}const p={method:"POST",body:JSON.stringify(e),headers:u};let _,I;try{_=yield fetch(n,p)}catch(G){throw _s.create("fetch-network-error",{originalErrorMessage:null===(r=G)||void 0===r?void 0:r.message})}if(200!==_.status)throw _s.create("fetch-status-error",{httpStatus:_.status});try{I=yield _.json()}catch(G){throw _s.create("fetch-parse-error",{originalErrorMessage:null===(i=G)||void 0===i?void 0:i.message})}const T=I.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw _s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const M=1e3*Number(T[1]),L=Date.now();return{token:I.token,expireTimeMillis:L+M,issuedAtTimeMillis:L}}),AA.apply(this,arguments)}function Nk(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Jw="firebase-app-check-store";let oD=null;function eR(){return oD||(oD=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(_s.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Jw,{keyPath:"compositeKey"})}}catch(r){e(_s.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),oD)}function MA(){return MA=(0,_e.Z)(function*(n,e){const r=(yield eR()).transaction(Jw,"readwrite"),u=r.objectStore(Jw).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=_=>{c()},r.onerror=_=>{var I;p(_s.create("storage-set",{originalErrorMessage:null===(I=_.target.error)||void 0===I?void 0:I.message}))}})}),MA.apply(this,arguments)}const Xw=new ds.Yd("@firebase/app-check");function iR(n,e){return(0,Gt.hl)()?function kk(n,e){return function tR(n,e){return MA.apply(this,arguments)}(function rR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sR(){return rD().enabled}function oR(){return OA.apply(this,arguments)}function OA(){return OA=(0,_e.Z)(function*(){const n=rD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),OA.apply(this,arguments)}const jk={error:"UNKNOWN_ERROR"};function $k(n){return Gt.US.encodeString(JSON.stringify(n),!1)}function aD(n){return PA.apply(this,arguments)}function PA(){return PA=(0,_e.Z)(function*(n,e=!1){const t=n.app;JN(t);const r=fi(t);let u,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&uD(_)&&(i=_)}if(!e&&i&&uD(i))return{token:i.token};let p,c=!1;if(sR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=SA(Nk(t,yield oR()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),c=!0);const _=yield r.exchangeTokenPromise;return yield iR(t,_),du(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Xw.warn(_.message):Xw.error(_),u=_}return i?(p={token:i.token},du(t,Object.assign(Object.assign({},r),{token:i})),yield iR(t,i)):p=Gk(u),c&&uR(t,p),p}),PA.apply(this,arguments)}function FA(n,e){const t=fi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),du(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function aR(n){const{app:e}=n,t=fi(e);let r=t.tokenRefresher;r||(r=function Hk(n){const{app:e}=n;return new Tk((0,_e.Z)(function*(){let r;if(r=fi(e).token?yield aD(n,!0):yield aD(n),r.error)throw r.error}),()=>!0,()=>{const t=fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),du(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function uR(n,e){const t=fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function uD(n){return n.expireTimeMillis-Date.now()>0}function Gk(n){return{token:$k(jk),error:n}}class zk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=fi(this.app);for(const t of e)FA(this.app,t.next);return Promise.resolve()}}const mR="app-check-internal";!function sF(){(0,qs._registerComponent)(new Za.wA("app-check",n=>function qk(n,e){return new zk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mR).initialize()})),(0,qs._registerComponent)(new Za.wA(mR,n=>function Wk(n){return{getToken:e=>aD(n,e),addTokenListener:e=>function kA(n,e,t,r){const{app:i}=n,u=fi(i),c={next:t,error:r,type:e};if(du(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&uD(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),aR(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>aR(n))}(n,"INTERNAL",e),removeTokenListener:e=>FA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qs.registerVersion)("@firebase/app-check","0.5.12")}();class BA{constructor(){return(0,lr.vb)("app-check")}}typeof window<"u"&&window;var cF=k(127);const _R=new h.OlP("angularfire2.auth.use-emulator"),vR=new h.OlP("angularfire2.auth.settings"),wR=new h.OlP("angularfire2.auth.tenant-id"),ER=new h.OlP("angularfire2.auth.langugage-code"),IR=new h.OlP("angularfire2.auth.use-device-language"),bR=new h.OlP("angularfire.auth.persistence"),DR=(n,e,t,r,i,u,c,p)=>(0,nr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,u&&_.useDeviceLanguage(),c)for(const[I,T]of Object.entries(c))_.settings[I]=T;return p&&_.setPersistence(p),_},[t,r,i,u,c,p]);let CR=(()=>{class n{constructor(t,r,i,u,c,p,_,I,T,M,L,G){const Z=new $n.x,ue=ot(void 0).pipe((0,tD.Q)(c.outsideAngular),Hn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2476)))),(0,at.U)(()=>(0,nr.on)(t,u,r)),(0,at.U)(Ie=>DR(Ie,u,p,I,T,M,_,L)),WN({bufferSize:1,refCount:!1}));if(pr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{ue.pipe(re()).subscribe();const We=ue.pipe(Hn(ut=>ut.getRedirectResult().then(St=>St,()=>null)),lr.iC,WN({bufferSize:1,refCount:!1})),rt=ue.pipe(Hn(ut=>new Rr.y(St=>({unsubscribe:u.runOutsideAngular(()=>ut.onAuthStateChanged(xt=>St.next(xt),xt=>St.error(xt),()=>St.complete()))})))),mt=ue.pipe(Hn(ut=>new Rr.y(St=>({unsubscribe:u.runOutsideAngular(()=>ut.onIdTokenChanged(xt=>St.next(xt),xt=>St.error(xt),()=>St.complete()))}))));this.authState=We.pipe(KN(rt),(0,bA.R)(c.outsideAngular),(0,tD.Q)(c.insideAngular)),this.user=We.pipe(KN(mt),(0,bA.R)(c.outsideAngular),(0,tD.Q)(c.insideAngular)),this.idToken=this.user.pipe(Hn(ut=>ut?(0,un.D)(ut.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(Hn(ut=>ut?(0,un.D)(ut.getIdTokenResult()):ot(null))),this.credential=(0,hk.T)(We,Z,this.authState.pipe(D(ut=>!ut))).pipe((0,at.U)(ut=>ut?.user?ut:null),(0,bA.R)(c.outsideAngular),(0,tD.Q)(c.insideAngular))}return(0,nr.pX)(this,ue,u,{spy:{apply:(Ie,We,rt)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&rt.then(mt=>Z.next(mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(nr.Dh),h.LFG(nr.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(lr.HU),h.LFG(_R,8),h.LFG(vR,8),h.LFG(wR,8),h.LFG(ER,8),h.LFG(IR,8),h.LFG(bR,8),h.LFG(BA,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function TR(n,e){return function hF(n,e=ra.z){return new Rr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function $A(n,e){return TR(n,e).pipe((0,at.U)(t=>({payload:t,type:"query"})))}function cD(n,e){return $A(n,e).pipe(qu(void 0),kr(),(0,at.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=i.find(T=>T.doc.ref.isEqual(c.ref)),I=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&I&&JSON.stringify(I.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function SR(n,e,t){return cD(n,t).pipe(At((r,i)=>function pF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function gF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return HA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return HA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function _c(n,e=Ps.y){return n=n??vm,(0,Ir.e)((t,r)=>{let i,u=!0;t.subscribe((0,Xn.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,at.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function HA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function AR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class MR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=cD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,at.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(qu(void 0),kr(),D(([r,i])=>i.length>0||!r),(0,at.U)(([r,i])=>i),lr.iC)}auditTrail(e){return this.stateChanges(e).pipe(At((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return SR(this.query,t,this.afs.schedulers.outsideAngular).pipe(lr.iC)}valueChanges(e={}){return $A(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),lr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(lr.iC)}add(e){return this.ref.add(e)}doc(e){return new xR(this.ref.doc(e),this.afs)}}class xR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=OR(r,t);return new MR(i,u,this.afs)}snapshotChanges(){return function fF(n,e){return TR(n,e).pipe(qu(void 0),kr(),(0,at.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(lr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,at.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(lr.iC)}}class mF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?cD(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),D(t=>t.length>0),lr.iC):cD(this.query,this.afs.schedulers.outsideAngular).pipe(lr.iC)}auditTrail(e){return this.stateChanges(e).pipe(At((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return SR(this.query,t,this.afs.schedulers.outsideAngular).pipe(lr.iC)}valueChanges(e={}){return $A(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),lr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(lr.iC)}}const NR=new h.OlP("angularfire2.enableFirestorePersistence"),RR=new h.OlP("angularfire2.firestore.persistenceSettings"),yF=new h.OlP("angularfire2.firestore.settings"),_F=new h.OlP("angularfire2.firestore.use-emulator");function OR(n,e=(t=>t)){return{query:e(n),ref:n}}let PR=(()=>{class n{constructor(t,r,i,u,c,p,_,I,T,M,L,G,Z,ue,Ie,We,rt){this.schedulers=_;const mt=(0,nr.on)(t,p,r),ut=T;M&&DR(mt,p,L,Z,ue,Ie,G,We),[this.firestore,this.persistenceEnabled$]=(0,nr.cc)(`${mt.name}.firestore`,"AngularFirestore",mt.name,()=>{const St=p.runOutsideAngular(()=>mt.firestore());if(u&&St.settings(u),ut&&St.useEmulator(...ut),i&&!pr(c)){const xt=()=>{try{return(0,un.D)(St.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(nn){return typeof console<"u"&&console.warn(nn),ot(!1)}};return[St,p.runOutsideAngular(xt)]}return[St,ot(!1)]},[u,ut,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=OR(i,r),p=this.schedulers.ngZone.run(()=>u);return new MR(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new mF(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new xR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(nr.Dh),h.LFG(nr.xv,8),h.LFG(NR,8),h.LFG(yF,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(lr.HU),h.LFG(RR,8),h.LFG(_F,8),h.LFG(CR,8),h.LFG(_R,8),h.LFG(vR,8),h.LFG(wR,8),h.LFG(ER,8),h.LFG(IR,8),h.LFG(bR,8),h.LFG(BA,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vF=(()=>{class n{constructor(){cF.Z.registerVersion("angularfire",lr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:NR,useValue:!0},{provide:RR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[PR]}),n})(),kR=(()=>{class n{constructor(t){this.firestore=t}agregarEmpleado(t){return this.firestore.collection("empleados").add(t)}getEmpleados(){return this.firestore.collection("empleados",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(t){return this.firestore.collection("empleados").doc(t).delete()}getEmpleado(t){return this.firestore.collection("empleados").doc(t).snapshotChanges()}actualizarEmpleado(t,r){return this.firestore.collection("empleados").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(PR))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FR{}const Kc="*";function EF(n,e){return{type:7,name:n,definitions:e,options:{}}}function LR(n,e=null){return{type:4,styles:e,timings:n}}function VR(n,e=null){return{type:2,steps:n,options:e}}function e0(n){return{type:6,styles:n,offset:null}}function GA(n,e,t){return{type:0,name:n,styles:e,options:t}}function UR(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function BR(n){Promise.resolve().then(n)}class t0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){BR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?BR(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const $R=["toast-component",""];function IF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.remove())}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function bF(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function DF(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,bF,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function CF(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function TF(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function SF(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}class PF{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class dD{constructor(e,t,r,i,u,c){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=u,this.toastRef=c,this._onTap=new $n.x,this._onAction=new $n.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const GR=new h.OlP("ToastConfig");class FF{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new $n.x,this._activate=new $n.x,this._manualClose=new $n.x,this._resetTimeout=new $n.x,this._countDuplicate=new $n.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class LF{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===dD?this._toastPackage:this._parentInjector.get(e,t,r)}}class VF extends class kF{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class UF{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let BF=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jF=(()=>{class n{constructor(t,r,i,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new VF(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new UF(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(BF),h.LFG(h._Vd),h.LFG(h.z2F),h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hD=(()=>{class n{constructor(t,r,i,u,c){this.overlay=r,this._injector=i,this.sanitizer=u,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,u){const{includeTitleDuplicates:c}=this.toastrConfig;for(const p of this.toasts){const _=c&&p.title===t;if((!c||_)&&p.message===r)return p.toastRef.onDuplicate(i,u),p}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,u)):this._buildNotification(t,r,i,u)}_buildNotification(t,r,i,u){if(!u.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let p=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(p=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let I=r;r&&u.enableHtml&&(I=this.sanitizer.sanitize(h.q3G.HTML,r));const T=new FF(_),M=new dD(this.index,u,I,i,t,T),L=new LF(M,this._injector),G=new PF(u.toastComponent,L),Z=_.attach(G,this.toastrConfig.newestOnTop);T.componentInstance=Z.instance;const ue={toastId:this.index,title:i||"",message:r||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:Z};return p||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ue.toastRef.activate()})),this.toasts.push(ue),ue}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(GR),h.LFG(jF),h.LFG(h.zs3),h.LFG(Pa),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $F={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(hD),h.Y36(dD),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.d8E("@flyInOut",r.state),h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:$R,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,IF,3,0,"button",0),h.YNc(1,DF,3,5,"div",1),h.YNc(2,CF,1,3,"div",2),h.YNc(3,TF,2,4,"div",3),h.YNc(4,SF,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},dependencies:[kn],encapsulation:2,data:{animation:[EF("flyInOut",[GA("inactive",e0({opacity:0})),GA("active",e0({opacity:1})),GA("removed",e0({opacity:0})),UR("inactive => active",LR("{{ easeTime }}ms {{ easing }}")),UR("active => removed",LR("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let HF=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:GR,useValue:{default:$F,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[No]}),n})();function GF(n,e){1&n&&h._UZ(0,"div",16)}function zF(n,e){1&n&&(h.TgZ(0,"span",17),h._uU(1,"*Todos los campos son obligatorios."),h.qZA())}let zR=(()=>{class n{constructor(t,r,i,u,c){this.fb=t,this._empleadoService=r,this.router=i,this.toastr=u,this.aRoute=c,this.submitted=!1,this.loading=!1,this.titulo="Agregar empleado",this.createEmpleado=this.fb.group({nombre:["",Pf.required],apellido:["",Pf.required],documento:["",Pf.required],salario:["",Pf.required]}),this.id=this.aRoute.snapshot.paramMap.get("id"),console.log(this.id)}ngOnInit(){this.esEditar()}agregarEditarEmpleado(){this.submitted=!0,!this.createEmpleado.invalid&&(null==this.id?this.agregarEmpleado():this.editarEmpleado(this.id))}agregarEmpleado(){const t={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.agregarEmpleado(t).then(()=>{this.toastr.success("El empleado fue registrado con exito!","Empleado registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,console.log("empleado registrado con exito!"),this.router.navigate(["/list-empleados"])}).catch(r=>{console.log("error de registro"),this.loading=!1})}editarEmpleado(t){const r={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.actualizarEmpleado(t,r).then(()=>{this.loading=!1,this.toastr.info("El empleado fue modificado con exito!","Empleado modificado",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-empleados"])})}esEditar(){null!==this.id&&(this.loading=!0,this.titulo="Editar Empleado",this._empleadoService.getEmpleado(this.id).subscribe(t=>{this.loading=!1,console.log(t.payload.data().nombre),this.createEmpleado.setValue({nombre:t.payload.data().nombre,apellido:t.payload.data().apellido,documento:t.payload.data().documento,salario:t.payload.data().salario})}))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(UC),h.Y36(kR),h.Y36(br),h.Y36(hD),h.Y36(yo))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-create-empleado"]],decls:22,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-lg-6","offset-lg-3","p-4"],[1,"card"],[1,"card-body","text-center"],["class","spinner-border text-success float-end",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","text","formControlName","documento","placeholder","Documento",1,"form-control","form-control-lg","mt-3"],["type","number","formControlName","salario","placeholder","Salario",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","text","routerLink","/list-empleados",1,"btn","btn-secondary","btn-lg","me-3"],["type","submit",1,"btn","btn-success","btn-lg"],[1,"spinner-border","text-success","float-end"],[1,"badge","bg-danger"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),h._uU(6),h.YNc(7,GF,1,0,"div",5),h.qZA(),h.YNc(8,zF,2,0,"span",6),h.TgZ(9,"form",7),h.NdJ("ngSubmit",function(){return r.agregarEditarEmpleado()}),h.TgZ(10,"div",1)(11,"div",8),h._UZ(12,"input",9),h.qZA(),h.TgZ(13,"div",8),h._UZ(14,"input",10),h.qZA()(),h._UZ(15,"input",11)(16,"input",12),h.TgZ(17,"div",13)(18,"button",14),h._uU(19," Volver "),h.qZA(),h.TgZ(20,"button",15),h._uU(21," Guardar "),h.qZA()()()()()()()()),2&t&&(h.xp6(6),h.hij("",r.titulo," "),h.xp6(1),h.Q6J("ngIf",r.loading),h.xp6(1),h.Q6J("ngIf",r.submitted&&r.createEmpleado.invalid),h.xp6(1),h.Q6J("formGroup",r.createEmpleado))},dependencies:[kn,lc,cm,zd,dm,V_,Vf,fm,$f]}),n})();function qF(n,e){1&n&&(h.TgZ(0,"h5",7),h._uU(1,"No hay datos para mostrar"),h.qZA())}const WF=function(n){return["/editEmpleado/",n]};function KF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"tr",10)(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.qZA(),h.TgZ(7,"td"),h._uU(8),h.ALo(9,"currency"),h.qZA(),h.TgZ(10,"td"),h._UZ(11,"i",11),h.TgZ(12,"i",12),h.NdJ("click",function(){const u=h.CHM(t).$implicit,c=h.oxw(2);return h.KtG(c.eliminarEmpleado(u.id))}),h.qZA()()()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.nombre),h.xp6(2),h.Oqu(t.apellido),h.xp6(2),h.Oqu(t.documento),h.xp6(2),h.Oqu(h.lcZ(9,5,t.salario)),h.xp6(3),h.Q6J("routerLink",h.VKq(7,WF,t.id))}}function ZF(n,e){if(1&n&&(h.TgZ(0,"table",8)(1,"thead")(2,"tr")(3,"th"),h._uU(4,"Nombre"),h.qZA(),h.TgZ(5,"th"),h._uU(6,"Apellido"),h.qZA(),h.TgZ(7,"th"),h._uU(8,"Documento"),h.qZA(),h.TgZ(9,"th"),h._uU(10,"Salario"),h.qZA(),h.TgZ(11,"th"),h._uU(12,"Funcion"),h.qZA()()(),h.TgZ(13,"tbody"),h.YNc(14,KF,13,9,"tr",9),h.qZA()()),2&n){const t=h.oxw();h.xp6(14),h.Q6J("ngForOf",t.empleados)}}const YF=[{path:"",redirectTo:"list-empleados",pathMatch:"full"},{path:"list-empleados",component:(()=>{class n{constructor(t,r){this._empleadoService=t,this.toastr=r,this.empleados=[]}ngOnInit(){this.getEmpleados()}getEmpleados(){this._empleadoService.getEmpleados().subscribe(t=>{this.empleados=[],t.forEach(r=>{this.empleados.push({id:r.payload.doc.id,...r.payload.doc.data()})}),console.log(this.empleados)})}eliminarEmpleado(t){this._empleadoService.eliminarEmpleado(t).then(()=>{console.log("empleado eliminado con exito"),this.toastr.error("El empleado fue eliminado con exito!","Registro eliminado",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(kR),h.Y36(hD))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-list-empleados"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["type","button","routerLink","/create-empleado",1,"btn","float-end","btn-success","btno.lg"],["style","margin-top: 30px;",4,"ngIf"],["class","table table-dark mt-5 table-striped",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-dark","mt-5","table-striped"],["class","center",4,"ngFor","ngForOf"],[1,"center"],[1,"fa-solid","fa-user-pen","fa-lg","text-info","p-3",3,"routerLink"],[1,"fa-solid","fa-trash","fa-lg","text-danger",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),h._uU(4,"Listado de empleados "),h.qZA(),h.TgZ(5,"button",4),h._uU(6,"Agregar"),h.qZA(),h.YNc(7,qF,2,0,"h5",5),h.YNc(8,ZF,15,1,"table",6),h.qZA()()()),2&t&&(h.xp6(7),h.Q6J("ngIf",0==r.empleados.length),h.xp6(1),h.Q6J("ngIf",r.empleados.length>0))},dependencies:[Xs,kn,lc,Ss],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),n})()},{path:"acerca",component:q0},{path:"create-empleado",component:zR},{path:"editEmpleado/:id",component:zR},{path:"**",redirectTo:"list-empleados",pathMatch:"full"}];let QF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[H0.forRoot(YF),H0]}),n})();function qR(n){return new h.vHH(3e3,!1)}function RL(){return typeof window<"u"&&typeof window.document<"u"}function qA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zh(n){switch(n.length){case 0:return new t0;case 1:return n[0];default:return new jR(n)}}function WR(n,e,t,r,i=new Map,u=new Map){const c=[],p=[];let _=-1,I=null;if(r.forEach(T=>{const M=T.get("offset"),L=M==_,G=L&&I||new Map;T.forEach((Z,ue)=>{let Ie=ue,We=Z;if("offset"!==ue)switch(Ie=e.normalizePropertyName(Ie,c),We){case"!":We=i.get(ue);break;case Kc:We=u.get(ue);break;default:We=e.normalizeStyleValue(ue,Ie,We,c)}G.set(Ie,We)}),L||p.push(G),I=G,_=M}),c.length)throw function wL(n){return new h.vHH(3502,!1)}();return p}function WA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&KA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&KA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&KA(t,"destroy",n)))}}function KA(n,e,t){const u=ZA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function ZA(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function To(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function KR(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let YA=(n,e)=>!1,ZR=(n,e,t)=>[],YR=null;function QA(n){const e=n.parentNode||n.host;return e===YR?null:e}(qA()||typeof Element<"u")&&(RL()?(YR=(()=>document.documentElement)(),YA=(n,e)=>{for(;e;){if(e===n)return!0;e=QA(e)}return!1}):YA=(n,e)=>n.contains(e),ZR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yp=null,QR=!1;const JR=YA,XR=ZR;let eO=(()=>{class n{validateStyleProperty(t){return function PL(n){Yp||(Yp=function kL(){return typeof document<"u"?document.body:null}()||{},QR=!!Yp.style&&"WebkitAppearance"in Yp.style);let e=!0;return Yp.style&&!function OL(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yp.style,!e&&QR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Yp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return JR(t,r)}getParentElement(t){return QA(t)}query(t,r,i){return XR(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,p=[],_){return new t0(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),JA=(()=>{class n{}return n.NOOP=new eO,n})();const XA="ng-enter",fD="ng-leave",pD="ng-trigger",gD=".ng-trigger",nO="ng-animating",eM=".ng-animating";function Zc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tM(parseFloat(e[1]),e[2])}function tM(n,e){return"s"===e?1e3*n:n}function mD(n,e,t){return n.hasOwnProperty("duration")?n:function VL(n,e,t){let i,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(qR()),{duration:0,delay:0,easing:""};i=tM(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(u=tM(parseFloat(_),p[4]));const I=p[5];I&&(c=I)}else i=n;if(!t){let p=!1,_=e.length;i<0&&(e.push(function JF(){return new h.vHH(3100,!1)}()),p=!0),u<0&&(e.push(function XF(){return new h.vHH(3101,!1)}()),p=!0),p&&e.splice(_,0,qR())}return{duration:i,delay:u,easing:c}}(n,e,t)}function n0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function rO(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function qh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function sO(n,e,t){return t?e+":"+t+";":""}function oO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=sO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=sO(0,$L(t),n.style[t]));n.setAttribute("style",e)}function vl(n,e,t){n.style&&(e.forEach((r,i)=>{const u=rM(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r}),qA()&&oO(n))}function Qp(n,e){n.style&&(e.forEach((t,r)=>{const i=rM(r);n.style[i]=""}),qA()&&oO(n))}function r0(n){return Array.isArray(n)?1==n.length?n[0]:VR(n):n}const nM=new RegExp("{{\\s*(.+?)\\s*}}","g");function aO(n){let e=[];if("string"==typeof n){let t;for(;t=nM.exec(n);)e.push(t[1]);nM.lastIndex=0}return e}function s0(n,e,t){const r=n.toString(),i=r.replace(nM,(u,c)=>{let p=e[c];return null==p&&(t.push(function tL(n){return new h.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function yD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const jL=/-+([a-z0-9])/g;function rM(n){return n.replace(jL,(...e)=>e[1].toUpperCase())}function $L(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function So(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function nL(n){return new h.vHH(3004,!1)}()}}function uO(n,e){return window.getComputedStyle(n)[e]}function KL(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ZL(n,e,t){if(":"==n[0]){const _=function YL(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function mL(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function gL(n){return new h.vHH(3015,!1)}()),e;const i=r[1],u=r[2],c=r[3];e.push(lO(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(lO(c,i))}(r,t,e)):t.push(n),t}const ED=new Set(["true","1"]),ID=new Set(["false","0"]);function lO(n,e){const t=ED.has(n)||ID.has(n),r=ED.has(e)||ID.has(e);return(i,u)=>{let c="*"==n||n==i,p="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?ED.has(n):ID.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?ED.has(e):ID.has(e)),c&&p}}const QL=new RegExp("s*:selfs*,?","g");function iM(n,e,t,r){return new JL(n).build(e,t,r)}class JL{constructor(e){this._driver=e}build(e,t,r){const i=new tV(t);return this._resetContextStyleTimingState(i),So(this,r0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function iL(){return new h.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,I=_.name;I.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,u.push(this.visitState(_,t))}),_.name=I}else if(1==p.type){const _=this.visitTransition(p,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function sL(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(_=>{aO(_).forEach(I=>{c.hasOwnProperty(I)||u.add(I)})})}),u.size&&(yD(u.values()),t.errors.push(function oL(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=So(this,r0(e.animation),t);return{type:1,matchers:KL(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Jp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>So(this,r,t)),options:Jp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const p=So(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:u,options:Jp(e.options)}}visitAnimate(e,t){const r=function rV(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return sM(mD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=sM(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=mD(t,e);return sM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:e0({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const I={};r.easing&&(I.easing=r.easing),c=e0(I)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=p,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===Kc?r.push(p):t.errors.push(new h.vHH(3002,!1)):r.push(rO(p));let u=!1,c=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(c=p.get("easing"),p.delete("easing")),!u))for(let _ of p.values())if(_.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,_)=>{const I=t.collectedStyles.get(t.currentQuerySelector),T=I.get(_);let M=!0;T&&(u!=i&&u>=T.startTime&&i<=T.endTime&&(t.errors.push(function uL(n,e,t,r,i){return new h.vHH(3010,!1)}()),M=!1),u=T.startTime),M&&I.set(_,{startTime:u,endTime:i}),t.options&&function BL(n,e,t){const r=e.params||{},i=aO(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function eL(n){return new h.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function lL(){return new h.vHH(3011,!1)}()),r;let u=0;const c=[];let p=!1,_=!1,I=0;const T=e.steps.map(We=>{const rt=this._makeStyleAst(We,t);let mt=null!=rt.offset?rt.offset:function nV(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(rt.styles),ut=0;return null!=mt&&(u++,ut=rt.offset=mt),_=_||ut<0||ut>1,p=p||ut<I,I=ut,c.push(ut),rt});_&&t.errors.push(function cL(){return new h.vHH(3012,!1)}()),p&&t.errors.push(function dL(){return new h.vHH(3200,!1)}());const M=e.steps.length;let L=0;u>0&&u<M?t.errors.push(function hL(){return new h.vHH(3202,!1)}()):0==u&&(L=1/(M-1));const G=M-1,Z=t.currentTime,ue=t.currentAnimateTimings,Ie=ue.duration;return T.forEach((We,rt)=>{const mt=L>0?rt==G?1:L*rt:c[rt],ut=mt*Ie;t.currentTime=Z+ue.delay+ut,ue.duration=ut,this._validateStyleAst(We,t),We.offset=mt,r.styles.push(We)}),r}visitReference(e,t){return{type:8,animation:So(this,r0(e.animation),t),options:Jp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Jp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Jp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function XL(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(QL,"")),n=n.replace(/@\*/g,gD).replace(/@\w+/g,t=>gD+"-"+t.slice(1)).replace(/:animating/g,eM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,To(t.collectedStyles,t.currentQuerySelector,new Map);const p=So(this,r0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Jp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function fL(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:mD(e.timings,t.errors,!0);return{type:12,animation:So(this,r0(e.animation),t),timings:r,options:null}}}class tV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jp(n){return n?(n=n0(n)).params&&(n.params=function eV(n){return n?n0(n):null}(n.params)):n={},n}function sM(n,e,t){return{duration:n,delay:e,easing:t}}function oM(n,e,t,r,i,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:p}}class bD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const oV=new RegExp(":enter","g"),uV=new RegExp(":leave","g");function aM(n,e,t,r,i,u=new Map,c=new Map,p,_,I=[]){return(new lV).buildKeyframes(n,e,t,r,i,u,c,p,_,I)}class lV{buildKeyframes(e,t,r,i,u,c,p,_,I,T=[]){I=I||new bD;const M=new uM(e,t,I,i,u,T,[]);M.options=_;const L=_.delay?Zc(_.delay):0;M.currentTimeline.delayNextStep(L),M.currentTimeline.setStyles([c],null,M.errors,_),So(this,r,M);const G=M.timelines.filter(Z=>Z.containsAnimation());if(G.length&&p.size){let Z;for(let ue=G.length-1;ue>=0;ue--){const Ie=G[ue];if(Ie.element===t){Z=Ie;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([p],null,M.errors,_)}return G.length?G.map(Z=>Z.buildKeyframes()):[oM(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const c="number"==typeof u?u:Zc(s0(u,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Zc(r.duration):null,p=null!=r.delay?Zc(r.delay):null;return 0!==c&&e.forEach(_=>{const I=t.appendInstructionToTimeline(_,c,p);u=Math.max(u,I.duration+I.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),So(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=DD);const c=Zc(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>So(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Zc(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),So(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return mD(t.params?s0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*u),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Zc(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=DD);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((I,T)=>{t.currentQueryIndex=T;const M=t.createSubContext(e.options,I);u&&M.delayNextStep(u),I===t.element&&(_=M.currentTimeline),So(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":_=p-_;break;case"full":_=r.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const M=T.currentTime;So(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const DD={};class uM{constructor(e,t,r,i,u,c,p,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new CD(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Zc(r.duration)),null!=r.delay&&(i.delay=Zc(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=s0(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new uM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=DD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new cV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(oV,"."+this._enterClassName)).replace(uV,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),p.push(...I)}return!u&&0==p.length&&c.push(function pL(n){return new h.vHH(3014,!1)}()),p}}class CD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new CD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Kc),this._currentKeyframe.set(t,Kc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},c=function dV(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,Kc)}else qh(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,_]of c){const I=s0(_,u,r);this._pendingStyles.set(p,I),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Kc),this._updateStyle(p,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,_)=>{const I=qh(p,new Map,this._backFill);I.forEach((T,M)=>{"!"===T?e.add(M):T===Kc&&t.add(M)}),r||I.set("offset",_/this.duration),i.push(I)});const u=e.size?yD(e.values()):[],c=t.size?yD(t.values()):[];if(r){const p=i[0],_=new Map(p);p.set("offset",0),_.set("offset",1),i=[p,_]}return oM(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class cV extends CD{constructor(e,t,r,i,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,_=qh(e[0]);_.set("offset",0),u.push(_);const I=qh(e[0]);I.set("offset",hO(p)),u.push(I);const T=e.length-1;for(let M=1;M<=T;M++){let L=qh(e[M]);const G=L.get("offset");L.set("offset",hO((t+G*r)/c)),u.push(L)}r=c,t=0,i="",e=u}return oM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function hO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class lM{}const hV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fV extends lM{normalizePropertyName(e,t){return rM(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(hV.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function rL(n,e){return new h.vHH(3005,!1)}())}return c+u}}function fO(n,e,t,r,i,u,c,p,_,I,T,M,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:_,preStyleProps:I,postStyleProps:T,totalTime:M,errors:L}}const cM={};class pO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function pV(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,c,p,_,I,T){const M=[],L=this.ast.options&&this.ast.options.params||cM,Z=this.buildStyles(r,p&&p.params||cM,M),ue=_&&_.params||cM,Ie=this.buildStyles(i,ue,M),We=new Set,rt=new Map,mt=new Map,ut="void"===i,St={params:gV(ue,L),delay:this.ast.options?.delay},xt=T?[]:aM(e,t,this.ast.animation,u,c,Z,Ie,St,I,M);let nn=0;if(xt.forEach(Yc=>{nn=Math.max(Yc.duration+Yc.delay,nn)}),M.length)return fO(t,this._triggerName,r,i,ut,Z,Ie,[],[],rt,mt,nn,M);xt.forEach(Yc=>{const Qc=Yc.element,xO=To(rt,Qc,new Set);Yc.preStyleProps.forEach(Xp=>xO.add(Xp));const a0=To(mt,Qc,new Set);Yc.postStyleProps.forEach(Xp=>a0.add(Xp)),Qc!==t&&We.add(Qc)});const vs=yD(We.values());return fO(t,this._triggerName,r,i,ut,Z,Ie,xt,vs,rt,mt,nn)}}function gV(n,e){const t=n0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class mV{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=n0(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!==c&&(i[u]=c)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((c,p)=>{c&&(c=s0(c,i,t));const _=this.normalizer.normalizePropertyName(p,t);c=this.normalizer.normalizeStyleValue(p,_,c,t),r.set(_,c)})}),r}}class _V{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new mV(i.style,i.options&&i.options.params||{},r))}),gO(this.states,"true","1"),gO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new pO(e,i,this.states))}),this.fallbackTransition=function vV(n,e,t){return new pO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function gO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const wV=new bD;class EV{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=iM(this._driver,t,r,[]);if(r.length)throw function EL(n){return new h.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=WR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let c;const p=new Map;if(u?(c=aM(this._driver,t,u,XA,fD,new Map,new Map,r,wV,i),c.forEach(T=>{const M=To(p,T.element,new Map);T.postStyleProps.forEach(L=>M.set(L,null))})):(i.push(function IL(){return new h.vHH(3300,!1)}()),c=[]),i.length)throw function bL(n){return new h.vHH(3504,!1)}();p.forEach((T,M)=>{T.forEach((L,G)=>{T.set(G,this._driver.computeStyle(M,G,Kc))})});const I=zh(c.map(T=>{const M=p.get(T.element);return this._buildPlayer(T,new Map,M)}));return this._playersById.set(e,I),I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function DL(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=ZA(t,"","","");return WA(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const mO="ng-animate-queued",dM="ng-animate-disabled",TV=[],yO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},SV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},da="__ng_removed";class hM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function NV(n){return n??null}(r?e.value:e),r){const u=n0(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const o0="void",fM=new hM(o0);class AV{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ha(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function CL(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function TL(n){return new h.vHH(3303,!1)}();if(!function RV(n){return"start"==n||"done"==n}(r))throw function SL(n,e){return new h.vHH(3400,!1)}();const u=To(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const p=To(this._engine.statesByElement,e,new Map);return p.has(t)||(ha(e,pD),ha(e,pD+"-"+t),p.set(t,fM)),()=>{this._engine.afterFlush(()=>{const _=u.indexOf(c);_>=0&&u.splice(_,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function AL(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new pM(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(ha(e,pD),ha(e,pD+"-"+t),this._engine.statesByElement.set(e,p=new Map));let _=p.get(t);const I=new hM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&I.absorbOptions(_.options),p.set(t,I),_||(_=fM),I.value!==o0&&_.value===I.value){if(!function kV(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(_.params,I.params)){const ue=[],Ie=u.matchStyles(_.value,_.params,ue),We=u.matchStyles(I.value,I.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{Qp(e,Ie),vl(e,We)})}return}const L=To(this._engine.playersByElement,e,[]);L.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==t&&ue.queued&&ue.destroy()});let G=u.matchTransition(_.value,I.value,e,I.params),Z=!1;if(!G){if(!i)return;G=u.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:_,toState:I,player:c,isFallbackTransition:Z}),Z||(ha(e,mO),c.onStart(()=>{qy(e,mO)})),c.onDone(()=>{let ue=this.players.indexOf(c);ue>=0&&this.players.splice(ue,1);const Ie=this._engine.playersByElement.get(e);if(Ie){let We=Ie.indexOf(c);We>=0&&Ie.splice(We,1)}}),this.players.push(c),L.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,gD,!0);r.forEach(i=>{if(i[da])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(u.forEach((_,I)=>{if(c.set(I,_.value),this._triggers.has(I)){const T=this.trigger(e,I,o0,i);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&zh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,I=r.get(c)||fM,T=new hM(o0),M=new pM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:I,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[da];(!u||u===yO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ha(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const _=ZA(u,r.triggerName,r.fromState.value,r.toState.value);_._data=e,WA(r.player,p.phase,_,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class MV{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new AV(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,p=this.driver.getParentElement(t);for(;p;){const _=i.get(p);if(_){const I=r.indexOf(_);r.splice(I+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(TD(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!TD(t))return;const u=t[da];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ha(e,dM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qy(e,dM))}removeNode(e,t,r,i){if(TD(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[da]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return TD(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,gD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,eM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[da];if(t&&t.setForRemoval){if(e[da]=yO,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(dM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ha(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?zh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function ML(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new bD,i=[],u=new Map,c=[],p=new Map,_=new Map,I=new Map,T=new Set;this.disabledNodes.forEach(dt=>{T.add(dt);const Dt=this.driver.query(dt,".ng-animate-queued",!0);for(let Nt=0;Nt<Dt.length;Nt++)T.add(Dt[Nt])});const M=this.bodyNode,L=Array.from(this.statesByElement.keys()),G=wO(L,this.collectedEnterElements),Z=new Map;let ue=0;G.forEach((dt,Dt)=>{const Nt=XA+ue++;Z.set(Dt,Nt),dt.forEach(ln=>ha(ln,Nt))});const Ie=[],We=new Set,rt=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Dt=this.collectedLeaveElements[dt],Nt=Dt[da];Nt&&Nt.setForRemoval&&(Ie.push(Dt),We.add(Dt),Nt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(ln=>We.add(ln)):rt.add(Dt))}const mt=new Map,ut=wO(L,Array.from(We));ut.forEach((dt,Dt)=>{const Nt=fD+ue++;mt.set(Dt,Nt),dt.forEach(ln=>ha(ln,Nt))}),e.push(()=>{G.forEach((dt,Dt)=>{const Nt=Z.get(Dt);dt.forEach(ln=>qy(ln,Nt))}),ut.forEach((dt,Dt)=>{const Nt=mt.get(Dt);dt.forEach(ln=>qy(ln,Nt))}),Ie.forEach(dt=>{this.processLeaveNode(dt)})});const St=[],xt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Nt=>{const ln=Nt.player,pi=Nt.element;if(St.push(ln),this.collectedEnterElements.length){const Zi=pi[da];if(Zi&&Zi.setForMove){if(Zi.previousTriggersValues&&Zi.previousTriggersValues.has(Nt.triggerName)){const eg=Zi.previousTriggersValues.get(Nt.triggerName),fa=this.statesByElement.get(Nt.element);if(fa&&fa.has(Nt.triggerName)){const MD=fa.get(Nt.triggerName);MD.value=eg,fa.set(Nt.triggerName,MD)}}return void ln.destroy()}}const wl=!M||!this.driver.containsElement(M,pi),Ao=mt.get(pi),Wh=Z.get(pi),hr=this._buildInstruction(Nt,r,Wh,Ao,wl);if(hr.errors&&hr.errors.length)return void xt.push(hr);if(wl)return ln.onStart(()=>Qp(pi,hr.fromStyles)),ln.onDestroy(()=>vl(pi,hr.toStyles)),void i.push(ln);if(Nt.isFallbackTransition)return ln.onStart(()=>Qp(pi,hr.fromStyles)),ln.onDestroy(()=>vl(pi,hr.toStyles)),void i.push(ln);const OO=[];hr.timelines.forEach(Zi=>{Zi.stretchStartingKeyframe=!0,this.disabledNodes.has(Zi.element)||OO.push(Zi)}),hr.timelines=OO,r.append(pi,hr.timelines),c.push({instruction:hr,player:ln,element:pi}),hr.queriedElements.forEach(Zi=>To(p,Zi,[]).push(ln)),hr.preStyleProps.forEach((Zi,eg)=>{if(Zi.size){let fa=_.get(eg);fa||_.set(eg,fa=new Set),Zi.forEach((MD,yM)=>fa.add(yM))}}),hr.postStyleProps.forEach((Zi,eg)=>{let fa=I.get(eg);fa||I.set(eg,fa=new Set),Zi.forEach((MD,yM)=>fa.add(yM))})});if(xt.length){const dt=[];xt.forEach(Dt=>{dt.push(function xL(n,e){return new h.vHH(3505,!1)}())}),St.forEach(Dt=>Dt.destroy()),this.reportError(dt)}const nn=new Map,vs=new Map;c.forEach(dt=>{const Dt=dt.element;r.has(Dt)&&(vs.set(Dt,Dt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,nn))}),i.forEach(dt=>{const Dt=dt.element;this._getPreviousPlayers(Dt,!1,dt.namespaceId,dt.triggerName,null).forEach(ln=>{To(nn,Dt,[]).push(ln),ln.destroy()})});const Yc=Ie.filter(dt=>IO(dt,_,I)),Qc=new Map;vO(Qc,this.driver,rt,I,Kc).forEach(dt=>{IO(dt,_,I)&&Yc.push(dt)});const a0=new Map;G.forEach((dt,Dt)=>{vO(a0,this.driver,new Set(dt),_,"!")}),Yc.forEach(dt=>{const Dt=Qc.get(dt),Nt=a0.get(dt);Qc.set(dt,new Map([...Array.from(Dt?.entries()??[]),...Array.from(Nt?.entries()??[])]))});const Xp=[],NO=[],RO={};c.forEach(dt=>{const{element:Dt,player:Nt,instruction:ln}=dt;if(r.has(Dt)){if(T.has(Dt))return Nt.onDestroy(()=>vl(Dt,ln.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(ln.totalTime),void i.push(Nt);let pi=RO;if(vs.size>1){let Ao=Dt;const Wh=[];for(;Ao=Ao.parentNode;){const hr=vs.get(Ao);if(hr){pi=hr;break}Wh.push(Ao)}Wh.forEach(hr=>vs.set(hr,pi))}const wl=this._buildAnimation(Nt.namespaceId,ln,nn,u,a0,Qc);if(Nt.setRealPlayer(wl),pi===RO)Xp.push(Nt);else{const Ao=this.playersByElement.get(pi);Ao&&Ao.length&&(Nt.parentPlayer=zh(Ao)),i.push(Nt)}}else Qp(Dt,ln.fromStyles),Nt.onDestroy(()=>vl(Dt,ln.toStyles)),NO.push(Nt),T.has(Dt)&&i.push(Nt)}),NO.forEach(dt=>{const Dt=u.get(dt.element);if(Dt&&Dt.length){const Nt=zh(Dt);dt.setRealPlayer(Nt)}}),i.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<Ie.length;dt++){const Dt=Ie[dt],Nt=Dt[da];if(qy(Dt,fD),Nt&&Nt.hasAnimation)continue;let ln=[];if(p.size){let wl=p.get(Dt);wl&&wl.length&&ln.push(...wl);let Ao=this.driver.query(Dt,eM,!0);for(let Wh=0;Wh<Ao.length;Wh++){let hr=p.get(Ao[Wh]);hr&&hr.length&&ln.push(...hr)}}const pi=ln.filter(wl=>!wl.destroyed);pi.length?OV(this,Dt,pi):this.processLeaveNode(Dt)}return Ie.length=0,Xp.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Dt=this.players.indexOf(dt);this.players.splice(Dt,1)}),dt.play()}),Xp}elementContainsData(e,t){let r=!1;const i=t[da];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const _=!u||u==o0;p.forEach(I=>{I.queued||!_&&I.triggerName!=i||c.push(I)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const I=_.element,T=I!==u,M=To(r,I,[]);this._getPreviousPlayers(I,T,c,p,t.toState).forEach(G=>{const Z=G.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),G.destroy(),M.push(G)})}Qp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const p=t.triggerName,_=t.element,I=[],T=new Set,M=new Set,L=t.timelines.map(Z=>{const ue=Z.element;T.add(ue);const Ie=ue[da];if(Ie&&Ie.removedBeforeQueried)return new t0(Z.duration,Z.delay);const We=ue!==_,rt=function PV(n){const e=[];return EO(n,e),e}((r.get(ue)||TV).map(nn=>nn.getRealPlayer())).filter(nn=>!!nn.element&&nn.element===ue),mt=u.get(ue),ut=c.get(ue),St=WR(0,this._normalizer,0,Z.keyframes,mt,ut),xt=this._buildPlayer(Z,St,rt);if(Z.subTimeline&&i&&M.add(ue),We){const nn=new pM(e,p,ue);nn.setRealPlayer(xt),I.push(nn)}return xt});I.forEach(Z=>{To(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function xV(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Z.element,Z))}),T.forEach(Z=>ha(Z,nO));const G=zh(L);return G.onDestroy(()=>{T.forEach(Z=>qy(Z,nO)),vl(_,t.toStyles)}),M.forEach(Z=>{To(i,Z,[]).push(G)}),G}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new t0(e.duration,e.delay)}}class pM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new t0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>WA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){To(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function TD(n){return n&&1===n.nodeType}function _O(n,e){const t=n.style.display;return n.style.display=e??"none",t}function vO(n,e,t,r,i){const u=[];t.forEach(_=>u.push(_O(_)));const c=[];r.forEach((_,I)=>{const T=new Map;_.forEach(M=>{const L=e.computeStyle(I,M,i);T.set(M,L),(!L||0==L.length)&&(I[da]=SV,c.push(I))}),n.set(I,T)});let p=0;return t.forEach(_=>_O(_,u[p++])),c}function wO(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(p){if(!p)return 1;let _=u.get(p);if(_)return _;const I=p.parentNode;return _=t.has(I)?I:i.has(I)?1:c(I),u.set(p,_),_}return e.forEach(p=>{const _=c(p);1!==_&&t.get(_).push(p)}),t}function ha(n,e){n.classList?.add(e)}function qy(n,e){n.classList?.remove(e)}function OV(n,e,t){zh(t).onDone(()=>n.processLeaveNode(e))}function EO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof jR?EO(r.players,e):e.push(r)}}function IO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class SD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new MV(e,t,r),this._timelineEngine=new EV(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const _=[],T=iM(this._driver,u,_,[]);if(_.length)throw function vL(n,e){return new h.vHH(3404,!1)}();p=function yV(n,e,t){return new _V(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=KR(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,p]=KR(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let LV=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&vl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vl(this._element,this._initialStyles),this._endStyles&&(vl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qp(this._element,this._endStyles),this._endStyles=null),vl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function gM(n){let e=null;return n.forEach((t,r)=>{(function VV(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class bO{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:uO(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class UV{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return JR(e,t)}getParentElement(e){return QA(e)}query(e,t,r){return XR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(_.easing=u);const I=new Map,T=c.filter(G=>G instanceof bO);(function HL(n,e){return 0===n||0===e})(r,i)&&T.forEach(G=>{G.currentSnapshot.forEach((Z,ue)=>I.set(ue,Z))});let M=function UL(n){return n.length?n[0]instanceof Map?n:n.map(e=>rO(e)):[]}(t).map(G=>qh(G));M=function GL(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,c)=>{r.has(c)||i.push(c),r.set(c,u)}),i.length)for(let u=1;u<e.length;u++){let c=e[u];i.forEach(p=>c.set(p,uO(n,p)))}}return e}(e,M,I);const L=function FV(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=gM(e[0]),e.length>1&&(r=gM(e[e.length-1]))):e instanceof Map&&(t=gM(e)),t||r?new LV(n,t,r):null}(e,M);return new bO(e,M,_,L)}}let BV=(()=>{class n extends FR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?VR(t):t;return DO(this._renderer,null,r,"register",[i]),new jV(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(le))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class jV extends class wF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new $V(this._id,e,t||{},this._renderer)}}class $V{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return DO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function DO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const CO="@.disabled";let HV=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=c?.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new TO("",u,this.engine),this._rendererCache.set(u,T)),T}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(c,p,t,T.name,T)};return r.data.animation.forEach(_),new GV(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(SD),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class TO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==CO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class GV extends TO{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function zV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),c="";return"@"!=u.charAt(0)&&([u,c]=function qV(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let WV=(()=>{class n extends SD{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le),h.LFG(JA),h.LFG(lM),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const SO=[{provide:FR,useClass:BV},{provide:lM,useFactory:function KV(){return new fV}},{provide:SD,useClass:WV},{provide:h.FYo,useFactory:function ZV(n,e,t){return new HV(n,e,t)},deps:[so,SD,h.R0b]}],mM=[{provide:JA,useFactory:()=>new UV},{provide:h.QbO,useValue:"BrowserAnimations"},...SO],AO=[{provide:JA,useClass:eO},{provide:h.QbO,useValue:"NoopAnimations"},...SO];let YV=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?AO:mM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:mM,imports:[Uu]}),n})(),QV=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:20,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","/assets/angular.png",2,"height","50px"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor01","aria-controls","navbarColor01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor01",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["routerLink","/list-empleado","href","#",1,"nav-link","active"],[1,"visually-hidden"],["routerLink","/acerca","href","#",1,"nav-link"],[1,"d-flex"],["type","text","placeholder","Buscar",1,"form-control","me-sm-2"],["type","submit",1,"btn","btn-secondary","my-2","my-sm-0"]],template:function(t,r){1&t&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"button",4),h._UZ(5,"span",5),h.qZA(),h.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),h._uU(10,"Inicio "),h.TgZ(11,"span",10),h._uU(12,"(current)"),h.qZA()()(),h.TgZ(13,"li",8)(14,"a",11),h._uU(15,"Acerca"),h.qZA()()(),h.TgZ(16,"form",12),h._UZ(17,"input",13),h.TgZ(18,"button",14),h._uU(19,"Buscar"),h.qZA()()()()())},dependencies:[Nf,cm,Vf]}),n})(),JV=(()=>{class n{constructor(){this.title="empleados"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&h._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[m,QV]}),n})();const MO_firebase={apiKey:"AIzaSyBY__G2lfUGT3omwVE5F-7q4gUxof0crts",authDomain:"empleados-14d53.firebaseapp.com",projectId:"empleados-14d53",storageBucket:"empleados-14d53.appspot.com",messagingSenderId:"867304601084",appId:"1:867304601084:web:c60cbaf5639a1483ffae79"};let XV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[JV]}),n.\u0275inj=h.cJS({imports:[Uu,QF,nr.hO.initializeApp(MO_firebase),vF,VE,YV,HF.forRoot()]}),n})();(0,h.G48)(),Vu().bootstrapModule(XV).catch(n=>console.error(n))},5867:(ct,Se,k)=>{k.d(Se,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=k(9681);(0,h.registerVersion)("firebase","9.10.0","app")},127:(ct,Se,k)=>{k.d(Se,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(ct,Se,k)=>{k.r(Se);var h=k(5861),te=k(3942),O=k(2090),ae=k(9681),ie=k(655),he=k(1877),le=k(4859);const Ee=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new he.Yd("@firebase/auth");function it(y,...f){Ze.logLevel<=he.in.ERROR&&Ze.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function Me(y,...f){throw je(y,...f)}function we(y,...f){return je(y,...f)}function De(y,f,m){const w=Object.assign(Object.assign({},Qe()),{[f]:m});return new O.LL("auth","Firebase",w).create(f,{appName:y.name})}function Be(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Me(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...f){if("string"!=typeof y){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return ye.create(y,...f)}function U(y,f,...m){if(!y)throw je(f,...m)}function me(y){const f="INTERNAL ASSERTION FAILED: "+y;throw it(f),new Error(f)}function Y(y,f){y||me(f)}const ee=new Map;function se(y){Y(y instanceof Function,"Expected a class definition");let f=ee.get(y);return f?(Y(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ee.set(y,f),f)}function Oe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===zt()||"https:"===zt()}function zt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class sn{constructor(f,m){this.shortDelay=f,this.longDelay=m,Y(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function $t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rn(y,f){Y(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Wt{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Sr=new sn(3e4,6e4);function Lt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function rn(y,f,m,w){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(y,f,m,w,A={}){return Hr(y,A,(0,h.Z)(function*(){let R={},K={};w&&("GET"===f?K=w:R={body:JSON.stringify(w)});const ce=(0,O.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),Wt.fetch()(Mi(y,y.config.apiHost,m,ce),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Hr(y,f,m){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(y,f,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Kt),f);try{const A=new zr(y),R=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const K=yield R.json();if("needConfirmation"in K)throw gi(y,"account-exists-with-different-credential",K);if(R.ok&&!("errorMessage"in K))return K;{const ce=R.ok?K.errorMessage:K.error.message,[Le,Ye]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw gi(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Le)throw gi(y,"email-already-in-use",K);if("USER_DISABLED"===Le)throw gi(y,"user-disabled",K);const It=w[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw De(y,It,Ye);Me(y,It)}}catch(A){if(A instanceof O.ZR)throw A;Me(y,"network-request-failed")}})).apply(this,arguments)}function Gr(y,f,m,w){return ws.apply(this,arguments)}function ws(){return(ws=(0,h.Z)(function*(y,f,m,w,A={}){const R=yield rn(y,f,m,w,A);return"mfaPendingCredential"in R&&Me(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Mi(y,f,m,w){const A=`${f}${m}?${w}`;return y.config.emulator?Rn(y.config,A):`${y.config.apiScheme}://${A}`}class zr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),Sr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gi(y,f,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=we(y,f,w);return A.customData._tokenResponse=m,A}function Ke(){return(Ke=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function qr(y,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function On(y,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ei(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function fn(){return(fn=(0,h.Z)(function*(y,f=!1){const m=(0,O.m9)(y),w=yield m.getIdToken(f),A=lt(w);U(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,K=R?.sign_in_provider;return{claims:A,token:w,authTime:ei(gt(A.auth_time)),issuedAtTime:ei(gt(A.iat)),expirationTime:ei(gt(A.exp)),signInProvider:K||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(y){return 1e3*Number(y)}function lt(y){var f;const[m,w,A]=y.split(".");if(void 0===m||void 0===w||void 0===A)return it("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,O.tV)(w);return R?JSON.parse(R):(it("Failed to decode base64 JWT payload"),null)}catch(R){return it("Caught error parsing JWT payload as JSON",null===(f=R)||void 0===f?void 0:f.toString()),null}}function ir(y,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,h.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof O.ZR&&Ar(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ar({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ct{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Qi{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zt(y){return yi.apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(y){var f;const m=y.auth,w=yield y.getIdToken(),A=yield ir(y,On(m,{idToken:w}));U(A?.users.length,m,"internal-error");const R=A.users[0];y._notifyReloadListener(R);const K=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?V(R.providerUserInfo):[],ce=j(y.providerData,K),It=!!y.isAnonymous&&!(y.email&&R.passwordHash||ce?.length),ft={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new Qi(R.createdAt,R.lastLoginAt),isAnonymous:It};Object.assign(y,ft)})).apply(this,arguments)}function W(){return(W=(0,h.Z)(function*(y){const f=(0,O.m9)(y);yield Zt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function j(y,f){return[...y.filter(w=>!f.some(A=>A.providerId===w.providerId)),...f]}function V(y){return y.map(f=>{var{providerId:m}=f,w=(0,ie._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function q(){return(q=(0,h.Z)(function*(y,f){const m=yield Hr(y,{},(0,h.Z)(function*(){const w=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:R}=y.config,K=Mi(y,A,"/v1/token",`key=${R}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Wt.fetch()(K,{method:"POST",headers:ce,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function on(y){const f=lt(y);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,h.Z)(function*(){return U(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:K}=yield function H(y,f){return q.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(A,R,Number(K))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:A,expirationTime:R}=m,K=new Ce;return w&&(U("string"==typeof w,"internal-error",{appName:f}),K.refreshToken=w),A&&(U("string"==typeof A,"internal-error",{appName:f}),K.accessToken=A),R&&(U("number"==typeof R,"internal-error",{appName:f}),K.expirationTime=R),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ce,this.toJSON())}_performRefresh(){return me("not implemented")}}function Ue(y,f){U("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class st{constructor(f){var{uid:m,auth:w,stsTokenManager:A}=f,R=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ct(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Qi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const w=yield ir(m,m.stsTokenManager.getToken(m.auth,f));return U(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function Kn(y){return fn.apply(this,arguments)}(this,f)}reload(){return function qt(y){return W.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new st(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,h.Z)(function*(){let A=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),A=!0),m&&(yield Zt(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield ir(f,function Mo(y,f){return Ke.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,A,R,K,ce,Le,Ye,It;const ft=null!==(w=m.displayName)&&void 0!==w?w:void 0,tr=null!==(A=m.email)&&void 0!==A?A:void 0,ji=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Yu=null!==(K=m.photoURL)&&void 0!==K?K:void 0,Ld=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,ai=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,sc=null!==(Ye=m.createdAt)&&void 0!==Ye?Ye:void 0,oc=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:Ng,emailVerified:Vd,isAnonymous:Rg,providerData:ac,stsTokenManager:l_}=m;U(Ng&&l_,f,"internal-error");const p0=Ce.fromJSON(this.name,l_);U("string"==typeof Ng,f,"internal-error"),Ue(ft,f.name),Ue(tr,f.name),U("boolean"==typeof Vd,f,"internal-error"),U("boolean"==typeof Rg,f,"internal-error"),Ue(ji,f.name),Ue(Yu,f.name),Ue(Ld,f.name),Ue(ai,f.name),Ue(sc,f.name),Ue(oc,f.name);const Wa=new st({uid:Ng,auth:f,email:tr,emailVerified:Vd,displayName:ft,isAnonymous:Rg,photoURL:Yu,phoneNumber:ji,tenantId:Ld,stsTokenManager:p0,createdAt:sc,lastLoginAt:oc});return ac&&Array.isArray(ac)&&(Wa.providerData=ac.map(uc=>Object.assign({},uc))),ai&&(Wa._redirectEventId=ai),Wa}static _fromIdTokenResponse(f,m,w=!1){return(0,h.Z)(function*(){const A=new Ce;A.updateFromServerResponse(m);const R=new st({uid:m.localId,auth:f,stsTokenManager:A,isAnonymous:w});return yield Zt(R),R})()}}const Yt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,h.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,h.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,h.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function Zn(y,f,m){return`firebase:${y}:${f}:${m}`}class Ut{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=Zn(this.userKey,A.apiKey,R),this.fullPersistenceKey=Zn("persistence",A.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?st._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,h.Z)(function*(){if(!m.length)return new Ut(se(Yt),f,w);const A=(yield Promise.all(m.map(function(){var Ye=(0,h.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let R=A[0]||se(Yt);const K=Zn(w,f.config.apiKey,f.name);let ce=null;for(const Ye of m)try{const It=yield Ye._get(K);if(It){const ft=st._fromJSON(f,It);Ye!==R&&(ce=ft),R=Ye;break}}catch{}const Le=A.filter(Ye=>Ye._shouldAllowMigration);return R._shouldAllowMigration&&Le.length?(R=Le[0],ce&&(yield R._set(K,ce.toJSON())),yield Promise.all(m.map(function(){var Ye=(0,h.Z)(function*(It){if(It!==R)try{yield It._remove(K)}catch{}});return function(It){return Ye.apply(this,arguments)}}())),new Ut(R,f,w)):new Ut(R,f,w)})()}}function Pt(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Mr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(_n(f))return"Firefox";if(f.includes("silk/"))return"Silk";if($e(f))return"Blackberry";if(_t(f))return"Webos";if(Vn(f))return"Safari";if((f.includes("chrome/")||xi(f))&&!f.includes("edge/"))return"Chrome";if(Un(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function _n(y=(0,O.z$)()){return/firefox\//i.test(y)}function Vn(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function xi(y=(0,O.z$)()){return/crios\//i.test(y)}function Mr(y=(0,O.z$)()){return/iemobile/i.test(y)}function Un(y=(0,O.z$)()){return/android/i.test(y)}function $e(y=(0,O.z$)()){return/blackberry/i.test(y)}function _t(y=(0,O.z$)()){return/webos/i.test(y)}function en(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Ys(y=(0,O.z$)()){return en(y)||Un(y)||_t(y)||$e(y)||/windows phone/i.test(y)||Mr(y)}function Es(y,f=[]){let m;switch(y){case"Browser":m=Pt((0,O.z$)());break;case"Worker":m=`${Pt((0,O.z$)())}-${y}`;break;default:m=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${w}`}class xo{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const w=R=>new Promise((K,ce)=>{try{K(f(R))}catch(Le){ce(Le)}});w.onAbort=m,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,h.Z)(function*(){var w;if(m.auth.currentUser===f)return;const A=[];try{for(const R of m.queue)yield R(f),R.onAbort&&A.push(R.onAbort)}catch(R){A.reverse();for(const K of A)try{K()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class kt{constructor(f,m,w){this.app=f,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qs(this),this.idTokenSubscription=new Qs(this),this.beforeStateQueue=new xo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield Ut.create(w,f),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var w;const A=yield m.assertedPersistence.getCurrentUser();let R=A,K=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Le=R?._redirectEventId,Ye=yield m.tryRedirectSignIn(f);(!ce||ce===Le)&&Ye?.user&&(R=Ye.user,K=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(R)}catch(ce){R=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ce))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return U(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){var w;try{yield Zt(f)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const w=f?(0,O.m9)(f):null;return w&&U(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f,m=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return f&&U(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(se(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,h.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&se(f)||m._popupRedirectResolver;U(w,m,"argument-error"),m.redirectPersistenceManager=yield Ut.create(m,[se(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,A){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return U(K,this,"internal-error"),K.then(()=>R(this.currentUser)),"function"==typeof m?f.addObserver(m,w,A):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Es(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function vn(y){return(0,O.m9)(y)}class Qs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ni(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Is(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class fr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return me("not implemented")}_getIdTokenResponse(f){return me("not implemented")}_linkToIdToken(f,m){return me("not implemented")}_getReauthenticationResolver(f){return me("not implemented")}}function jn(y,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:resetPassword",Lt(y,f))})).apply(this,arguments)}function an(y,f){return Il.apply(this,arguments)}function Il(){return(Il=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bl(y,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:update",Lt(y,f))})).apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(y,f){return Gr(y,"POST","/v1/accounts:signInWithPassword",Lt(y,f))})).apply(this,arguments)}function Ds(y,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:sendOobCode",Lt(y,f))})).apply(this,arguments)}function kn(y,f){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,h.Z)(function*(y,f){return Ds(y,f)})).apply(this,arguments)}function or(y,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(y,f){return Ds(y,f)})).apply(this,arguments)}function fu(y,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(y,f){return Ds(y,f)})).apply(this,arguments)}function Cl(y,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(y,f){return Ds(y,f)})).apply(this,arguments)}function Jc(){return(Jc=(0,h.Z)(function*(y,f){return Gr(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,f))})).apply(this,arguments)}function Tl(){return(Tl=(0,h.Z)(function*(y,f){return Gr(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,f))})).apply(this,arguments)}class Sl extends fr{constructor(f,m,w,A=null){super("password",w),this._email=f,this._password=m,this._tenantId=A}static _fromEmailAndPassword(f,m){return new Sl(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new Sl(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function ga(y,f){return Xs.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Kh(y,f){return Jc.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Me(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return an(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Zh(y,f){return Tl.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:Me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Qn(y,f){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,h.Z)(function*(y,f){return Gr(y,"POST","/v1/accounts:signInWithIdp",Lt(y,f))})).apply(this,arguments)}class Ji extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ji(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A}=m,R=(0,ie._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const K=new Ji(w,A);return K.idToken=R.idToken||void 0,K.accessToken=R.accessToken||void 0,K.secret=R.secret,K.nonce=R.nonce,K.pendingToken=R.pendingToken||null,K}_getIdTokenResponse(f){return Qn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Qn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Qn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,O.xO)(m)}return f}}function ng(y,f){return ed.apply(this,arguments)}function ed(){return(ed=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:sendVerificationCode",Lt(y,f))})).apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(y,f){return Gr(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,f))})).apply(this,arguments)}function td(){return(td=(0,h.Z)(function*(y,f){const m=yield Gr(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,f));if(m.temporaryProof)throw gi(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ig={USER_NOT_FOUND:"user-not-found"};function nd(){return(nd=(0,h.Z)(function*(y,f){return Gr(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ig)})).apply(this,arguments)}class Ts extends fr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ts({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ts({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Al(y,f){return Cs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function rg(y,f){return td.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function sg(y,f){return nd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:R}=f;return w||m||A||R?new Ts({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class pu{constructor(f){var m,w,A,R,K,ce;const Le=(0,O.zd)((0,O.pd)(f)),Ye=null!==(m=Le.apiKey)&&void 0!==m?m:null,It=null!==(w=Le.oobCode)&&void 0!==w?w:null,ft=function rd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);U(Ye&&It&&ft,"argument-error"),this.apiKey=Ye,this.operation=ft,this.code=It,this.continueUrl=null!==(R=Le.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(K=Le.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ce=Le.tenantId)&&void 0!==ce?ce:null}static parseLink(f){const m=function id(y){const f=(0,O.zd)((0,O.pd)(y)).link,m=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,w=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(w?(0,O.zd)((0,O.pd)(w)).link:null)||w||m||f||y}(f);try{return new pu(m)}catch{return null}}}let Ri=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Sl._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=pu.parseLink(w);return U(A,"argument-error"),Sl._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Xi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class es extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ss extends es{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return U("providerId"in m&&"signInMethod"in m,"argument-error"),Ji._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ss.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ss.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:K,providerId:ce}=f;if(!w&&!A&&!m&&!R||!ce)return null;try{return new Ss(ce)._credential({idToken:m,accessToken:w,nonce:K,pendingToken:R})}catch{return null}}}let ya=(()=>{class y extends es{constructor(){super("facebook.com")}static credential(m){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),gu=(()=>{class y extends es{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ml=(()=>{class y extends es{constructor(){super("github.com")}static credential(m){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class No extends fr{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Qn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Qn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Qn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A,pendingToken:R}=m;return w&&A&&R&&w===A?new No(w,R):null}static _create(f,m){return new No(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ni extends Xi{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ni.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ni.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=No.fromJSON(f);return U(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return No._create(w,m)}catch{return null}}}let Wr=(()=>{class y extends es{constructor(){super("twitter.com")}static credential(m,w){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ro(y,f){return sd.apply(this,arguments)}function sd(){return(sd=(0,h.Z)(function*(y,f){return Gr(y,"POST","/v1/accounts:signUp",Lt(y,f))})).apply(this,arguments)}class pr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,A=!1){return(0,h.Z)(function*(){const R=yield st._fromIdTokenResponse(f,w,A),K=Jh(w);return new pr({user:R,providerId:K,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const A=Jh(w);return new pr({user:f,providerId:A,_tokenResponse:w,operationType:m})})()}}function Jh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Tn(){return(Tn=(0,h.Z)(function*(y){var f;const m=vn(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new pr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Ro(m,{returnSecureToken:!0}),A=yield pr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class mu extends O.ZR{constructor(f,m,w,A){var R;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,A){return new mu(f,m,w,A)}}function ef(y,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?mu._fromErrorAndOperation(y,R,f,w):R})}function ri(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function yu(){return(yu=(0,h.Z)(function*(y,f){const m=(0,O.m9)(y);yield Ht(!0,m,f);const{providerUserInfo:w}=yield qr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),A=ri(w||[]);return m.providerData=m.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Oo(y,f){return ns.apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(y,f,m=!1){const w=yield ir(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return pr._forOperation(y,"link",w)})).apply(this,arguments)}function Ht(y,f,m){return _u.apply(this,arguments)}function _u(){return(_u=(0,h.Z)(function*(y,f,m){yield Zt(f);const A=!1===y?"provider-already-linked":"no-such-provider";U(ri(f.providerData).has(m)===y,f.auth,A)})).apply(this,arguments)}function eo(y,f){return vu.apply(this,arguments)}function vu(){return(vu=(0,h.Z)(function*(y,f,m=!1){var w;const{auth:A}=y,R="reauthenticate";try{const K=yield ir(y,ef(A,R,f,y),m);U(K.idToken,A,"internal-error");const ce=lt(K.idToken);U(ce,A,"internal-error");const{sub:Le}=ce;return U(y.uid===Le,A,"user-mismatch"),pr._forOperation(y,R,K)}catch(K){throw"auth/user-not-found"===(null===(w=K)||void 0===w?void 0:w.code)&&Me(A,"user-mismatch"),K}})).apply(this,arguments)}function wi(y,f){return wu.apply(this,arguments)}function wu(){return(wu=(0,h.Z)(function*(y,f,m=!1){const w="signIn",A=yield ef(y,w,f),R=yield pr._fromIdTokenResponse(y,w,A);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function bn(y,f){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(y,f){return wi(vn(y),f)})).apply(this,arguments)}function Eu(y,f){return tf.apply(this,arguments)}function tf(){return(tf=(0,h.Z)(function*(y,f){const m=(0,O.m9)(y);return yield Ht(!1,m,f.providerId),Oo(m,f)})).apply(this,arguments)}function Iu(y,f){return bu.apply(this,arguments)}function bu(){return(bu=(0,h.Z)(function*(y,f){return eo((0,O.m9)(y),f)})).apply(this,arguments)}function xl(y,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(y,f){return Gr(y,"POST","/v1/accounts:signInWithCustomToken",Lt(y,f))})).apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(y,f){const m=vn(y),w=yield xl(m,{token:f,returnSecureToken:!0}),A=yield pr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Te{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Bt._fromServerResponse(f,m):Me(f,"internal-error")}}class Bt extends Te{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Bt(m)}}function Du(y,f,m){var w;U((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),U(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(U(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(U(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Sn(){return(Sn=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y),A={requestType:"PASSWORD_RESET",email:f};m&&Du(w,A,m),yield or(w,A)})).apply(this,arguments)}function Po(){return(Po=(0,h.Z)(function*(y,f,m){yield jn((0,O.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function va(){return(va=(0,h.Z)(function*(y,f){yield bl((0,O.m9)(y),{oobCode:f})})).apply(this,arguments)}function wa(y,f){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,h.Z)(function*(y,f){const m=(0,O.m9)(y),w=yield jn(m,{oobCode:f}),A=w.requestType;switch(U(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,m,"internal-error");default:U(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=Te._fromServerResponse(vn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function od(){return(od=(0,h.Z)(function*(y,f){const{data:m}=yield wa((0,O.m9)(y),f);return m.email})).apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(y,f,m){const w=vn(y),A=yield Ro(w,{returnSecureToken:!0,email:f,password:m}),R=yield pr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};U(m.handleCodeInApp,w,"argument-error"),m&&Du(w,A,m),yield fu(w,A)})).apply(this,arguments)}function Ia(){return(Ia=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y),A=Ri.credentialWithLink(f,m||Oe());return U(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),bn(w,A)})).apply(this,arguments)}function ag(y,f){return kl.apply(this,arguments)}function kl(){return(kl=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:createAuthUri",Lt(y,f))})).apply(this,arguments)}function ba(){return(ba=(0,h.Z)(function*(y,f){const w={identifier:f,continueUri:pt()?Oe():"http://localhost"},{signinMethods:A}=yield ag((0,O.m9)(y),w);return A||[]})).apply(this,arguments)}function Da(){return(Da=(0,h.Z)(function*(y,f){const m=(0,O.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Du(m.auth,A,f);const{email:R}=yield kn(m.auth,A);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function Au(){return(Au=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Du(w.auth,R,m);const{email:K}=yield Cl(w.auth,R);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function Mu(y,f){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Bl(){return(Bl=(0,h.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,O.m9)(y),R={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},K=yield ir(w,Mu(w.auth,R));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const ce=w.providerData.find(({providerId:Le})=>"password"===Le);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function ro(y,f,m){return xu.apply(this,arguments)}function xu(){return(xu=(0,h.Z)(function*(y,f,m){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(R.email=f),m&&(R.password=m);const K=yield ir(y,an(w,R));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Kr{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class gn extends Kr{constructor(f,m,w,A){super(f,m,w),this.username=A}}class ud extends Kr{constructor(f,m){super(f,"facebook.com",m)}}class jl extends gn{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class nf extends Kr{constructor(f,m){super(f,"google.com",m)}}class $l extends gn{constructor(f,m,w){super(f,"twitter.com",m,w)}}function Nu(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Jn(y){var f,m;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const K=null===(m=null===(f=lt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Kr(R,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new ud(R,A);case"github.com":return new jl(R,A);case"google.com":return new nf(R,A);case"twitter.com":return new $l(R,A,y.screenName||null);case"custom":case"anonymous":return new Kr(R,null);default:return new Kr(R,w,A)}}(m)}class io{constructor(f,m,w){this.type=f,this.credential=m,this.auth=w}static _fromIdtoken(f,m){return new io("enroll",f,m)}static _fromMfaPendingCredential(f){return new io("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return io._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return io._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ru{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=vn(f),A=m.customData._serverResponse,R=(A.mfaInfo||[]).map(ce=>Te._fromServerResponse(w,ce));U(A.mfaPendingCredential,w,"internal-error");const K=io._fromMfaPendingCredential(A.mfaPendingCredential);return new Ru(K,R,function(){var ce=(0,h.Z)(function*(Le){const Ye=yield Le._process(w,K);delete A.mfaInfo,delete A.mfaPendingCredential;const It=Object.assign(Object.assign({},A),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(m.operationType){case"signIn":const ft=yield pr._fromIdTokenResponse(w,m.operationType,It);return yield w._updateCurrentUser(ft.user),ft;case"reauthenticate":return U(m.user,w,"internal-error"),pr._forOperation(m.user,m.operationType,It);default:Me(w,"internal-error")}});return function(Le){return ce.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function Ou(y,f){return rn(y,"POST","/v2/accounts/mfaEnrollment:start",Lt(y,f))}class rf{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Te._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new rf(f)}getSession(){var f=this;return(0,h.Z)(function*(){return io._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var w=this;return(0,h.Z)(function*(){const A=f,R=yield w.getSession(),K=yield ir(w.user,A._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){var w;const A="string"==typeof f?f:f.uid,R=yield m.user.getIdToken(),K=yield ir(m.user,function hd(y,f){return rn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(y,f))}(m.user.auth,{idToken:R,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ce})=>ce!==A),yield m.user._updateTokensIfNecessary(K);try{yield m.user.reload()}catch(ce){if("auth/user-token-expired"!==(null===(w=ce)||void 0===w?void 0:w.code))throw ce}})()}}const so=new WeakMap,oo="__sak";class ku{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(oo,"1"),this.storage.removeItem(oo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ta=(()=>{class y extends ku{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ca(){const y=(0,O.z$)();return Vn(y)||en(y)}()&&function pn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ys(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&m(w,R,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ce,Le,Ye)=>{this.notifyListeners(ce,Ye)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(m.newValue!==ce)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const R=()=>{const ce=this.storage.getItem(A);!w&&this.localCache[A]===ce||this.notifyListeners(A,ce)},K=this.storage.getItem(A);!function Yn(){return(0,O.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,R=this;return(0,h.Z)(function*(){yield A().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,h.Z)(function*(){const R=yield w().call(A,m);return A.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,A=this;return(0,h.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),Pi=(()=>{class y extends ku{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let gd=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,h.Z)(function*(){const A=m,{eventId:R,eventType:K,data:ce}=A.data,Le=w.handlersMap[K];if(!Le?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:K});const Ye=Array.from(Le).map(function(){var ft=(0,h.Z)(function*(tr){return tr(A.origin,ce)});return function(tr){return ft.apply(this,arguments)}}()),It=yield function Aa(y){return Promise.all(y.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(Ye);A.ports[0].postMessage({status:"done",eventId:R,eventType:K,response:It})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ma(y="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return y+m}class Gl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var A=this;return(0,h.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let K,ce;return new Promise((Le,Ye)=>{const It=Ma("",20);R.port1.start();const ft=setTimeout(()=>{Ye(new Error("unsupported_event"))},w);ce={messageChannel:R,onMessage(tr){const ji=tr;if(ji.data.eventId===It)switch(ji.data.status){case"ack":clearTimeout(ft),K=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Le(ji.data.response);break;default:clearTimeout(ft),clearTimeout(K),Ye(new Error("invalid_response"))}}},A.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:f,eventId:It,data:m},[R.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function Fn(){return window}function Fu(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function xa(){return(xa=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xs="firebaseLocalStorageDb",Ns="firebaseLocalStorage",Uu="fbase_key";class uo{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Na(y,f){return y.transaction([Ns],f?"readwrite":"readonly").objectStore(Ns)}function Uo(){const y=indexedDB.open(xs,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Ns,{keyPath:Uu})}catch(A){m(A)}}),y.addEventListener("success",(0,h.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Ns)?f(w):(w.close(),yield function yd(){const y=indexedDB.deleteDatabase(xs);return new uo(y).toPromise()}(),f(yield Uo()))}))})}function ss(y,f,m){return zl.apply(this,arguments)}function zl(){return(zl=(0,h.Z)(function*(y,f,m){const w=Na(y,!0).put({[Uu]:f,value:m});return new uo(w).toPromise()})).apply(this,arguments)}function Ra(){return(Ra=(0,h.Z)(function*(y,f){const m=Na(y,!1).get(f),w=yield new uo(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function lo(y,f){const m=Na(y,!0).delete(f);return new uo(m).toPromise()}const Bo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Uo()),m.db})()}_withRetries(m){var w=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Fu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=gd._getInstance(function Vu(){return Fu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(A,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function ao(){return xa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Gl(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Lu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Uo();return yield ss(m,oo,"1"),yield lo(m,oo),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(R=>ss(R,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,h.Z)(function*(){const A=yield w._withRetries(R=>function Bu(y,f){return Ra.apply(this,arguments)}(R,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(A=>lo(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const w=yield m._withRetries(K=>{const ce=Na(K,!1).getAll();return new uo(ce).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:K,value:ce}of w)R.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(ce)&&(m.notifyListeners(K,ce),A.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!R.has(K)&&(m.notifyListeners(K,null),A.push(K));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const R of Array.from(A))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function jo(y,f){return rn(y,"POST","/v2/accounts/mfaSignIn:start",Lt(y,f))}function Rs(){return(Rs=(0,h.Z)(function*(y){return(yield rn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ho(y){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=A=>{const R=we("internal-error");R.customData=A,m(R)},w.type="text/javascript",w.charset="UTF-8",function $o(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function Hu(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Oa=1e12;class hn{constructor(f){this.auth=f,this.counter=Oa,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new ug(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||Oa;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Oa))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var w;return null===(w=m._widgets.get(f||Oa))||void 0===w||w.execute(),""})()}}class ug{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;U(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wy(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lg=Hu("rcb"),Ky=new sn(3e4,6e4);class sf{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Fn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return U(function u0(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Fn().grecaptcha):new Promise((w,A)=>{const R=Fn().setTimeout(()=>{A(we(f,"network-request-failed"))},Ky.get());Fn()[lg]=()=>{Fn().clearTimeout(R),delete Fn()[lg];const ce=Fn().grecaptcha;if(!ce)return void A(we(f,"internal-error"));const Le=ce.render;ce.render=(Ye,It)=>{const ft=Le(Ye,It);return this.counter++,ft},this.hostLanguage=m,w(ce)},Ho(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:lg,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),A(we(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Fn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pa{load(f){return(0,h.Z)(function*(){return new hn(f)})()}clearedOneInstance(){}}const cg="recaptcha",dg={theme:"light",type:"image"};class ur{constructor(f,m=Object.assign({},dg),w){this.parameters=m,this.type=cg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pa:new sf,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const K=ce=>{!ce||(f.tokenChangeListeners.delete(K),R(ce))};f.tokenChangeListeners.add(K),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=Fn()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){U(pt()&&!Fu(),f.auth,"internal-error"),yield function un(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Zr(y){return Rs.apply(this,arguments)}(f.auth);U(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ii{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ts._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function $n(){return($n=(0,h.Z)(function*(y,f,m){const w=vn(y),A=yield Os(w,f,(0,O.m9)(m));return new Ii(A,R=>bn(w,R))})).apply(this,arguments)}function bi(){return(bi=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y);yield Ht(!1,w,"phone");const A=yield Os(w.auth,f,(0,O.m9)(m));return new Ii(A,R=>Eu(w,R))})).apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y),A=yield Os(w.auth,f,(0,O.m9)(m));return new Ii(A,R=>Iu(w,R))})).apply(this,arguments)}function Os(y,f,m){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,h.Z)(function*(y,f,m){var w;const A=yield m.verify();try{let R;if(U("string"==typeof A,y,"argument-error"),U(m.type===cg,y,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const K=R.session;if("phoneNumber"in R)return U("enroll"===K.type,y,"internal-error"),(yield Ou(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===K.type,y,"internal-error");const ce=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return U(ce,y,"missing-multi-factor-info"),(yield jo(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield ng(y,{phoneNumber:R.phoneNumber,recaptchaToken:A});return K}}finally{m._reset()}})).apply(this,arguments)}function Wl(){return(Wl=(0,h.Z)(function*(y,f){yield Oo((0,O.m9)(y),f)})).apply(this,arguments)}let Fa=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=vn(m)}verifyPhoneNumber(m,w){return Os(this.auth,m,(0,O.m9)(w))}static credential(m,w){return Ts._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?Ts._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function zo(y,f){return f?se(f):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ps extends fr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Qn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Qn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Qn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function at(y){return wi(y.auth,new Ps(y),y.bypassAuthState)}function La(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),eo(m,new Ps(y),y.bypassAuthState)}function ks(y){return Va.apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),Oo(m,new Ps(y),y.bypassAuthState)})).apply(this,arguments)}class qo{constructor(f,m,w,A,R=!1){this.auth=f,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(w,A){f.pendingPromise={resolve:w,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:K,error:ce,type:Le}=f;if(ce)return void m.reject(ce);const Ye={auth:m.auth,requestUri:w,sessionId:A,tenantId:K||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(Ye))}catch(It){m.reject(It)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return at;case"linkViaPopup":case"linkViaRedirect":return ks;case"reauthViaPopup":case"reauthViaRedirect":return La;default:Me(this.auth,"internal-error")}}resolve(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xn=new sn(2e3,1e4);function Wo(){return(Wo=(0,h.Z)(function*(y,f,m){const w=vn(y);Be(y,f,Xi);const A=zo(w,m);return new Fs(w,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Zl(){return(Zl=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y);Be(w.auth,f,Xi);const A=zo(w.auth,m);return new Fs(w.auth,"reauthViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y);Be(w.auth,f,Xi);const A=zo(w.auth,m);return new Fs(w.auth,"linkViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}let Fs=(()=>{class y extends qo{constructor(m,w,A,R,K){super(m,w,R,K),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const w=yield m.execute();return U(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,h.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const w=Ma();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Xn.get())};m()}}return y.currentPopupAction=null,y})();const Di=new Map;class Yl extends qo{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let w=Di.get(m.auth._key());if(!w){try{const R=(yield function Ko(y,f){return Yr.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}Di.set(m.auth._key(),w)}return m.bypassAuthState||Di.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const A=yield w.auth._redirectUserForId(f.eventId);if(A)return w.user=A,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Yr(){return(Yr=(0,h.Z)(function*(y,f){const m=Hn(f),w=us(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function as(y,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,h.Z)(function*(y,f){return us(y)._set(Hn(f),"true")})).apply(this,arguments)}function Vs(y,f){Di.set(y._key(),f)}function us(y){return se(y._redirectPersistence)}function Hn(y){return Zn("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,h.Z)(function*(y,f,m){const w=vn(y);Be(y,f,Xi);const A=zo(w,m);return yield as(A,w),A._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y);Be(w.auth,f,Xi);const A=zo(w.auth,m);yield as(A,w.auth);const R=yield ht(w);return A._openRedirect(w.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function be(){return(be=(0,h.Z)(function*(y,f,m){const w=(0,O.m9)(y);Be(w.auth,f,Xi);const A=zo(w.auth,m);yield Ht(!1,w,f.providerId),yield as(A,w.auth);const R=yield ht(w);return A._openRedirect(w.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(y,f){return yield vn(y)._initializationPromise,vt(y,f,!1)})).apply(this,arguments)}function vt(y,f){return At.apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(y,f,m=!1){const w=vn(y),A=zo(w,f),K=yield new Yl(w,A,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,f)),K})).apply(this,arguments)}function ht(y){return En.apply(this,arguments)}function En(){return(En=(0,h.Z)(function*(y){const f=Ma(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Zo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Fi(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mt(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!Mt(f)){const A=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(we(this.auth,A))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Us(f))}saveEventToCache(f){this.cachedEventUids.add(Us(f)),this.lastProcessedEventTime=Date.now()}}function Us(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Mt({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Bs(y){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(y,f={}){return rn(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Yo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ho=/^https?/;function af(){return(af=(0,h.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Bs(y);for(const m of f)try{if(pg(m))return}catch{}Me(y,"unauthorized-domain")})).apply(this,arguments)}function pg(y){const f=Oe(),{protocol:m,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===w}if(!ho.test(m))return!1;if(Yo.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const gg=new sn(3e4,6e4);function Yy(){const y=Fn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Li=null;function uf(y){return Li=Li||function er(y){return new Promise((f,m)=>{var w,A,R;function K(){Yy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Yy(),m(we(y,"network-request-failed"))},timeout:gg.get()})}if(null!==(A=null===(w=Fn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(R=Fn().gapi)||void 0===R||!R.load){const ce=Hu("iframefcb");return Fn()[ce]=()=>{gapi.load?K():m(we(y,"network-request-failed"))},Ho(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Le=>m(Le))}K()}}).catch(f=>{throw Li=null,f})}(y),Li}const mg=new sn(5e3,15e3),Qy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yg(y){const f=y.config;U(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Rn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},A=cf.get(y.config.apiHost);A&&(w.eid=A);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,O.xO)(w).slice(1)}`}function Ba(){return Ba=(0,h.Z)(function*(y){const f=yield uf(y),m=Fn().gapi;return U(m,y,"internal-error"),f.open({where:document.body,url:yg(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qy,dontclear:!0},w=>new Promise(function(){var A=(0,h.Z)(function*(R,K){yield w.restyle({setHideOnLeave:!1});const ce=we(y,"network-request-failed"),Le=Fn().setTimeout(()=>{K(ce)},mg.get());function Ye(){Fn().clearTimeout(Le),R(w)}w.ping(Ye).then(Ye,()=>{K(ce)})});return function(R,K){return A.apply(this,arguments)}}()))}),Ba.apply(this,arguments)}const _d={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ql{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function go(y,f,m,w,A,R){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ae.SDK_VERSION,eventId:A};if(f instanceof Xi){f.setDefaultLanguage(y.languageCode),K.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(K.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,Ye]of Object.entries(R||{}))K[Le]=Ye}if(f instanceof es){const Le=f.getScopes().filter(Ye=>""!==Ye);Le.length>0&&(K.scopes=Le.join(","))}y.tenantId&&(K.tid=y.tenantId);const ce=K;for(const Le of Object.keys(ce))void 0===ce[Le]&&delete ce[Le];return`${function Ed({config:y}){return y.emulator?Rn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(ce).slice(1)}`}const $a="webStorageSupport";class Ti extends class Jy{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return me("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ti(f)}_finalizeEnroll(f,m,w){return function Pu(y,f){return rn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(y,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function $u(y,f){return rn(y,"POST","/v2/accounts/mfaSignIn:finalize",Lt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mo=(()=>{class y{constructor(){}static assertion(m){return Ti._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var hf="@firebase/auth";class Xy{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{var A;f((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qo(){return window}function gf(){return(gf=(0,h.Z)(function*(y,f,m){var w;const{BuildInfo:A}=Qo();Y(f.sessionId,"AuthEvent did not contain a session ID");const R=yield s_(f.sessionId),K={};return en()?K.ibi=A.packageName:Un()?K.apn=A.packageName:Me(y,"operation-not-supported-in-this-environment"),A.displayName&&(K.appDisplayName=A.displayName),K.sessionId=R,go(y,m,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,K)})).apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(y){const{BuildInfo:f}=Qo(),m={};en()?m.iosBundleId=f.packageName:Un()?m.androidPackageName=f.packageName:Me(y,"operation-not-supported-in-this-environment"),yield Bs(y,m)})).apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(y,f,m){const{cordova:w}=Qo();let A=()=>{};try{yield new Promise((R,K)=>{let ce=null;function Le(){var ft;R();const tr=null===(ft=w.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof tr&&tr(),"function"==typeof m?.close&&m.close()}function Ye(){ce||(ce=window.setTimeout(()=>{K(we(y,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===document?.visibilityState&&Ye()}f.addPassiveListener(Le),document.addEventListener("resume",Ye,!1),Un()&&document.addEventListener("visibilitychange",It,!1),A=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",It,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function s_(y){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,h.Z)(function*(y){const f=c0(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function c0(y){if(Y(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function t_(y){(0,ae._registerComponent)(new le.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:R,authDomain:K}=w.options;return((ce,Le)=>{U(R&&!R.includes(":"),"invalid-api-key",{appName:ce.name}),U(!K?.includes(":"),"argument-error",{appName:ce.name});const Ye={apiKey:R,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Es(y)},It=new kt(ce,Le,Ye);return function Fe(y,f){const m=f?.persistence||[],w=(Array.isArray(m)?m:[m]).map(se);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,f?.popupRedirectResolver)}(It,m),It})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new le.wA("auth-internal",f=>{const m=vn(f.getProvider("auth").getImmediate());return new Xy(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(hf,"0.20.7",function e_(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(hf,"0.20.7","esm2017")}("Browser");class Ha extends Zo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Ig(y){return tc.apply(this,arguments)}function tc(){return(tc=(0,h.Z)(function*(y){const f=yield mf()._get(yf(y));return f&&(yield mf()._remove(yf(y))),f})).apply(this,arguments)}function Wu(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*f.length);y.push(f.charAt(w))}return y.join("")}function mf(){return se(Ta)}function yf(y){return Zn("authEvent",y.config.apiKey,y.name)}function za(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,O.zd)(m.join("?"))}function vf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function ls(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Ef(y=(0,O.z$)()){return!("file:"!==ls()&&"ionic:"!==ls()&&"capacitor:"!==ls()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Td(){try{const y=self.localStorage,f=Ma();if(y)return y.setItem(f,"1"),y.removeItem(f),!function nc(y=(0,O.z$)()){return function h0(){return(0,O.w1)()&&11===document?.documentMode}()||function f0(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Sd()&&(0,O.hl)()}return!1}function Sd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ad(){return(function Cd(){return"http:"===ls()||"https:"===ls()}()||(0,O.ru)()||Ef())&&!function a_(){return(0,O.b$)()||(0,O.UG)()}()&&Td()&&!Sd()}function If(){return Ef()&&typeof document<"u"}function Md(){return(Md=(0,h.Z)(function*(){return!!If()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Or={LOCAL:"local",NONE:"none",SESSION:"session"},xd=U,bf="persistence";function Ku(y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(y){yield y._initializationPromise;const f=Df(),m=Zn(bf,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function Df(){var y;try{return(null===(y=function Cg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Nd=U;class cs{constructor(){this.browserResolver=se(class wg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pi,this._completeRedirectFn=vt,this._overrideRedirectResult=Vs}_openPopup(f,m,w,A){var R=this;return(0,h.Z)(function*(){var K;Y(null===(K=R.eventManagers[f._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ce=go(f,m,w,Oe(),A);return function po(y,f,m,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const Le=Object.assign(Object.assign({},_d),{width:w.toString(),height:A.toString(),top:R,left:K}),Ye=(0,O.z$)().toLowerCase();m&&(ce=xi(Ye)?"_blank":m),_n(Ye)&&(f=f||"http://localhost",Le.scrollbars="yes");const It=Object.entries(Le).reduce((tr,[ji,Yu])=>`${tr}${ji}=${Yu},`,"");if(function _i(y=(0,O.z$)()){var f;return en(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ye)&&"_self"!==ce)return function vg(y,f){const m=document.createElement("a");m.href=y,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",ce),new Ql(null);const ft=window.open(f||"",ce,It);U(ft,y,"popup-blocked");try{ft.focus()}catch{}return new Ql(ft)}(f,ce,Ma())})()}_openRedirect(f,m,w,A){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(f),function Ei(y){Fn().location.href=y}(go(f,m,w,Oe(),A)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:A,promise:R}=this.eventManagers[m];return A?Promise.resolve(A):(Y(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const w=yield function _g(y){return Ba.apply(this,arguments)}(f),A=new Zo(f);return w.register("authEvent",R=>(U(R?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:A},m.iframes[f._key()]=w,A})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send($a,{type:$a},A=>{var R;const K=null===(R=A?.[0])||void 0===R?void 0:R[$a];void 0!==K&&m(!!K),Me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ci(y){return af.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ys()||Vn()||en()}}),this.cordovaResolver=se(class o_{constructor(){this._redirectPersistence=Pi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vt,this._overrideRedirectResult=Vs}_initialize(f){var m=this;return(0,h.Z)(function*(){const w=f._key();let A=m.eventManagers.get(w);return A||(A=new Ha(f),m.eventManagers.set(w,A),m.attachCallbackListeners(f,A)),A})()}_openPopup(f){Me(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,w,A){var R=this;return(0,h.Z)(function*(){!function Id(y){var f,m,w,A,R,K,ce,Le,Ye,It;const ft=Qo();U("function"==typeof(null===(f=ft?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(m=ft?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(R=null===(A=null===(w=ft?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Le=null===(ce=null===(K=ft?.cordova)||void 0===K?void 0:K.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(It=null===(Ye=ft?.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===It?void 0:It.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const K=yield R._initialize(f);yield K.initialized(),K.resetRedirect(),function Ir(){Di.clear()}(),yield R._originValidation(f);const ce=function Ga(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Wu(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(f,w,A);yield function ec(y,f){return mf()._set(yf(y),f)}(f,ce);const Le=yield function r_(y,f,m){return gf.apply(this,arguments)}(f,ce,m),Ye=yield function Vi(y){const{cordova:f}=Qo();return new Promise(m=>{f.plugins.browsertab.isAvailable(w=>{let A=null;w?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function ti(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(A)})})}(Le);return function Xl(y,f,m){return js.apply(this,arguments)}(f,K,Ye)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function i_(y){return Jo.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:w,handleOpenURL:A,BuildInfo:R}=Qo(),K=setTimeout((0,h.Z)(function*(){yield Ig(f),m.onEvent(vf())}),500),ce=function(){var It=(0,h.Z)(function*(ft){clearTimeout(K);const tr=yield Ig(f);let ji=null;tr&&ft?.url&&(ji=function bg(y,f){var m,w;const A=function bd(y){const f=za(y),m=f.link?decodeURIComponent(f.link):void 0,w=za(m).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return za(A).link||A||w||m||y}(f);if(A.includes("/__/auth/callback")){const R=za(A),K=R.firebaseError?function _f(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(w=null===(m=K?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Le=ce?we(ce):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(tr,ft.url)),m.onEvent(ji||vf())});return function(tr){return It.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ce);const Le=A,Ye=`${R.packageName.toLowerCase()}://`;Qo().handleOpenURL=function(){var It=(0,h.Z)(function*(ft){if(ft.toLowerCase().startsWith(Ye)&&ce({url:ft}),"function"==typeof Le)try{Le(ft)}catch(tr){console.error(tr)}});return function(ft){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Pi,this._completeRedirectFn=vt,this._overrideRedirectResult=Vs}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,w,A){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,m,w,A)})()}_openRedirect(f,m,w,A){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,m,w,A)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return If()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function u_(){return Md.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function yo(y){return y.unwrap()}function Od(y){return Pd(y)}function Pd(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Fa.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=gu;break;case"facebook.com":w=ya;break;case"github.com":w=Ml;break;case"twitter.com":w=Wr;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:K,pendingToken:ce,nonce:Le}=f;return R||K||A||ce?ce?m.startsWith("saml.")?No._create(m,ce):Ji._fromParams({providerId:m,signInMethod:m,pendingToken:ce,idToken:A,accessToken:R}):new Ss(m).credential({idToken:A,accessToken:R,rawNonce:Le}):null}return y instanceof O.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function mr(y,f){return f.catch(m=>{throw m instanceof O.ZR&&function Hs(y,f){var m,w;const A=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=f)||void 0===w?void 0:w.code))f.resolver=new Fd(y,function Mn(y,f){var m;const w=(0,O.m9)(y),A=f;return U(f.customData.operationType,w,"argument-error"),U(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Ru._fromError(w,A)}(y,f));else if(A){const R=Pd(f),K=f;R&&(K.credential=R,K.tenantId=A.tenantId||void 0,K.email=A.email||void 0,K.phoneNumber=A.phoneNumber||void 0)}}(y,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Od(m),additionalUserInfo:Nu(m),user:oi.getOrCreate(A)}})}function kd(y,f){return ic.apply(this,arguments)}function ic(){return(ic=(0,h.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:w=>mr(y,m.confirm(w))}})).apply(this,arguments)}class Fd{constructor(f,m){this.resolver=m,this.auth=function Rd(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return mr(yo(this.auth),this.resolver.resolveSignIn(f))}}class oi{constructor(f){this._delegate=f,this.multiFactor=function Vo(y){const f=(0,O.m9)(y);return so.has(f)||so.set(f,rf._fromUser(f)),so.get(f)}(f)}static getOrCreate(f){return oi.USER_MAP.has(f)||oi.USER_MAP.set(f,new oi(f)),oi.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return mr(m.auth,Eu(m._delegate,f))})()}linkWithPhoneNumber(f,m){var w=this;return(0,h.Z)(function*(){return kd(w.auth,function wn(y,f,m){return bi.apply(this,arguments)}(w._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return mr(m.auth,function zu(y,f,m){return Ua.apply(this,arguments)}(m._delegate,f,cs))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Ku(vn(m.auth)),function J(y,f,m){return function re(y,f,m){return be.apply(this,arguments)}(y,f,m)}(m._delegate,f,cs)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return mr(m.auth,Iu(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return kd(this.auth,function ka(y,f,m){return Rr.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return mr(this.auth,function fg(y,f,m){return Zl.apply(this,arguments)}(this._delegate,f,cs))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Ku(vn(m.auth)),function C(y,f,m){return function x(y,f,m){return F.apply(this,arguments)}(y,f,m)}(m._delegate,f,cs)})()}sendEmailVerification(f){return function Fl(y,f){return Da.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function Nr(y,f){return yu.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function ad(y,f){return ro((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function no(y,f){return ro((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function hg(y,f){return Wl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ul(y,f){return Bl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Ll(y,f,m){return Au.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oi.USER_MAP=new WeakMap;const _o=U;let Tg=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;_o(A,"invalid-api-key",{appName:m.name}),_o(A,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?cs:void 0;this._delegate=w.initialize({options:{persistence:Cf(A,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ee),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function El(y,f,m){const w=vn(y);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const A=!!m?.disableWarnings,R=Ni(f),{host:K,port:ce}=function Bn(y){const f=Ni(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:Is(w.substr(R.length+1))}}{const[R,K]=w.split(":");return{host:R,port:Is(K)}}}(f);w.config.emulator={url:`${R}//${K}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function bs(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function ii(y,f){return va.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return wa(this._delegate,m)}confirmPasswordReset(m,w){return function Tu(y,f,m){return Po.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var A=this;return(0,h.Z)(function*(){return mr(A._delegate,function Ea(y,f,m){return An.apply(this,arguments)}(A._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Su(y,f){return ba.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function is(y,f){return"EMAIL_SIGNIN"===pu.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){_o(Ad(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Re(y,f){return et.apply(this,arguments)}(m._delegate,cs);return w?mr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Dg(y,f){vn(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,w,A){const{next:R,error:K,complete:ce}=Sg(m,w,A);return this._delegate.onAuthStateChanged(R,K,ce)}onIdTokenChanged(m,w,A){const{next:R,error:K,complete:ce}=Sg(m,w,A);return this._delegate.onIdTokenChanged(R,K,ce)}sendSignInLinkToEmail(m,w){return function Pl(y,f,m){return to.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Cu(y,f,m){return Sn.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,h.Z)(function*(){let A;switch(function rc(y,f){xd(Object.values(Or).includes(f),y,"invalid-persistence-type"),(0,O.b$)()?xd(f!==Or.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?xd(f===Or.NONE,y,"unsupported-persistence-type"):Sd()?xd(f===Or.NONE||f===Or.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):xd(f===Or.NONE||Td(),y,"unsupported-persistence-type")}(w._delegate,m),m){case Or.SESSION:A=Pi;break;case Or.LOCAL:A=(yield se(Bo)._isAvailable())?Bo:Ta;break;case Or.NONE:A=Yt;break;default:return Me("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return mr(this._delegate,function Xh(y){return Tn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return mr(this._delegate,bn(this._delegate,m))}signInWithCustomToken(m){return mr(this._delegate,function Nl(y,f){return _a.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return mr(this._delegate,function Oi(y,f,m){return bn((0,O.m9)(y),Ri.credential(f,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return mr(this._delegate,function og(y,f,m){return Ia.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return kd(this._delegate,function ot(y,f,m){return $n.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,h.Z)(function*(){return _o(Ad(),w._delegate,"operation-not-supported-in-this-environment"),mr(w._delegate,function Kl(y,f,m){return Wo.apply(this,arguments)}(w._delegate,m,cs))})()}signInWithRedirect(m){var w=this;return(0,h.Z)(function*(){return _o(Ad(),w._delegate,"operation-not-supported-in-this-environment"),yield Ku(w._delegate),function mn(y,f,m){return function qu(y,f,m){return D.apply(this,arguments)}(y,f,m)}(w._delegate,m,cs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ol(y,f){return od.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Or,y})();function Sg(y,f,m){let w=y;"function"!=typeof y&&({next:w,error:f,complete:m}=y);const A=w;return{next:K=>A(K&&oi.getOrCreate(K)),error:f,complete:m}}function Cf(y,f){const m=function Bi(y,f){const m=Df();if(!m)return[];const w=Zn(bf,y,f);switch(m.getItem(w)){case Or.NONE:return[Yt];case Or.LOCAL:return[Bo,Pi];case Or.SESSION:return[Pi];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(Bo)&&m.push(Bo),typeof window<"u")for(const w of[Ta,Pi])m.includes(w)||m.push(w);return m.includes(Yt)||m.push(Yt),m}class Zu{constructor(){this.providerId="phone",this._delegate=new Fa(yo(te.Z.auth()))}static credential(f,m){return Fa.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Zu.PHONE_SIGN_IN_METHOD=Fa.PHONE_SIGN_IN_METHOD,Zu.PROVIDER_ID=Fa.PROVIDER_ID;const Ag=U;class Tf{constructor(f,m,w=te.Z.app()){var A;Ag(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new ur(f,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xg(y){y.INTERNAL.registerComponent(new le.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new Tg(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ri,FacebookAuthProvider:ya,GithubAuthProvider:Ml,GoogleAuthProvider:gu,OAuthProvider:Ss,SAMLAuthProvider:ni,PhoneAuthProvider:Zu,PhoneMultiFactorGenerator:mo,RecaptchaVerifier:Tf,TwitterAuthProvider:Wr,Auth:Tg,AuthCredential:fr,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.20")}(te.Z)},9751:(ct,Se,k)=>{k.d(Se,{y:()=>fe});var h=k(2961),te=k(727),O=k(8822),ae=k(9635),ie=k(2416),he=k(576),le=k(2806);let fe=(()=>{class Q{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ee=new Q;return Ee.source=this,Ee.operator=xe,Ee}subscribe(xe,Ee,Qe){const ye=function $(Q){return Q&&Q instanceof h.Lv||function B(Q){return Q&&(0,he.m)(Q.next)&&(0,he.m)(Q.error)&&(0,he.m)(Q.complete)}(Q)&&(0,te.Nn)(Q)}(xe)?xe:new h.Hp(xe,Ee,Qe);return(0,le.x)(()=>{const{operator:pe,source:Ze}=this;ye.add(pe?pe.call(ye,Ze):Ze?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ee){xe.error(Ee)}}forEach(xe,Ee){return new(Ee=ge(Ee))((Qe,ye)=>{const pe=new h.Hp({next:Ze=>{try{xe(Ze)}catch(it){ye(it),pe.unsubscribe()}},error:ye,complete:Qe});this.subscribe(pe)})}_subscribe(xe){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(xe)}[O.L](){return this}pipe(...xe){return(0,ae.U)(xe)(this)}toPromise(xe){return new(xe=ge(xe))((Ee,Qe)=>{let ye;this.subscribe(pe=>ye=pe,pe=>Qe(pe),()=>Ee(ye))})}}return Q.create=Ve=>new Q(Ve),Q})();function ge(Q){var Ve;return null!==(Ve=Q??ie.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(ct,Se,k)=>{k.d(Se,{x:()=>le});var h=k(9751),te=k(727);const ae=(0,k(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(8737),he=k(2806);let le=(()=>{class ge extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new fe(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new ae}next($){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:Ve,observers:xe}=this;return Q||Ve?te.Lc:(this.currentObservers=null,xe.push($),new te.w0(()=>{this.currentObservers=null,(0,ie.P)(xe,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:Ve,isStopped:xe}=this;Q?$.error(Ve):xe&&$.complete()}asObservable(){const $=new h.y;return $.source=this,$}}return ge.create=(B,$)=>new fe(B,$),ge})();class fe extends le{constructor(B,$){super(),this.destination=B,this.source=$}next(B){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,B)}error(B){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,B)}complete(){var B,$;null===($=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===$||$.call(B)}_subscribe(B){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(B))&&void 0!==Q?Q:te.Lc}}},2961:(ct,Se,k)=>{k.d(Se,{Hp:()=>Qe,Lv:()=>Q});var h=k(576),te=k(727),O=k(2416),ae=k(7849);function ie(){}const he=ge("C",void 0,void 0);function ge(Me,we,De){return{kind:Me,value:we,error:De}}var B=k(3410),$=k(2806);class Q extends te.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,te.Nn)(we)&&we.add(this)):this.destination=it}static create(we,De,Be){return new Qe(we,De,Be)}next(we){this.isStopped?Ze(function fe(Me){return ge("N",Me,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Ze(function le(Me){return ge("E",void 0,Me)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Ze(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function xe(Me,we){return Ve.call(Me,we)}class Ee{constructor(we){this.partialObserver=we}next(we){const{partialObserver:De}=this;if(De.next)try{De.next(we)}catch(Be){ye(Be)}}error(we){const{partialObserver:De}=this;if(De.error)try{De.error(we)}catch(Be){ye(Be)}else ye(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(De){ye(De)}}}class Qe extends Q{constructor(we,De,Be){let je;if(super(),(0,h.m)(we)||!we)je={next:we??void 0,error:De??void 0,complete:Be??void 0};else{let U;this&&O.v.useDeprecatedNextContext?(U=Object.create(we),U.unsubscribe=()=>this.unsubscribe(),je={next:we.next&&xe(we.next,U),error:we.error&&xe(we.error,U),complete:we.complete&&xe(we.complete,U)}):je=we}this.destination=new Ee(je)}}function ye(Me){O.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Me):(0,ae.h)(Me)}function Ze(Me,we){const{onStoppedNotification:De}=O.v;De&&B.z.setTimeout(()=>De(Me,we))}const it={closed:!0,next:ie,error:function pe(Me){throw Me},complete:ie}},727:(ct,Se,k)=>{k.d(Se,{Lc:()=>he,w0:()=>ie,Nn:()=>le});var h=k(576);const O=(0,k(3888).d)(ge=>function($){ge(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,Ve)=>`${Ve+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ae=k(8737);class ie{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const xe of $)xe.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,h.m)(Q))try{Q()}catch(xe){B=xe instanceof O?xe.errors:[xe]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const xe of Ve)try{fe(xe)}catch(Ee){B=B??[],Ee instanceof O?B=[...B,...Ee.errors]:B.push(Ee)}}if(B)throw new O(B)}}add(B){var $;if(B&&B!==this)if(this.closed)fe(B);else{if(B instanceof ie){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(B)}}_hasParent(B){const{_parentage:$}=this;return $===B||Array.isArray($)&&$.includes(B)}_addParent(B){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(B),$):$?[$,B]:B}_removeParent(B){const{_parentage:$}=this;$===B?this._parentage=null:Array.isArray($)&&(0,ae.P)($,B)}remove(B){const{_finalizers:$}=this;$&&(0,ae.P)($,B),B instanceof ie&&B._removeParent(this)}}ie.EMPTY=(()=>{const ge=new ie;return ge.closed=!0,ge})();const he=ie.EMPTY;function le(ge){return ge instanceof ie||ge&&"closed"in ge&&(0,h.m)(ge.remove)&&(0,h.m)(ge.add)&&(0,h.m)(ge.unsubscribe)}function fe(ge){(0,h.m)(ge)?ge():ge.unsubscribe()}},2416:(ct,Se,k)=>{k.d(Se,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Se,k)=>{k.d(Se,{E:()=>te});const te=new(k(9751).y)(ie=>ie.complete())},8996:(ct,Se,k)=>{k.d(Se,{D:()=>we});var h=k(8421),te=k(5363),O=k(9468),he=k(9751),fe=k(2202),ge=k(576),B=k(9672);function Q(De,Be){if(!De)throw new Error("Iterable cannot be null");return new he.y(je=>{(0,B.f)(je,Be,()=>{const U=De[Symbol.asyncIterator]();(0,B.f)(je,Be,()=>{U.next().then(me=>{me.done?je.complete():je.next(me.value)})},0,!0)})})}var Ve=k(3670),xe=k(8239),Ee=k(1144),Qe=k(6495),ye=k(2206),pe=k(4532),Ze=k(3260);function we(De,Be){return Be?function Me(De,Be){if(null!=De){if((0,Ve.c)(De))return function ae(De,Be){return(0,h.Xf)(De).pipe((0,O.R)(Be),(0,te.Q)(Be))}(De,Be);if((0,Ee.z)(De))return function le(De,Be){return new he.y(je=>{let U=0;return Be.schedule(function(){U===De.length?je.complete():(je.next(De[U++]),je.closed||this.schedule())})})}(De,Be);if((0,xe.t)(De))return function ie(De,Be){return(0,h.Xf)(De).pipe((0,O.R)(Be),(0,te.Q)(Be))}(De,Be);if((0,ye.D)(De))return Q(De,Be);if((0,Qe.T)(De))return function $(De,Be){return new he.y(je=>{let U;return(0,B.f)(je,Be,()=>{U=De[fe.h](),(0,B.f)(je,Be,()=>{let me,Y;try{({value:me,done:Y}=U.next())}catch(ee){return void je.error(ee)}Y?je.complete():je.next(me)},0,!0)}),()=>(0,ge.m)(U?.return)&&U.return()})}(De,Be);if((0,Ze.L)(De))return function it(De,Be){return Q((0,Ze.Q)(De),Be)}(De,Be)}throw(0,pe.z)(De)}(De,Be):(0,h.Xf)(De)}},8421:(ct,Se,k)=>{k.d(Se,{Xf:()=>Ve});var h=k(655),te=k(1144),O=k(8239),ae=k(9751),ie=k(3670),he=k(2206),le=k(4532),fe=k(6495),ge=k(3260),B=k(576),$=k(7849),Q=k(8822);function Ve(Me){if(Me instanceof ae.y)return Me;if(null!=Me){if((0,ie.c)(Me))return function xe(Me){return new ae.y(we=>{const De=Me[Q.L]();if((0,B.m)(De.subscribe))return De.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,te.z)(Me))return function Ee(Me){return new ae.y(we=>{for(let De=0;De<Me.length&&!we.closed;De++)we.next(Me[De]);we.complete()})}(Me);if((0,O.t)(Me))return function Qe(Me){return new ae.y(we=>{Me.then(De=>{we.closed||(we.next(De),we.complete())},De=>we.error(De)).then(null,$.h)})}(Me);if((0,he.D)(Me))return pe(Me);if((0,fe.T)(Me))return function ye(Me){return new ae.y(we=>{for(const De of Me)if(we.next(De),we.closed)return;we.complete()})}(Me);if((0,ge.L)(Me))return function Ze(Me){return pe((0,ge.Q)(Me))}(Me)}throw(0,le.z)(Me)}function pe(Me){return new ae.y(we=>{(function it(Me,we){var De,Be,je,U;return(0,h.mG)(this,void 0,void 0,function*(){try{for(De=(0,h.KL)(Me);!(Be=yield De.next()).done;)if(we.next(Be.value),we.closed)return}catch(me){je={error:me}}finally{try{Be&&!Be.done&&(U=De.return)&&(yield U.call(De))}finally{if(je)throw je.error}}we.complete()})})(Me,we).catch(De=>we.error(De))})}},6451:(ct,Se,k)=>{k.d(Se,{T:()=>he});var h=k(8189),te=k(8421),O=k(515),ae=k(7669),ie=k(8996);function he(...le){const fe=(0,ae.yG)(le),ge=(0,ae._6)(le,1/0),B=le;return B.length?1===B.length?(0,te.Xf)(B[0]):(0,h.J)(ge)((0,ie.D)(B,fe)):O.E}},5403:(ct,Se,k)=>{k.d(Se,{x:()=>te});var h=k(2961);function te(ae,ie,he,le,fe){return new O(ae,ie,he,le,fe)}class O extends h.Lv{constructor(ie,he,le,fe,ge,B){super(ie),this.onFinalize=ge,this.shouldUnsubscribe=B,this._next=he?function($){try{he($)}catch(Q){ie.error(Q)}}:super._next,this._error=fe?function($){try{fe($)}catch(Q){ie.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch($){ie.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(ct,Se,k)=>{k.d(Se,{U:()=>O});var h=k(4482),te=k(5403);function O(ae,ie){return(0,h.e)((he,le)=>{let fe=0;he.subscribe((0,te.x)(le,ge=>{le.next(ae.call(ie,ge,fe++))}))})}},8189:(ct,Se,k)=>{k.d(Se,{J:()=>O});var h=k(5577),te=k(4671);function O(ae=1/0){return(0,h.z)(te.y,ae)}},5577:(ct,Se,k)=>{k.d(Se,{z:()=>fe});var h=k(4004),te=k(8421),O=k(4482),ae=k(9672),ie=k(5403),le=k(576);function fe(ge,B,$=1/0){return(0,le.m)(B)?fe((Q,Ve)=>(0,h.U)((xe,Ee)=>B(Q,xe,Ve,Ee))((0,te.Xf)(ge(Q,Ve))),$):("number"==typeof B&&($=B),(0,O.e)((Q,Ve)=>function he(ge,B,$,Q,Ve,xe,Ee,Qe){const ye=[];let pe=0,Ze=0,it=!1;const Me=()=>{it&&!ye.length&&!pe&&B.complete()},we=Be=>pe<Q?De(Be):ye.push(Be),De=Be=>{xe&&B.next(Be),pe++;let je=!1;(0,te.Xf)($(Be,Ze++)).subscribe((0,ie.x)(B,U=>{Ve?.(U),xe?we(U):B.next(U)},()=>{je=!0},void 0,()=>{if(je)try{for(pe--;ye.length&&pe<Q;){const U=ye.shift();Ee?(0,ae.f)(B,Ee,()=>De(U)):De(U)}Me()}catch(U){B.error(U)}}))};return ge.subscribe((0,ie.x)(B,we,()=>{it=!0,Me()})),()=>{Qe?.()}}(Q,Ve,ge,$)))}},5363:(ct,Se,k)=>{k.d(Se,{Q:()=>ae});var h=k(9672),te=k(4482),O=k(5403);function ae(ie,he=0){return(0,te.e)((le,fe)=>{le.subscribe((0,O.x)(fe,ge=>(0,h.f)(fe,ie,()=>fe.next(ge),he),()=>(0,h.f)(fe,ie,()=>fe.complete(),he),ge=>(0,h.f)(fe,ie,()=>fe.error(ge),he)))})}},3099:(ct,Se,k)=>{k.d(Se,{B:()=>ie});var h=k(8421),te=k(7579),O=k(2961),ae=k(4482);function ie(le={}){const{connector:fe=(()=>new te.x),resetOnError:ge=!0,resetOnComplete:B=!0,resetOnRefCountZero:$=!0}=le;return Q=>{let Ve,xe,Ee,Qe=0,ye=!1,pe=!1;const Ze=()=>{xe?.unsubscribe(),xe=void 0},it=()=>{Ze(),Ve=Ee=void 0,ye=pe=!1},Me=()=>{const we=Ve;it(),we?.unsubscribe()};return(0,ae.e)((we,De)=>{Qe++,!pe&&!ye&&Ze();const Be=Ee=Ee??fe();De.add(()=>{Qe--,0===Qe&&!pe&&!ye&&(xe=he(Me,$))}),Be.subscribe(De),!Ve&&Qe>0&&(Ve=new O.Hp({next:je=>Be.next(je),error:je=>{pe=!0,Ze(),xe=he(it,ge,je),Be.error(je)},complete:()=>{ye=!0,Ze(),xe=he(it,B),Be.complete()}}),(0,h.Xf)(we).subscribe(Ve))})(Q)}}function he(le,fe,...ge){if(!0===fe)return void le();if(!1===fe)return;const B=new O.Hp({next:()=>{B.unsubscribe(),le()}});return fe(...ge).subscribe(B)}},9468:(ct,Se,k)=>{k.d(Se,{R:()=>te});var h=k(4482);function te(O,ae=0){return(0,h.e)((ie,he)=>{he.add(O.schedule(()=>ie.subscribe(he),ae))})}},8505:(ct,Se,k)=>{k.d(Se,{b:()=>ie});var h=k(576),te=k(4482),O=k(5403),ae=k(4671);function ie(he,le,fe){const ge=(0,h.m)(he)||le||fe?{next:he,error:le,complete:fe}:he;return ge?(0,te.e)((B,$)=>{var Q;null===(Q=ge.subscribe)||void 0===Q||Q.call(ge);let Ve=!0;B.subscribe((0,O.x)($,xe=>{var Ee;null===(Ee=ge.next)||void 0===Ee||Ee.call(ge,xe),$.next(xe)},()=>{var xe;Ve=!1,null===(xe=ge.complete)||void 0===xe||xe.call(ge),$.complete()},xe=>{var Ee;Ve=!1,null===(Ee=ge.error)||void 0===Ee||Ee.call(ge,xe),$.error(xe)},()=>{var xe,Ee;Ve&&(null===(xe=ge.unsubscribe)||void 0===xe||xe.call(ge)),null===(Ee=ge.finalize)||void 0===Ee||Ee.call(ge)}))}):ae.y}},4408:(ct,Se,k)=>{k.d(Se,{o:()=>ie});var h=k(727);class te extends h.w0{constructor(le,fe){super()}schedule(le,fe=0){return this}}const O={setInterval(he,le,...fe){const{delegate:ge}=O;return ge?.setInterval?ge.setInterval(he,le,...fe):setInterval(he,le,...fe)},clearInterval(he){const{delegate:le}=O;return(le?.clearInterval||clearInterval)(he)},delegate:void 0};var ae=k(8737);class ie extends te{constructor(le,fe){super(le,fe),this.scheduler=le,this.work=fe,this.pending=!1}schedule(le,fe=0){if(this.closed)return this;this.state=le;const ge=this.id,B=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(B,ge,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(B,this.id,fe),this}requestAsyncId(le,fe,ge=0){return O.setInterval(le.flush.bind(le,this),ge)}recycleAsyncId(le,fe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return fe;O.clearInterval(fe)}execute(le,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(le,fe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,fe){let B,ge=!1;try{this.work(le)}catch($){ge=!0,B=$||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:le,scheduler:fe}=this,{actions:ge}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ge,this),null!=le&&(this.id=this.recycleAsyncId(fe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Se,k)=>{k.d(Se,{v:()=>O});var h=k(6063);class te{constructor(ie,he=te.now){this.schedulerActionCtor=ie,this.now=he}schedule(ie,he=0,le){return new this.schedulerActionCtor(this,ie).schedule(le,he)}}te.now=h.l.now;class O extends te{constructor(ie,he=te.now){super(ie,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:he}=this;if(this._active)return void he.push(ie);let le;this._active=!0;do{if(le=ie.execute(ie.state,ie.delay))break}while(ie=he.shift());if(this._active=!1,le){for(;ie=he.shift();)ie.unsubscribe();throw le}}}},4986:(ct,Se,k)=>{k.d(Se,{z:()=>O});var h=k(4408);const O=new(k(7565).v)(h.o)},6063:(ct,Se,k)=>{k.d(Se,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(ct,Se,k)=>{k.d(Se,{z:()=>h});const h={setTimeout(te,O,...ae){const{delegate:ie}=h;return ie?.setTimeout?ie.setTimeout(te,O,...ae):setTimeout(te,O,...ae)},clearTimeout(te){const{delegate:O}=h;return(O?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(ct,Se,k)=>{k.d(Se,{h:()=>te});const te=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Se,k)=>{k.d(Se,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ct,Se,k)=>{k.d(Se,{_6:()=>he,jO:()=>ae,yG:()=>ie});var h=k(576);function O(le){return le[le.length-1]}function ae(le){return(0,h.m)(O(le))?le.pop():void 0}function ie(le){return function te(le){return le&&(0,h.m)(le.schedule)}(O(le))?le.pop():void 0}function he(le,fe){return"number"==typeof O(le)?le.pop():fe}},8737:(ct,Se,k)=>{function h(te,O){if(te){const ae=te.indexOf(O);0<=ae&&te.splice(ae,1)}}k.d(Se,{P:()=>h})},3888:(ct,Se,k)=>{function h(te){const ae=te(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(Se,{d:()=>h})},2806:(ct,Se,k)=>{k.d(Se,{O:()=>ae,x:()=>O});var h=k(2416);let te=null;function O(ie){if(h.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),ie(),he){const{errorThrown:le,error:fe}=te;if(te=null,le)throw fe}}else ie()}function ae(ie){h.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ie)}},9672:(ct,Se,k)=>{function h(te,O,ae,ie=0,he=!1){const le=O.schedule(function(){ae(),he?te.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(te.add(le),!he)return le}k.d(Se,{f:()=>h})},4671:(ct,Se,k)=>{function h(te){return te}k.d(Se,{y:()=>h})},1144:(ct,Se,k)=>{k.d(Se,{z:()=>h});const h=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(ct,Se,k)=>{k.d(Se,{D:()=>te});var h=k(576);function te(O){return Symbol.asyncIterator&&(0,h.m)(O?.[Symbol.asyncIterator])}},576:(ct,Se,k)=>{function h(te){return"function"==typeof te}k.d(Se,{m:()=>h})},3670:(ct,Se,k)=>{k.d(Se,{c:()=>O});var h=k(8822),te=k(576);function O(ae){return(0,te.m)(ae[h.L])}},6495:(ct,Se,k)=>{k.d(Se,{T:()=>O});var h=k(2202),te=k(576);function O(ae){return(0,te.m)(ae?.[h.h])}},8239:(ct,Se,k)=>{k.d(Se,{t:()=>te});var h=k(576);function te(O){return(0,h.m)(O?.then)}},3260:(ct,Se,k)=>{k.d(Se,{L:()=>ae,Q:()=>O});var h=k(655),te=k(576);function O(ie){return(0,h.FC)(this,arguments,function*(){const le=ie.getReader();try{for(;;){const{value:fe,done:ge}=yield(0,h.qq)(le.read());if(ge)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(fe)}}finally{le.releaseLock()}})}function ae(ie){return(0,te.m)(ie?.getReader)}},4482:(ct,Se,k)=>{k.d(Se,{A:()=>te,e:()=>O});var h=k(576);function te(ae){return(0,h.m)(ae?.lift)}function O(ae){return ie=>{if(te(ie))return ie.lift(function(he){try{return ae(he,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ct,Se,k)=>{k.d(Se,{U:()=>O,z:()=>te});var h=k(4671);function te(...ae){return O(ae)}function O(ae){return 0===ae.length?h.y:1===ae.length?ae[0]:function(he){return ae.reduce((le,fe)=>fe(le),he)}}},7849:(ct,Se,k)=>{k.d(Se,{h:()=>O});var h=k(2416),te=k(3410);function O(ae){te.z.setTimeout(()=>{const{onUnhandledError:ie}=h.v;if(!ie)throw ae;ie(ae)})}},4532:(ct,Se,k)=>{function h(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>h})},655:(ct,Se,k)=>{function ae(Y,ee){var se={};for(var ne in Y)Object.prototype.hasOwnProperty.call(Y,ne)&&ee.indexOf(ne)<0&&(se[ne]=Y[ne]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ne=Object.getOwnPropertySymbols(Y);Fe<ne.length;Fe++)ee.indexOf(ne[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Y,ne[Fe])&&(se[ne[Fe]]=Y[ne[Fe]])}return se}function fe(Y,ee,se,ne){return new(se||(se=Promise))(function(Oe,pt){function zt(sn){try{ze(ne.next(sn))}catch(Rn){pt(Rn)}}function $t(sn){try{ze(ne.throw(sn))}catch(Rn){pt(Rn)}}function ze(sn){sn.done?Oe(sn.value):function Fe(Oe){return Oe instanceof se?Oe:new se(function(pt){pt(Oe)})}(sn.value).then(zt,$t)}ze((ne=ne.apply(Y,ee||[])).next())})}function ye(Y){return this instanceof ye?(this.v=Y,this):new ye(Y)}function pe(Y,ee,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ne=se.apply(Y,ee||[]),Oe=[];return Fe={},pt("next"),pt("throw"),pt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function pt(Wt){ne[Wt]&&(Fe[Wt]=function(Kt){return new Promise(function(Sr,Lt){Oe.push([Wt,Kt,Sr,Lt])>1||zt(Wt,Kt)})})}function zt(Wt,Kt){try{!function $t(Wt){Wt.value instanceof ye?Promise.resolve(Wt.value.v).then(ze,sn):Rn(Oe[0][2],Wt)}(ne[Wt](Kt))}catch(Sr){Rn(Oe[0][3],Sr)}}function ze(Wt){zt("next",Wt)}function sn(Wt){zt("throw",Wt)}function Rn(Wt,Kt){Wt(Kt),Oe.shift(),Oe.length&&zt(Oe[0][0],Oe[0][1])}}function it(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,ee=Y[Symbol.asyncIterator];return ee?ee.call(Y):(Y=function Q(Y){var ee="function"==typeof Symbol&&Symbol.iterator,se=ee&&Y[ee],ne=0;if(se)return se.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ne>=Y.length&&(Y=void 0),{value:Y&&Y[ne++],done:!Y}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),se={},ne("next"),ne("throw"),ne("return"),se[Symbol.asyncIterator]=function(){return this},se);function ne(Oe){se[Oe]=Y[Oe]&&function(pt){return new Promise(function(zt,$t){!function Fe(Oe,pt,zt,$t){Promise.resolve($t).then(function(ze){Oe({value:ze,done:zt})},pt)}(zt,$t,(pt=Y[Oe](pt)).done,pt.value)})}}}k.d(Se,{FC:()=>pe,KL:()=>it,_T:()=>ae,mG:()=>fe,qq:()=>ye})},4650:(ct,Se,k)=>{k.d(Se,{$8M:()=>$u,$Z:()=>Ff,AFp:()=>xh,ALo:()=>Zs,AaK:()=>fe,BQk:()=>Yf,CHM:()=>Du,CRH:()=>ry,CZH:()=>Rp,CqO:()=>zE,D6c:()=>Mb,EJc:()=>uu,EiD:()=>za,EpF:()=>Qf,F4k:()=>bm,FYo:()=>Le,FiY:()=>Re,G48:()=>wb,GfV:()=>tr,Gpc:()=>$,JOm:()=>Xo,JVY:()=>ff,KtG:()=>Cu,L6k:()=>Xy,LAX:()=>t_,LFG:()=>mn,LSH:()=>Dd,Lbi:()=>my,Lck:()=>qe,MMx:()=>Wv,NdJ:()=>iv,OlP:()=>hn,Oqu:()=>Om,PXZ:()=>gb,Q6J:()=>nv,QGY:()=>Ws,QP$:()=>xi,QbO:()=>Pp,Qsj:()=>Ye,R0b:()=>gs,RDi:()=>yg,Rgc:()=>Dn,SBq:()=>R,Sil:()=>mw,Suo:()=>Pc,TTD:()=>es,TgZ:()=>oh,Tol:()=>tp,Udp:()=>Xf,VKq:()=>cl,X6Q:()=>kT,XFs:()=>Ke,Xpm:()=>H,Xts:()=>Td,Y36:()=>Xu,YKP:()=>qI,YNc:()=>Kf,Yjl:()=>Ut,Yz7:()=>Kt,Z0I:()=>pa,ZZ4:()=>Up,_Bn:()=>Xe,_UZ:()=>Fr,_Vd:()=>m,_c5:()=>Gc,_uU:()=>bv,aQg:()=>Pw,c2e:()=>CT,cJS:()=>Lt,cg1:()=>Vm,d8E:()=>hh,dDg:()=>wy,dqk:()=>on,eBb:()=>e_,eFA:()=>Ph,ekj:()=>ep,eoX:()=>ww,f3M:()=>D,g9A:()=>Op,h0i:()=>wt,hGG:()=>Bp,hij:()=>Ec,iGM:()=>iu,ifc:()=>lt,ip1:()=>pw,jDz:()=>KI,kL8:()=>vI,lG2:()=>Zn,lcZ:()=>tu,lqb:()=>Hs,lri:()=>Rh,mCW:()=>Jo,n5z:()=>os,oAB:()=>st,oJD:()=>vf,oxw:()=>ov,pB0:()=>pf,q3G:()=>xn,q4F:()=>ji,qLn:()=>Sf,qOj:()=>ym,qZA:()=>Zf,qzn:()=>mo,rWj:()=>Oh,sBO:()=>Fh,sIi:()=>nh,s_b:()=>nu,soG:()=>au,tb:()=>gw,tp0:()=>vt,uIk:()=>BE,vHH:()=>Ee,vpe:()=>bo,wAp:()=>yt,xp6:()=>G0,ynx:()=>vc,z2F:()=>pl,z3N:()=>Ti,zSh:()=>Nd,zs3:()=>fc});var h=k(7579),te=k(727),O=k(9751),ae=k(6451),ie=k(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const B=he({__forward_ref__:he});function $(s){return s.__forward_ref__=$,s.toString=function(){return fe(this())},s}function Q(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(B)&&s.__forward_ref__===$}class Ee extends Error{constructor(o,a){super(function Qe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function ye(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s,o){throw new Ee(-201,!1)}function $t(s,o){null==s&&function ze(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Kt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Lt(s){return{providers:s.providers||[],imports:s.imports||[]}}function rn(s){return Hr(s,Mi)||Hr(s,gi)}function pa(s){return null!==rn(s)}function Hr(s,o){return s.hasOwnProperty(o)?s[o]:null}function ws(s){return s&&(s.hasOwnProperty(zr)||s.hasOwnProperty(Mo))?s[zr]:null}const Mi=he({\u0275prov:he}),zr=he({\u0275inj:he}),gi=he({ngInjectableDef:he}),Mo=he({ngInjectorDef:he});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let qr;function On(s){const o=qr;return qr=s,o}function mi(s,o,a){const l=rn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ke.Optional?null:void 0!==o?o:void we(fe(s))}function Pn(s){return{toString:s}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),lt=(()=>{return(s=lt||(lt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",lt;var s})();const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ar={},Ct=[],Qi=he({\u0275cmp:he}),Zt=he({\u0275dir:he}),yi=he({\u0275pipe:he}),qt=he({\u0275mod:he}),W=he({\u0275fac:he}),j=he({__NG_ELEMENT_ID__:he});let V=0;function H(s){return Pn(()=>{const a=!0===s.standalone,l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ct,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||lt.Emulated,id:"c"+V++,styles:s.styles||Ct,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return d.inputs=Yt(s.inputs,l),d.outputs=Yt(s.outputs),v&&v.forEach(E=>E(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(Ce).filter(Ue):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(Vn).filter(Ue):null,d})}function Ce(s){return Pt(s)||_n(s)}function Ue(s){return null!==s}function st(s){return Pn(()=>({type:s.type,bootstrap:s.bootstrap||Ct,declarations:s.declarations||Ct,imports:s.imports||Ct,exports:s.exports||Ct,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Yt(s,o){if(null==s)return Ar;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const Zn=H;function Ut(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Pt(s){return s[Qi]||null}function _n(s){return s[Zt]||null}function Vn(s){return s[yi]||null}function xi(s){const o=Pt(s)||_n(s)||Vn(s);return null!==o&&o.standalone}function Mr(s,o){const a=s[qt]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function or(s){return Array.isArray(s)&&"object"==typeof s[1]}function xr(s){return Array.isArray(s)&&!0===s[1]}function fu(s){return 0!=(8&s.flags)}function ma(s){return 2==(2&s.flags)}function Cl(s){return 1==(1&s.flags)}function Er(s){return null!==s.template}function Kh(s){return 0!=(256&s[2])}function Ri(s,o){return s.hasOwnProperty(W)?s[W]:null}class Xi{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function es(){return Ss}function Ss(s){return s.type.prototype.ngOnChanges&&(s.setInput=gu),ya}function ya(){const s=Qh(this),o=s?.current;if(o){const a=s.previous;if(a===Ar)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function gu(s,o,a,l){const d=Qh(s)||function No(s,o){return s[Ml]=o}(s,{previous:Ar,current:null}),g=d.current||(d.current={}),v=d.previous,E=this.declaredInputs[a],b=v[E];g[E]=new Xi(b&&b.currentValue,o,v===Ar),s[l]=o}es.ngInherit=!0;const Ml="__ngSimpleChanges__";function Qh(s){return s[Ml]||null}function Tn(s){for(;Array.isArray(s);)s=s[0];return s}function ri(s,o){return Tn(o[s])}function Nr(s,o){return Tn(o[s.index])}function Oo(s,o){return s.data[o]}function Ht(s,o){const a=o[s];return or(a)?a:a[0]}function eo(s){return 64==(64&s[2])}function wi(s,o){return null==o?null:s[o]}function wu(s){s[18]=0}function bn(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const Tt={lFrame:Ul(null),bindingsEnabled:!0};function rs(){return Tt.bindingsEnabled}function Te(){return Tt.lFrame.lView}function Bt(){return Tt.lFrame.tView}function Du(s){return Tt.lFrame.contextLView=s,s[8]}function Cu(s){return Tt.lFrame.contextLView=null,s}function Sn(){let s=Tu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Tu(){return Tt.lFrame.currentTNode}function ii(s,o){const a=Tt.lFrame;a.currentTNode=s,a.isParent=o}function va(){return Tt.lFrame.isParent}function wa(){Tt.lFrame.isParent=!1}function An(){const s=Tt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function to(){return Tt.lFrame.bindingIndex++}function is(s){const o=Tt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function ag(s,o){const a=Tt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Su(o)}function Su(s){Tt.lFrame.currentDirectiveIndex=s}function ba(s){const o=Tt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Fl(){return Tt.lFrame.currentQueryIndex}function Da(s){Tt.lFrame.currentQueryIndex=s}function Ll(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Au(s,o,a){if(a&Ke.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&Ke.Host||(d=Ll(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=Tt.lFrame=Vl();return l.currentTNode=o,l.lView=s,!0}function Mu(s){const o=Vl(),a=s[1];Tt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Vl(){const s=Tt.lFrame,o=null===s?null:s.child;return null===o?Ul(s):o}function Ul(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Bl(){const s=Tt.lFrame;return Tt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ad=Bl;function no(){const s=Bl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Jn(){return Tt.lFrame.selectedIndex}function Kr(s){Tt.lFrame.selectedIndex=s}function gn(){const s=Tt.lFrame;return Oo(s.tView,s.selectedIndex)}function Hl(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:N}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-a,b),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function ko(s,o,a){Lo(s,o,3,a)}function Fo(s,o,a,l){(3&s[2])===a&&Lo(s,o,a,l)}function cd(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Lo(s,o,a,l){const g=l??-1,v=o.length-1;let E=0;for(let b=void 0!==l?65535&s[18]:0;b<v;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=l&&E>=l)break}else o[b]<0&&(s[18]+=65536),(E<g||-1==g)&&(dd(s,a,o,b),s[18]=(4294901760&s[18])+b+2),b++}function dd(s,o,a,l){const d=a[l]<0,g=a[l+1],E=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Ms{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Vo(s,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const g=a[l++],v=a[l++],E=a[l++];s.setAttribute(o,v,E,g)}else{const g=d,v=a[++l];ku(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),l++}}return l}function oo(s){return 3===s||4===s||6===s}function ku(s){return 64===s.charCodeAt(0)}function Ca(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||fd(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function fd(s,o,a,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function pd(s){return-1!==s}function ar(s){return 32767&s}function Sa(s,o){let a=function Ta(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Pi=!0;function Aa(s){const o=Pi;return Pi=s,o}let Fn=0;const Ei={};function ao(s,o){const a=Lu(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,xa(l.data,s),xa(o,null),xa(l.blueprint,null));const d=Vu(s,o),g=s.injectorIndex;if(pd(d)){const v=ar(d),E=Sa(d,o),b=E[1].data;for(let S=0;S<8;S++)o[g+S]=E[v+S]|b[v+S]}return o[g+8]=d,g}function xa(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Lu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Vu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=jo(d),null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function xs(s,o,a){!function Fu(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(j)&&(l=a[j]),null==l&&(l=a[j]=Fn++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Ns(s,o,a){if(a&Ke.Optional||void 0!==s)return s;we()}function Uu(s,o,a,l){if(a&Ke.Optional&&void 0===l&&(l=null),0==(a&(Ke.Self|Ke.Host))){const d=s[9],g=On(void 0);try{return d?d.get(o,l,a&Ke.Optional):mi(o,l,a&Ke.Optional)}finally{On(g)}}return Ns(l,0,a)}function uo(s,o,a,l=Ke.Default,d){if(null!==s){if(1024&o[2]){const v=function Bo(s,o,a,l,d){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=Na(g,v,a,l|Ke.Self,Ei);if(E!==Ei)return E;let b=g.parent;if(!b){const S=v[21];if(S){const N=S.get(a,Ei,l);if(N!==Ei)return N}b=jo(v),v=v[15]}g=b}return d}(s,o,a,l,Ei);if(v!==Ei)return v}const g=Na(s,o,a,l,Ei);if(g!==Ei)return g}return Uu(o,a,l,d)}function Na(s,o,a,l,d){const g=function zl(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(j)?s[j]:void 0;return"number"==typeof o?o>=0?255&o:ql:o}(a);if("function"==typeof g){if(!Au(o,s,l))return l&Ke.Host?Ns(d,0,l):Uu(o,a,l,d);try{const v=g(l);if(null!=v||l&Ke.Optional)return v;we()}finally{ad()}}else if("number"==typeof g){let v=null,E=Lu(s,o),b=-1,S=l&Ke.Host?o[16][6]:null;for((-1===E||l&Ke.SkipSelf)&&(b=-1===E?Vu(s,o):o[E+8],-1!==b&&Ra(l,!1)?(v=o[1],E=ar(b),o=Sa(b,o)):E=-1);-1!==E;){const N=o[1];if(Bu(g,E,N.data)){const P=yd(E,o,a,v,l,S);if(P!==Ei)return P}b=o[E+8],-1!==b&&Ra(l,o[1].data[E+8]===S)&&Bu(g,E,o)?(v=N,E=ar(b),o=Sa(b,o)):E=-1}}return d}function yd(s,o,a,l,d,g){const v=o[1],E=v.data[s+8],N=Uo(E,v,a,null==l?ma(E)&&Pi:l!=v&&0!=(3&E.type),d&Ke.Host&&g===E);return null!==N?ss(o,v,N,E):Ei}function Uo(s,o,a,l,d){const g=s.providerIndexes,v=o.data,E=1048575&g,b=s.directiveStart,N=g>>20,z=d?E+N:s.directiveEnd;for(let X=l?E:E+N;X<z;X++){const ve=v[X];if(X<b&&a===ve||X>=b&&ve.type===a)return X}if(d){const X=v[b];if(X&&Er(X)&&X.type===a)return b}return null}function ss(s,o,a,l){let d=s[a];const g=o.data;if(function io(s){return s instanceof Ms}(d)){const v=d;v.resolving&&function Ze(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${s}${a}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ye(s)}(g[a]));const E=Aa(v.canSeeViewProviders);v.resolving=!0;const b=v.injectImpl?On(v.injectImpl):null;Au(s,l,Ke.Default);try{d=s[a]=v.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function ld(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=Ss(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==b&&On(b),Aa(E),v.resolving=!1,ad()}}return d}function Bu(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ra(s,o){return!(s&Ke.Self||s&Ke.Host&&o)}class lo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return uo(this._tNode,this._lView,o,l,a)}}function ql(){return new lo(Sn(),Te())}function os(s){return Pn(()=>{const o=s.prototype.constructor,a=o[W]||ju(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[W]||ju(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function ju(s){return Ve(s)?()=>{const o=ju(Q(s));return o&&o()}:Ri(s)}function jo(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function $u(s){return function md(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(oo(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(Sn(),s)}const Rs="__parameters__";function Go(s,o,a){return Pn(()=>{const l=function Hu(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return E.annotation=v,E;function E(b,S,N){const P=b.hasOwnProperty(Rs)?b[Rs]:Object.defineProperty(b,Rs,{value:[]})[Rs];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(v),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class hn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),wn(l,o)):o!==s&&o.push(l)}return o}function bi(s,o){s.forEach(a=>Array.isArray(a)?bi(a,o):o(a))}function ka(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Rr(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function at(s,o,a){let l=ks(s,o);return l>=0?s[1|l]=a:(l=~l,function Wl(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function La(s,o){const a=ks(s,o);if(a>=0)return s[1|a]}function ks(s,o){return function qo(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:l=g+1}return~(d<<a)}(s,o,1)}const Di={},Yl="__NG_DI_FLAG__",Ko="ngTempTokenPath",as=/\n/gm,Ir="__source";let Vs;function us(s){const o=Vs;return Vs=s,o}function Hn(s,o=Ke.Default){if(void 0===Vs)throw new Ee(-203,!1);return null===Vs?mi(s,void 0,o):Vs.get(s,o&Ke.Optional?null:void 0,o)}function mn(s,o=Ke.Default){return(function Yi(){return qr}()||Hn)(Q(s),o)}function D(s,o=Ke.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),mn(s,o)}function C(s){const o=[];for(let a=0;a<s.length;a++){const l=Q(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Ee(900,!1);let d,g=Ke.Default;for(let v=0;v<l.length;v++){const E=l[v],b=F(E);"number"==typeof b?-1===b?d=E.token:g|=b:d=E}o.push(mn(d,g))}else o.push(mn(l))}return o}function x(s,o){return s[Yl]=o,s.prototype[Yl]=o,s}function F(s){return s[Yl]}const Re=x(Go("Optional"),8),vt=x(Go("SkipSelf"),4);let cf,Ba,Ql;function yg(s){cf=s}function fo(s){return function _d(){if(void 0===Ba&&(Ba=null,on.trustedTypes))try{Ba=on.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ba}()?.createHTML(s)||s}function vg(s){return function po(){if(void 0===Ql&&(Ql=null,on.trustedTypes))try{Ql=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ql}()?.createHTML(s)||s}class go{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ed extends go{getTypeName(){return"HTML"}}class $a extends go{getTypeName(){return"Style"}}class wg extends go{getTypeName(){return"Script"}}class Jl extends go{getTypeName(){return"URL"}}class Jy extends go{getTypeName(){return"ResourceURL"}}function Ti(s){return s instanceof go?s.changingThisBreaksApplicationSecurity:s}function mo(s,o){const a=function hf(s){return s instanceof go&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function ff(s){return new Ed(s)}function Xy(s){return new $a(s)}function e_(s){return new wg(s)}function t_(s){return new Jl(s)}function pf(s){return new Jy(s)}class n_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(fo(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class r_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=fo(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=fo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let d=a.length-1;0<d;d--){const v=a.item(d).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const i_=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Jo(s){return(s=String(s)).match(i_)?s:"unsafe:"+s}function Vi(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Xl(...s){const o={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const js=Vi("area,br,col,hr,img,wbr"),Id=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),s_=Vi("rp,rt"),Ha=Xl(js,Xl(Id,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xl(s_,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xl(s_,Id)),Ga=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tc=Xl(Ga,Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bg=Vi("script,style,template");class Wu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Ha.hasOwnProperty(a))return this.sanitizedSomething=!0,!bg.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let d=0;d<l.length;d++){const g=l.item(d),v=g.name,E=v.toLowerCase();if(!tc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let b=g.value;Ga[E]&&(b=Jo(b)),this.buf.push(" ",v,'="',_f(b),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Ha.hasOwnProperty(a)&&!js.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(_f(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const mf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yf=/([^\#-~ |!])/g;function _f(s){return s.replace(/&/g,"&amp;").replace(mf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(yf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bd;function za(s,o){let a=null;try{bd=bd||function Qo(s){const o=new r_(s);return function gf(){try{return!!(new window.DOMParser).parseFromString(fo(""),"text/html")}catch{return!1}}()?new n_(o):o}(s);let l=o?String(o):"";a=bd.getInertBodyElement(l);let d=5,g=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=g,g=a.innerHTML,a=bd.getInertBodyElement(l)}while(l!==g);return fo((new Wu).sanitizeChildren(qa(a)||a))}finally{if(a){const l=qa(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function qa(s){return"content"in s&&function o_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var xn=(()=>((xn=xn||{})[xn.NONE=0]="NONE",xn[xn.HTML=1]="HTML",xn[xn.STYLE=2]="STYLE",xn[xn.SCRIPT=3]="SCRIPT",xn[xn.URL=4]="URL",xn[xn.RESOURCE_URL=5]="RESOURCE_URL",xn))();function vf(s){const o=nc();return o?vg(o.sanitize(xn.HTML,s)||""):mo(s,"HTML")?vg(Ti(s)):za(function _g(){return void 0!==cf?cf:typeof document<"u"?document:void 0}(),ye(s))}function Dd(s){const o=nc();return o?o.sanitize(xn.URL,s)||"":mo(s,"URL")?Ti(s):Jo(ye(s))}function nc(){const s=Te();return s&&s[12]}const Td=new hn("ENVIRONMENT_INITIALIZER"),Sd=new hn("INJECTOR",-1),Ad=new hn("INJECTOR_DEF_TYPES");class If{get(o,a=Di){if(a===Di){const l=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw l.name="NullInjectorError",l}return a}}function u_(...s){return{\u0275providers:Md(0,s)}}function Md(s,...o){const a=[],l=new Set;let d;return bi(o,g=>{const v=g;Or(v,a,[],l)&&(d||(d=[]),d.push(v))}),void 0!==d&&Cg(d,a),a}function Cg(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];bi(d,g=>{o.push(g)})}}function Or(s,o,a,l){if(!(s=Q(s)))return!1;let d=null,g=ws(s);const v=!g&&Pt(s);if(g||v){if(v&&!v.standalone)return!1;d=s}else{const b=s.ngModule;if(g=ws(b),!g)return!1;d=b}const E=l.has(d);if(v){if(E)return!1;if(l.add(d),v.dependencies){const b="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of b)Or(S,o,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let S;l.add(d);try{bi(g.imports,N=>{Or(N,o,a,l)&&(S||(S=[]),S.push(N))})}finally{}void 0!==S&&Cg(S,o)}if(!E){const S=Ri(d)||(()=>new d);o.push({provide:d,useFactory:S,deps:Ct},{provide:Ad,useValue:d,multi:!0},{provide:Td,useValue:()=>mn(d),multi:!0})}const b=g.providers;null==b||E||bi(b,N=>{o.push(N)})}}return d!==s&&void 0!==s.providers}const bf=he({provide:String,useValue:he});function rc(s){return null!==s&&"object"==typeof s&&bf in s}function Bi(s){return"function"==typeof s}const Nd=new hn("Set Injector scope."),cs={},yo={};let Rd;function Od(){return void 0===Rd&&(Rd=new If),Rd}class Hs{}class Pd extends Hs{constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zu(o,v=>this.processProvider(v)),this.records.set(Sd,oi(void 0,this)),d.has("environment")&&this.records.set(Hs,oi(void 0,this));const g=this.records.get(Nd);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Ad.multi,Ct,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=us(this),l=On(void 0);try{return o()}finally{us(a),On(l)}}get(o,a=Di,l=Ke.Default){this.assertNotDestroyed();const d=us(this),g=On(void 0);try{if(!(l&Ke.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function Sg(s){return"function"==typeof s||"object"==typeof s&&s instanceof hn}(o)&&rn(o);E=b&&this.injectableDefInScope(b)?oi(mr(o),cs):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&Ke.Self?Od():this.parent).get(o,a=l&Ke.Optional&&a===Di?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Ko]=v[Ko]||[]).unshift(fe(o)),d)throw v;return function J(s,o,a,l){const d=s[Ko];throw o[Ir]&&d.unshift(o[Ir]),s.message=function re(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=fe(o);if(Array.isArray(o))d=o.map(fe).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(as,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[Ko]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{On(g),us(d)}}resolveInjectorInitializers(){const o=us(this),a=On(void 0);try{const l=this.get(Td.multi,Ct,Ke.Self);for(const d of l)d()}finally{us(o),On(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(fe(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(o){let a=Bi(o=Q(o))?o:Q(o&&o.provide);const l=function ic(s){return rc(s)?oi(void 0,s.useValue):oi(Fd(s),cs)}(o);if(Bi(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=oi(void 0,cs,!0),d.factory=()=>C(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===cs&&(a.value=yo,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Tg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function mr(s){const o=rn(s),a=null!==o?o.factory:Ri(s);if(null!==a)return a;if(s instanceof hn)throw new Ee(204,!1);if(s instanceof Function)return function kd(s){const o=s.length;if(o>0)throw function Os(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new Ee(204,!1);const a=function wr(s){const o=s&&(s[Mi]||s[gi]);if(o){const a=function Gr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ee(204,!1)}function Fd(s,o,a){let l;if(Bi(s)){const d=Q(s);return Ri(d)||mr(d)}if(rc(s))l=()=>Q(s.useValue);else if(function Ui(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...C(s.deps||[]));else if(function Ku(s){return!(!s||!s.useExisting)}(s))l=()=>mn(Q(s.useExisting));else{const d=Q(s&&(s.useClass||s.provide));if(!function _o(s){return!!s.deps}(s))return Ri(d)||mr(d);l=()=>new d(...C(s.deps))}return l}function oi(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Cf(s){return!!s.\u0275providers}function Zu(s,o){for(const a of s)Array.isArray(a)?Zu(a,o):Cf(a)?Zu(a.\u0275providers,o):o(a)}class Tf{}class f{resolveComponentFactory(o){throw function Mg(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let m=(()=>{class s{}return s.NULL=new f,s})();function w(){return A(Sn(),Te())}function A(s,o){return new R(Nr(s,o))}let R=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=w,s})();function K(s){return s instanceof R?s.nativeElement:s}class Le{}let Ye=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function It(){const s=Te(),a=Ht(Sn().index,s);return(or(a)?a:s)[11]}(),s})(),ft=(()=>{class s{}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:()=>null}),s})();class tr{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const ji=new tr("14.2.3"),Yu={};function h_(s){return s.ngOriginalError}class Sf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&h_(o);for(;a&&h_(a);)a=h_(a);return a||null}}const f_=new Map;let kD=0;const Fg="__ngContext__";function Pr(s,o){or(o)?(s[Fg]=o[20],function LD(s){f_.set(s[20],s)}(o)):s[Fg]=o}function Ka(s){return s instanceof Function?s():s}var Xo=(()=>((Xo=Xo||{})[Xo.Important=1]="Important",Xo[Xo.DashCase=2]="DashCase",Xo))();function __(s,o){return undefined(s,o)}function Hd(s){const o=s[3];return xr(o)?o[3]:o}function Ug(s){return T0(s[13])}function Bg(s){return T0(s[4])}function T0(s){for(;null!==s&&!xr(s);)s=s[4];return s}function Gd(s,o,a,l,d){if(null!=l){let g,v=!1;xr(l)?g=l:or(l)&&(v=!0,l=l[0]);const E=Tn(l);0===s&&null!==a?null==d?O0(o,a,E):ea(o,a,E,d||null,!0):1===s&&null!==a?ea(o,a,E,d||null,!0):2===s?function QD(s,o,a){const l=Hg(s,o);l&&function YD(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function DM(s,o,a,l,d){const g=a[7];g!==Tn(a)&&Gd(o,s,l,g,d);for(let E=10;E<a.length;E++){const b=a[E];cc(b[1],b,s,o,l,g)}}(o,s,g,a,d)}}function jg(s,o,a){return s.createElement(o,a)}function x0(s,o){const a=s[9],l=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,bn(d,-1)),a.splice(l,1)}function I_(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&x0(d,l),o>0&&(s[a-1][4]=l[4]);const g=Rr(s,10+o);!function E_(s,o){cc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function xf(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&cc(s,o,a,3,null,null),function IM(s){let o=s[13];if(!o)return $g(s[1],s);for(;o;){let a=null;if(or(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)or(o)&&$g(o[1],o),o=o[3];null===o&&(o=s),or(o)&&$g(o[1],o),a=o&&o[4]}o=a}}(o)}}function $g(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function D_(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Ms)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=d[g[v]],b=g[v+1];try{b.call(E)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function b_(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],E="function"==typeof v?v(o):Tn(o[v]),b=l[d=a[g+2]],S=a[g+3];"boolean"==typeof S?E.removeEventListener(a[g],b,S):S>=0?l[d=S]():l[d=-S].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)(0,l[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&xr(o[3])){a!==o[3]&&x0(a,o);const l=o[19];null!==l&&l.detachView(s)}!function VD(s){f_.delete(s[20])}(o)}}function N0(s,o,a){return function R0(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===lt.None||d===lt.Emulated)return null}return Nr(l,a)}(s,o.parent,a)}function ea(s,o,a,l,d){s.insertBefore(o,a,l,d)}function O0(s,o,a){s.appendChild(o,a)}function P0(s,o,a,l,d){null!==l?ea(s,o,a,l,d):O0(s,o,a)}function Hg(s,o){return s.parentNode(o)}let C_=function F0(s,o,a){return 40&s.type?Nr(s,a):null};function Gg(s,o,a,l){const d=N0(s,l,o),g=o[11],E=function br(s,o,a){return C_(s,o,a)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)P0(g,d,a[b],E,!1);else P0(g,d,a,E,!1)}function zg(s,o){if(null!==o){const a=o.type;if(3&a)return Nr(o,s);if(4&a)return L0(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return zg(s,l);{const d=s[o.index];return xr(d)?L0(-1,d):Tn(d)}}if(32&a)return __(o,s)()||Tn(s[o.index]);{const l=T_(s,o);return null!==l?Array.isArray(l)?l[0]:zg(Hd(s[16]),l):zg(s,o.next)}}return null}function T_(s,o){return null!==o?s[16][6].projection[o.projection]:null}function L0(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return zg(l,d)}return o[7]}function S_(s,o,a,l,d,g,v){for(;null!=a;){const E=l[a.index],b=a.type;if(v&&0===o&&(E&&Pr(Tn(E),l),a.flags|=4),64!=(64&a.flags))if(8&b)S_(s,o,a.child,l,d,g,!1),Gd(o,s,d,E,g);else if(32&b){const S=__(a,l);let N;for(;N=S();)Gd(o,s,d,N,g);Gd(o,s,d,E,g)}else 16&b?Rf(s,o,l,a,d,g):Gd(o,s,d,E,g);a=v?a.projectionNext:a.next}}function cc(s,o,a,l,d,g){S_(a,l,s.firstChild,o,d,g,!1)}function Rf(s,o,a,l,d,g){const v=a[16],b=v[6].projection[l.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)Gd(o,s,d,b[S],g);else S_(s,o,b,v[3],d,g,!0)}function dc(s,o,a){s.setAttribute(o,"style",a)}function Of(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function JD(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}a=d+1}}const A_="ng-template";function M_(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==JD(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function B0(s){return 4===s.type&&s.value!==A_}function eC(s,o,a){return o===(4!==s.type||a?s.value:A_)}function tC(s,o,a){let l=4;const d=s.attrs||[],g=function CM(s){for(let o=0;o<s.length;o++)if(oo(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!v)if(4&l){if(l=2|1&l,""!==b&&!eC(s,b,a)||""===b&&1===o.length){if(Gs(l))return!1;v=!0}}else{const S=8&l?b:o[++E];if(8&l&&null!==s.attrs){if(!M_(s.attrs,S,a)){if(Gs(l))return!1;v=!0}continue}const P=nC(8&l?"class":b,d,B0(s),a);if(-1===P){if(Gs(l))return!1;v=!0;continue}if(""!==S){let z;z=P>g?"":d[P+1].toLowerCase();const X=8&l?z:null;if(X&&-1!==JD(X,S,0)||2&l&&S!==z){if(Gs(l))return!1;v=!0}}}}else{if(!v&&!Gs(l)&&!Gs(b))return!1;if(v&&Gs(b))continue;v=!1,l=b|1&l}}return Gs(l)||v}function Gs(s){return 0==(1&s)}function nC(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function j0(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function rC(s,o,a=!1){for(let l=0;l<o.length;l++)if(tC(s,o[l],a))return!0;return!1}function $0(s,o){return s?":not("+o.trim()+")":o}function H0(s){let o=s[0],a=1,l=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const E=s[++a];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!Gs(v)&&(o+=$0(g,d),d=""),l=v,g=g||!Gs(l);a++}return""!==d&&(o+=$0(g,d)),o}const Ft={};function G0(s){z0(Bt(),Te(),Jn()+s,!1)}function z0(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ko(o,g,a)}else{const g=s.preOrderHooks;null!==g&&Fo(o,g,0,a)}Kr(a)}function R_(s,o=null,a=null,l){const d=W0(s,o,a,l);return d.resolveInjectorInitializers(),d}function W0(s,o=null,a=null,l,d=new Set){const g=[a||Ct,u_(s)];return l=l||("object"==typeof s?void 0:fe(s)),new Pd(g,o||Od(),l||null,d)}let fc=(()=>{class s{static create(a,l){if(Array.isArray(a))return R_({name:""},l,a,"");{const d=a.name??"";return R_({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=Di,s.NULL=new If,s.\u0275prov=Kt({token:s,providedIn:"any",factory:()=>mn(Sd)}),s.__NG_ELEMENT_ID__=-1,s})();function Xu(s,o=Ke.Default){const a=Te();return null===a?mn(s,o):uo(Sn(),a,Q(s),o)}function Ff(){throw new Error("invalid")}function Lf(s,o){return s<<17|o<<2}function zs(s){return s>>17&32767}function Qg(s){return 2|s}function tl(s){return(131068&s)>>2}function sE(s,o){return-131069&s|o<<2}function Vf(s){return 1|s}function pE(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=s.data[g];Da(d),v.contentQueries(2,o[g],g)}}}function Bf(s,o,a,l,d,g,v,E,b,S,N){const P=o.blueprint.slice();return P[0]=d,P[2]=76|l,(null!==N||s&&1024&s[2])&&(P[2]|=1024),wu(P),P[3]=P[15]=s,P[8]=a,P[10]=v||s&&s[10],P[11]=E||s&&s[11],P[12]=b||s&&s[12]||null,P[9]=S||s&&s[9]||null,P[6]=g,P[20]=function FD(){return kD++}(),P[21]=N,P[16]=2==o.type?s[16]:P,P}function Qd(s,o,a,l,d){let g=s.data[o];if(null===g)g=function mE(s,o,a,l,d){const g=Tu(),v=va(),b=s.data[o]=function wE(s,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=b),null!==g&&(v?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,o,a,l,d),function og(){return Tt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function Po(){const s=Tt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ii(g,!0),g}function Jd(s,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function om(s,o,a){Mu(o);try{const l=s.viewQuery;null!==l&&J_(1,l,a);const d=s.template;null!==d&&am(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&pE(s,o),s.staticViewQueries&&J_(2,s.viewQuery,a);const g=s.components;null!==g&&function IC(s,o){for(let a=0;a<o.length;a++)Q_(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,no()}}function $_(s,o,a,l){const d=o[2];if(128!=(128&d)){Mu(o);try{wu(o),function Pl(s){return Tt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&am(s,o,a,2,l);const v=3==(3&d);if(v){const S=s.preOrderCheckHooks;null!==S&&ko(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Fo(o,S,0,null),cd(o,0)}if(function RC(s){for(let o=Ug(s);null!==o;o=Bg(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(512&d[2])&&bn(g,1),d[2]|=512}}}(o),function fm(s){for(let o=Ug(s);null!==o;o=Bg(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];eo(l)&&$_(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&pE(s,o),v){const S=s.contentCheckHooks;null!==S&&ko(o,S)}else{const S=s.contentHooks;null!==S&&Fo(o,S,1),cd(o,1)}!function EC(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Kr(~d);else{const g=d,v=a[++l],E=a[++l];ag(v,g),E(2,o[g])}}}finally{Kr(-1)}}(s,o);const E=s.components;null!==E&&function gE(s,o){for(let a=0;a<o.length;a++)Z_(s,o[a])}(o,E);const b=s.viewQuery;if(null!==b&&J_(2,b,l),v){const S=s.viewCheckHooks;null!==S&&ko(o,S)}else{const S=s.viewHooks;null!==S&&Fo(o,S,2),cd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,bn(o[3],-1))}finally{no()}}}function am(s,o,a,l,d){const g=Jn(),v=2&l;try{Kr(-1),v&&o.length>22&&z0(s,o,22,!1),a(l,d)}finally{Kr(g)}}function yE(s,o,a){if(fu(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}function um(s,o,a){!rs()||(function EE(s,o,a,l){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||ao(a,o),Pr(l,o);const v=a.initialInputs;for(let E=d;E<g;E++){const b=s.data[E],S=Er(b);S&&DE(o,a,b);const N=ss(o,s,E,a);Pr(N,o),null!==v&&K_(0,E-d,N,b,0,v),S&&(Ht(a.index,o)[8]=N)}}(s,o,a,Nr(a,o)),128==(128&a.flags)&&function IE(s,o,a){const l=a.directiveStart,d=a.directiveEnd,g=a.index,v=function kl(){return Tt.lFrame.currentDirectiveIndex}();try{Kr(g);for(let E=l;E<d;E++){const b=s.data[E],S=o[E];Su(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&cm(b,S)}}finally{Kr(-1),Su(v)}}(s,o,a))}function jf(s,o,a=Nr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],E=-1===v?a(o,s):s[v];s[d++]=E}}}function _E(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=vE(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function vE(s,o,a,l,d,g,v,E,b,S){const N=22+l,P=N+d,z=function bC(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Ft);return a}(N,P),X="function"==typeof S?S():S;return z[1]={type:s,blueprint:z,template:a,queries:null,viewQuery:E,declTNode:o,data:z.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:X,incompleteFirstPass:!1}}function G_(s,o,a,l){const d=AE(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&ME(s).push(l,d.length-1))}function Xd(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function DC(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let E=null,b=null;for(let S=o.directiveStart;S<l;S++){const N=d[S],P=N.inputs,z=null===g||B0(o)?null:xC(P,g);v.push(z),E=Xd(P,S,E),b=Xd(N.outputs,S,b)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=b}function $i(s,o,a,l,d,g,v,E){const b=Nr(o,a);let N,S=o.inputs;!E&&null!=S&&(N=S[l])?(NE(s,a,N,l,d),ma(o)&&TC(a,o.index)):3&o.type&&(l=function CC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,g.setProperty(b,l,d))}function TC(s,o){const a=Ht(o,s);16&a[2]||(a[2]|=32)}function z_(s,o,a,l){let d=!1;if(rs()){const g=function AC(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];rC(a,v.selectors,!1)&&(d||(d=[]),xs(ao(a,o),s,v.type),Er(v)?(dm(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===l?null:{"":-1};if(null!==g){d=!0,W_(a,s.data.length,g.length);for(let N=0;N<g.length;N++){const P=g[N];P.providersResolver&&P.providersResolver(P)}let E=!1,b=!1,S=Jd(s,o,g.length,null);for(let N=0;N<g.length;N++){const P=g[N];a.mergedAttrs=Ca(a.mergedAttrs,P.hostAttrs),bE(s,a,o,S,P),FM(S,P,v),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const z=P.type.prototype;!E&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!b&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),b=!0),S++}DC(s,a)}v&&function MC(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Ee(-301,!1);l.push(o[d],g)}}}(a,l,v)}return a.mergedAttrs=Ca(a.mergedAttrs,a.attrs),d}function q_(s,o,a,l,d,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const b=~o.index;(function SC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=b&&E.push(b),E.push(l,d,v)}}function cm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function dm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function FM(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Er(o)&&(a[""]=s)}}function W_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function bE(s,o,a,l,d){s.data[l]=d;const g=d.factory||(d.factory=Ri(d.type)),v=new Ms(g,Er(d),Xu);s.blueprint[l]=v,a[l]=v,q_(s,o,0,l,Jd(s,a,d.hostVars,Ft),d)}function DE(s,o,a){const l=Nr(o,s),d=_E(a),g=s[10],v=pm(s,Bf(s,d,null,a.onPush?32:16,l,o,g,g.createRenderer(l,a),null,null,null));s[o.index]=v}function na(s,o,a,l,d,g){const v=Nr(s,o);!function hm(s,o,a,l,d,g,v){if(null==g)s.removeAttribute(o,d,a);else{const E=null==v?ye(g):v(g,l||"",d);s.setAttribute(o,d,E,a)}}(o[11],v,g,s.value,a,l,d)}function K_(s,o,a,l,d,g){const v=g[o];if(null!==v){const E=l.setInput;for(let b=0;b<v.length;){const S=v[b++],N=v[b++],P=v[b++];null!==E?l.setInput(a,P,S,N):a[N]=P}}}function xC(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function CE(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function Z_(s,o){const a=Ht(o,s);if(eo(a)){const l=a[1];48&a[2]?$_(l,a,l.template,a[8]):a[5]>0&&Y_(a)}}function Y_(s){for(let l=Ug(s);null!==l;l=Bg(l))for(let d=10;d<l.length;d++){const g=l[d];if(eo(g))if(512&g[2]){const v=g[1];$_(v,g,v.template,g[8])}else g[5]>0&&Y_(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Ht(a[l],s);eo(d)&&d[5]>0&&Y_(d)}}function Q_(s,o){const a=Ht(o,s),l=a[1];(function TE(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),om(l,a,a[8])}function pm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function $f(s){for(;s;){s[2]|=32;const o=Hd(s);if(Kh(s)&&!o)return s;s=o}return null}function gm(s,o,a,l=!0){const d=o[10];d.begin&&d.begin();try{$_(s,o,s.template,a)}catch(v){throw l&&xE(o,v),v}finally{d.end&&d.end()}}function J_(s,o,a){Da(0),o(s,a)}function AE(s){return s[7]||(s[7]=[])}function ME(s){return s.cleanup||(s.cleanup=[])}function xE(s,o){const a=s[9],l=a?a.get(Sf,null):null;l&&l.handleError(o)}function NE(s,o,a,l,d){for(let g=0;g<a.length;){const v=a[g++],E=a[g++],b=o[v],S=s.data[v];null!==S.setInput?S.setInput(b,d,l,E):b[E]=d}}function mm(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?d=ge(d,E):2==g&&(l=ge(l,E+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}function Hf(s,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(Tn(g)),xr(g))for(let E=10;E<g.length;E++){const b=g[E],S=b[1].firstChild;null!==S&&Hf(b[1],b,S,l)}const v=a.type;if(8&v)Hf(s,o,a.child,l);else if(32&v){const E=__(a,o);let b;for(;b=E();)l.push(b)}else if(16&v){const E=T_(o,a);if(Array.isArray(E))l.push(...E);else{const b=Hd(o[16]);Hf(b[1],b,E,l,!0)}}a=d?a.projectionNext:a.next}return l}class eh{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Hf(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(xr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(I_(o,l),Rr(a,l))}this._attachedToViewContainer=!1}xf(this._lView[1],this._lView)}onDestroy(o){G_(this._lView[1],this._lView,null,o)}markForCheck(){$f(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){gm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function M0(s,o){cc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=o}}class yc extends eh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;gm(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class ev extends m{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Pt(o);return new Gf(a,this.ngModule)}}function tv(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class RE{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const d=this.injector.get(o,Yu,l);return d!==Yu||a===Yu?d:this.parentInjector.get(o,a,l)}}class Gf extends Tf{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function sC(s){return s.map(H0).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return tv(this.componentDef.inputs)}get outputs(){return tv(this.componentDef.outputs)}create(o,a,l,d){let g=(d=d||this.ngModule)instanceof Hs?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new RE(o,g):o,E=v.get(Le,null);if(null===E)throw new Ee(407,!1);const b=v.get(ft,null),S=E.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",P=l?function H_(s,o,a){return s.selectRootElement(o,a===lt.ShadowDom)}(S,l,this.componentDef.encapsulation):jg(E.createRenderer(null,this.componentDef),N,function PC(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),z=this.componentDef.onPush?288:272,X=vE(0,null,null,1,0,null,null,null,null,null),ve=Bf(null,X,null,z,null,null,E,S,b,v,null);let ke,He;Mu(ve);try{const tt=function kE(s,o,a,l,d,g){const v=a[1];a[22]=s;const b=Qd(v,22,2,"#host",null),S=b.mergedAttrs=o.hostAttrs;null!==S&&(mm(b,S,!0),null!==s&&(Vo(d,s,S),null!==b.classes&&Of(d,s,b.classes),null!==b.styles&&dc(d,s,b.styles)));const N=l.createRenderer(s,o),P=Bf(a,_E(o),null,o.onPush?32:16,a[22],b,l,N,g||null,null,null);return v.firstCreatePass&&(xs(ao(b,a),v,o.type),dm(v,b),W_(b,a.length,1)),pm(a,P),a[22]=P}(P,this.componentDef,ve,E,S);if(P)if(l)Vo(S,P,["ng-version",ji.full]);else{const{attrs:Je,classes:Ae}=function oC(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&a.push(g);else{if(!Gs(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Je&&Vo(S,P,Je),Ae&&Ae.length>0&&Of(S,P,Ae.join(" "))}if(He=Oo(X,22),void 0!==a){const Je=He.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const Et=a[Ae];Je.push(null!=Et?Array.from(Et):null)}}ke=function FC(s,o,a,l){const d=a[1],g=function kM(s,o,a){const l=Sn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),bE(s,l,o,Jd(s,o,1,null),a),DC(s,l));const d=ss(o,s,l.directiveStart,l);Pr(d,o);const g=Nr(l,o);return g&&Pr(g,o),d}(d,a,o);if(s[8]=a[8]=g,null!==l)for(const E of l)E(g,o);if(o.contentQueries){const E=Sn();o.contentQueries(1,g,E.directiveStart)}const v=Sn();return!d.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Kr(v.index),q_(a[1],v,0,v.directiveStart,v.directiveEnd,o),cm(o,g)),g}(tt,this.componentDef,ve,[FE]),om(X,ve,null)}finally{no()}return new PE(this.componentType,ke,A(He,ve),ve,He)}}class PE extends class Ag{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new yc(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const g=this._rootLView;NE(g[1],g,d,o,a),TC(g,this._tNode.index)}}get injector(){return new lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function FE(){const s=Sn();Hl(Te()[1],s)}function ym(s){let o=function LE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Er(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ee(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const v=s;v.inputs=_m(s.inputs),v.declaredInputs=_m(s.declaredInputs),v.outputs=_m(s.outputs);const E=d.hostBindings;E&&BM(s,E);const b=d.viewQuery,S=d.contentQueries;if(b&&VM(s,b),S&&UM(s,S),le(s.inputs,d.inputs),le(s.declaredInputs,d.declaredInputs),le(s.outputs,d.outputs),Er(d)&&d.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===ym&&(a=!1)}}o=Object.getPrototypeOf(o)}!function LC(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Ca(d.hostAttrs,a=Ca(a,d.hostAttrs))}}(l)}function _m(s){return s===Ar?{}:s===Ct?[]:s}function VM(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function UM(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function BM(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let zf=null;function th(){if(!zf){const s=on.Symbol;if(s&&s.iterator)zf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(zf=l)}}}return zf}function nh(s){return!!UE(s)&&(Array.isArray(s)||!(s instanceof Map)&&th()in s)}function UE(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function kr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function BE(s,o,a,l){const d=Te();return kr(d,to(),o)&&(Bt(),na(gn(),d,s,o,a,l)),BE}function Kf(s,o,a,l,d,g,v,E){const b=Te(),S=Bt(),N=s+22,P=S.firstCreatePass?function ci(s,o,a,l,d,g,v,E,b){const S=o.consts,N=Qd(o,s,4,v||null,wi(S,E));z_(o,a,N,wi(S,b)),Hl(o,N);const P=N.tViews=vE(2,N,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,S,b,o,a,l,d,g,v):S.data[N];ii(P,!1);const z=b[11].createComment("");Gg(S,b,z,P),Pr(z,b),pm(b,b[N]=CE(z,b,z,P)),Cl(P)&&um(S,b,P),null!=v&&jf(b,P,E)}function nv(s,o,a){const l=Te();return kr(l,to(),o)&&$i(Bt(),gn(),l,s,o,l[11],a,!1),nv}function rv(s,o,a,l,d){const v=d?"class":"style";NE(s,a,o.inputs[v],v,l)}function oh(s,o,a,l){const d=Te(),g=Bt(),v=22+s,E=d[11],b=d[v]=jg(E,o,function Nu(){return Tt.lFrame.currentNamespace}()),S=g.firstCreatePass?function GE(s,o,a,l,d,g,v){const E=o.consts,S=Qd(o,s,2,d,wi(E,g));return z_(o,a,S,wi(E,v)),null!==S.attrs&&mm(S,S.attrs,!1),null!==S.mergedAttrs&&mm(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,g,d,0,o,a,l):g.data[v];ii(S,!0);const N=S.mergedAttrs;null!==N&&Vo(E,b,N);const P=S.classes;null!==P&&Of(E,b,P);const z=S.styles;return null!==z&&dc(E,b,z),64!=(64&S.flags)&&Gg(g,d,b,S),0===function Iu(){return Tt.lFrame.elementDepthCount}()&&Pr(b,d),function bu(){Tt.lFrame.elementDepthCount++}(),Cl(S)&&(um(g,d,S),yE(g,S,d)),null!==l&&jf(d,S),oh}function Zf(){let s=Sn();va()?wa():(s=s.parent,ii(s,!1));const o=s;!function xl(){Tt.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(Hl(a,s),fu(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Pu(s){return 0!=(16&s.flags)}(o)&&rv(a,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function hd(s){return 0!=(32&s.flags)}(o)&&rv(a,o,Te(),o.stylesWithoutHost,!1),Zf}function Fr(s,o,a,l){return oh(s,o,a,l),Zf(),Fr}function vc(s,o,a){const l=Te(),d=Bt(),g=s+22,v=d.firstCreatePass?function jC(s,o,a,l,d){const g=o.consts,v=wi(g,l),E=Qd(o,s,8,"ng-container",v);return null!==v&&mm(E,v,!0),z_(o,a,E,wi(g,d)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,d,l,o,a):d.data[g];ii(v,!0);const E=l[g]=l[11].createComment("");return Gg(d,l,E,v),Pr(E,l),Cl(v)&&(um(d,l,v),yE(d,v,l)),null!=a&&jf(l,v),vc}function Yf(){let s=Sn();const o=Bt();return va()?wa():(s=s.parent,ii(s,!1)),o.firstCreatePass&&(Hl(o,s),fu(s)&&o.queries.elementEnd(s)),Yf}function Qf(){return Te()}function Ws(s){return!!s&&"function"==typeof s.then}function bm(s){return!!s&&"function"==typeof s.subscribe}const zE=bm;function iv(s,o,a,l){const d=Te(),g=Bt(),v=Sn();return function Dm(s,o,a,l,d,g,v,E){const b=Cl(l),N=s.firstCreatePass&&ME(s),P=o[8],z=AE(o);let X=!0;if(3&l.type||E){const He=Nr(l,o),tt=E?E(He):He,Je=z.length,Ae=E?Xt=>E(Tn(Xt[l.index])):l.index;let Et=null;if(!E&&b&&(Et=function qE(s,o,a,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const E=o[7],b=d[g+2];return E.length>b?E[b]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=g,Et.__ngLastListenerFn__=g,X=!1;else{g=WE(l,o,P,g,!1);const Xt=a.listen(tt,d,g);z.push(g,Xt),N&&N.push(d,Ae,Je,Je+1)}}else g=WE(l,o,P,g,!1);const ve=l.outputs;let ke;if(X&&null!==ve&&(ke=ve[d])){const He=ke.length;if(He)for(let tt=0;tt<He;tt+=2){const Nn=o[ke[tt]][ke[tt+1]].subscribe(g),Wi=z.length;z.push(g,Nn),N&&N.push(d,l.index,Wi,-(Wi+1))}}}(g,d,d[11],v,s,o,0,l),iv}function sv(s,o,a,l){try{return!1!==a(l)}catch(d){return xE(s,d),!1}}function WE(s,o,a,l,d){return function g(v){if(v===Function)return l;$f(2&s.flags?Ht(s.index,o):o);let b=sv(o,0,l,v),S=g.__ngNextListenerFn__;for(;S;)b=sv(o,0,S,v)&&b,S=S.__ngNextListenerFn__;return d&&!1===b&&(v.preventDefault(),v.returnValue=!1),b}}function ov(s=1){return function ro(s){return(Tt.lFrame.contextLView=function xu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Tt.lFrame.contextLView))[8]}(s)}function hv(s,o,a,l,d){const g=s[a+1],v=null===o;let E=l?zs(g):tl(g),b=!1;for(;0!==E&&(!1===b||v);){const N=s[E+1];JE(s[E],o)&&(b=!0,s[E+1]=l?Vf(N):Qg(N)),E=l?zs(N):tl(N)}b&&(s[a+1]=l?Qg(g):Vf(g))}function JE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ks(s,o)>=0}const yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jf(s){return s.substring(yr.key,yr.keyEnd)}function Mm(s,o){const a=yr.textEnd;return a===o?-1:(o=yr.keyEnd=function XE(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,yr.key=o,a),lh(s,o,a))}function lh(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Xf(s,o,a){return wo(s,o,a,!1),Xf}function ep(s,o){return wo(s,o,null,!0),ep}function tp(s){!function Eo(s,o,a,l){const d=Bt(),g=is(2);d.firstUpdatePass&&iI(d,null,g,l);const v=Te();if(a!==Ft&&kr(v,g,a)){const E=d.data[Jn()];if(Iv(E,l)&&!_v(d,g)){let b=l?E.classesWithoutHost:E.stylesWithoutHost;null!==b&&(a=ge(b,a||"")),rv(d,E,v,a,l)}else!function wv(s,o,a,l,d,g,v,E){d===Ft&&(d=Ct);let b=0,S=0,N=0<d.length?d[0]:null,P=0<g.length?g[0]:null;for(;null!==N||null!==P;){const z=b<d.length?d[b+1]:void 0,X=S<g.length?g[S+1]:void 0;let ke,ve=null;N===P?(b+=2,S+=2,z!==X&&(ve=P,ke=X)):null===P||null!==N&&N<P?(b+=2,ve=N):(S+=2,ve=P,ke=X),null!==ve&&Nm(s,o,a,l,ve,ke,v,E),N=b<d.length?d[b]:null,P=S<g.length?g[S]:null}}(d,E,v,v[11],v[g+1],v[g+1]=function GC(s,o,a){if(null==a||""===a)return Ct;const l=[],d=Ti(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(l,g,d[g]);else"string"==typeof d&&o(l,d);return l}(s,o,a),l,g)}}(at,Ks,s,!0)}function Ks(s,o){for(let a=function pv(s){return function yv(s){yr.key=0,yr.keyEnd=0,yr.value=0,yr.valueEnd=0,yr.textEnd=s.length}(s),Mm(s,lh(s,0,yr.textEnd))}(o);a>=0;a=Mm(o,a))at(s,Jf(o),!0)}function wo(s,o,a,l){const d=Te(),g=Bt(),v=is(2);g.firstUpdatePass&&iI(g,s,v,l),o!==Ft&&kr(d,v,o)&&Nm(g,g.data[Jn()],d,d[11],s,d[v+1]=function ip(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Ti(s)))),s}(o,a),l,v)}function _v(s,o){return o>=s.expandoStartIndex}function iI(s,o,a,l){const d=s.data;if(null===d[a+1]){const g=d[Jn()],v=_v(s,a);Iv(g,l)&&null===o&&!v&&(o=!1),o=function $C(s,o,a,l){const d=ba(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=ch(a=np(null,s,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=np(d,s,o,a,l),null===g){let b=function sI(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==tl(l))return s[zs(l)]}(s,o,l);void 0!==b&&Array.isArray(b)&&(b=np(null,s,o,b[1],l),b=ch(b,o.attrs,l),function vv(s,o,a,l){s[zs(a?o.classBindings:o.styleBindings)]=l}(s,o,l,b))}else g=function HC(s,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=ch(l,s[g].hostAttrs,a);return ch(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function Am(s,o,a,l,d,g){let v=g?o.classBindings:o.styleBindings,E=zs(v),b=tl(v);s[l]=a;let N,S=!1;if(Array.isArray(a)){const P=a;N=P[1],(null===N||ks(P,N)>0)&&(S=!0)}else N=a;if(d)if(0!==b){const z=zs(s[E+1]);s[l+1]=Lf(z,E),0!==z&&(s[z+1]=sE(s[z+1],l)),s[E+1]=function el(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=Lf(E,0),0!==E&&(s[E+1]=sE(s[E+1],l)),E=l;else s[l+1]=Lf(b,0),0===E?E=l:s[b+1]=sE(s[b+1],l),b=l;S&&(s[l+1]=Qg(s[l+1])),hv(s,N,l,!0),hv(s,N,l,!1),function dv(s,o,a,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&ks(g,o)>=0&&(a[l+1]=Vf(a[l+1]))}(o,N,s,l,g),v=Lf(E,b),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,l)}}function np(s,o,a,l,d){let g=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(g=o[E],l=ch(l,g.hostAttrs,d),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function ch(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),at(s,v,!!a||o[++g]))}return void 0===s?null:s}function Nm(s,o,a,l,d,g,v,E){if(!(3&o.type))return;const b=s.data,S=b[E+1];Rm(function V_(s){return 1==(1&s)}(S)?Ev(b,o,a,d,tl(S),v):void 0)||(Rm(g)||function li(s){return 2==(2&s)}(S)&&(g=Ev(b,null,a,d,E,v)),function U0(s,o,a,l,d){if(o)d?s.addClass(a,l):s.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:Xo.DashCase;null==d?s.removeStyle(a,l,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=Xo.Important),s.setStyle(a,l,d,g))}}(l,v,ri(Jn(),a),d,g))}function Ev(s,o,a,l,d,g){const v=null===o;let E;for(;d>0;){const b=s[d],S=Array.isArray(b),N=S?b[1]:b,P=null===N;let z=a[d+1];z===Ft&&(z=P?Ct:void 0);let X=P?La(z,l):N===l?z:void 0;if(S&&!Rm(X)&&(X=La(b,l)),Rm(X)&&(E=X,v))return E;const ve=s[d+1];d=v?zs(ve):tl(ve)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(E=La(b,l))}return E}function Rm(s){return void 0!==s}function Iv(s,o){return 0!=(s.flags&(o?16:32))}function bv(s,o=""){const a=Te(),l=Bt(),d=s+22,g=l.firstCreatePass?Qd(l,d,1,o,null):l.data[d],v=a[d]=function w_(s,o){return s.createText(o)}(a[11],o);Gg(l,a,v,g),ii(g,!1)}function Om(s){return Ec("",s,""),Om}function Ec(s,o,a){const l=Te(),d=function _e(s,o,a,l){return kr(s,to(),a)?o+ye(a)+l:Ft}(l,s,o,a);return d!==Ft&&function vo(s,o,a){const l=ri(o,s);!function S0(s,o,a){s.setValue(o,a)}(s[11],l,a)}(l,Jn(),d),Ec}function hh(s,o,a){const l=Te();if(kr(l,to(),o)){const g=Bt(),v=gn();$i(g,v,l,s,o,function X_(s,o,a){return(null===s||Er(s))&&(a=function mu(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(ba(g.data),v,l),a,!0)}return hh}const Io=void 0;var Ov=["en",[["a","p"],["AM","PM"],Io],[["AM","PM"],Io,Io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Io,"{1} 'at' {0}",Io],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bc(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let fh={};function Vm(s){const o=function Um(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=ol(o);if(a)return a;const l=o.split("-")[0];if(a=ol(l),a)return a;if("en"===l)return Ov;throw new Ee(701,!1)}function vI(s){return Vm(s)[yt.PluralCase]}function ol(s){return s in fh||(fh[s]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[s]),fh[s]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const Ya="en-US";let EI=Ya;function ll(s,o,a,l,d){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)ll(s[g],o,a,l,d);else{const g=Bt(),v=Te();let E=Bi(s)?s:Q(s.provide),b=Fd(s);const S=Sn(),N=1048575&S.providerIndexes,P=S.directiveStart,z=S.providerIndexes>>20;if(Bi(s)||!s.multi){const X=new Ms(b,d,Xu),ve=zv(E,o,d?N:N+z,P);-1===ve?(xs(ao(S,v),g,E),ia(g,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(X),v.push(X)):(a[ve]=X,v[ve]=X)}else{const X=zv(E,o,N+z,P),ve=zv(E,o,N,N+z),ke=X>=0&&a[X],He=ve>=0&&a[ve];if(d&&!He||!d&&!ke){xs(ao(S,v),g,E);const tt=function qv(s,o,a,l,d){const g=new Ms(s,a,Xu);return g.multi=[],g.index=o,g.componentProviders=0,Zm(g,d,l&&!a),g}(d?cr:Pe,a.length,d,l,b);!d&&He&&(a[ve].providerFactory=tt),ia(g,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(tt),v.push(tt)}else ia(g,s,X>-1?X:ve,Zm(a[d?ve:X],b,!d&&l));!d&&l&&He&&a[ve].componentProviders++}}}function ia(s,o,a,l){const d=Bi(o),g=function Df(s){return!!s.useClass}(o);if(d||g){const b=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(b){const S=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const N=S.indexOf(a);-1===N?S.push(a,[l,b]):S[N+1].push(l,b)}else S.push(a,b)}}}function Zm(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function zv(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function Pe(s,o,a,l){return Xa(this.multi,[])}function cr(s,o,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=ss(a,a[1],this.providerFactory.index,l);g=E.slice(0,v),Xa(d,g);for(let b=v;b<E.length;b++)g.push(E[b])}else g=[],Xa(d,g);return g}function Xa(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Xe(s,o=[]){return a=>{a.providersResolver=(l,d)=>function Lr(s,o,a){const l=Bt();if(l.firstCreatePass){const d=Er(s);ll(a,l.data,l.blueprint,d,!0),ll(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class wt{}class qI{}function qe(s,o){return new Ne(s,o??null)}class Ne extends wt{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const l=Mr(o);this._bootstrapComponents=Ka(l.bootstrap),this._r3Injector=W0(o,a,[{provide:wt,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class _r extends qI{constructor(o){super(),this.moduleType=o}create(o){return new Ne(this.moduleType,o)}}class WI extends wt{constructor(o,a,l){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const d=new Pd([...o,{provide:wt,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],a||Od(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Wv(s,o,a=null){return new WI(s,o,a).injector}let rT=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Md(0,a.type),d=l.length>0?Wv([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Kt({token:s,providedIn:"environment",factory:()=>new s(mn(Hs))}),s})();function KI(s){s.getStandaloneInjector=o=>o.get(rT).getOrCreateStandaloneInjector(s)}function cl(s,o,a,l){return Xv(Te(),An(),s,o,a,l)}function Xv(s,o,a,l,d,g){const v=o+a;return kr(s,v,d)?function ra(s,o,a){return s[o]=a}(s,v+1,g?l.call(g,d):l(d)):function bh(s,o){const a=s[o];return a===Ft?void 0:a}(s,v+1)}function Zs(s,o){const a=Bt();let l;const d=s+22;a.firstCreatePass?(l=function uT(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=Ri(l.type)),v=On(Xu);try{const E=Aa(!1),b=g();return Aa(E),function Qr(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,Te(),d,b),b}finally{On(v)}}function tu(s,o,a){const l=s+22,d=Te(),g=function ns(s,o){return s[o]}(d,l);return function Tp(s,o){return s[1].data[o].pure}(d,l)?Xv(d,An(),o,g.transform,a,g):g.transform(a)}function di(s){return o=>{setTimeout(s,void 0,o)}}const bo=class cT extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,g=a||(()=>null),v=l;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),g=b.error?.bind(b),v=b.complete?.bind(b)}this.__isAsync&&(g=di(g),d&&(d=di(d)),v&&(v=di(v)));const E=super.subscribe({next:d,error:g,complete:v});return o instanceof te.w0&&o.add(E),E}};function Sc(){return this._results[th()]()}class ey{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=th(),l=ey.prototype;l[a]||(l[a]=Sc)}get changes(){return this._changes||(this._changes=new bo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=wn(o);(this._changesDetected=!function $n(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dn=(()=>{class s{}return s.__NG_ELEMENT_ID__=yn,s})();const ty=Dn,Xr=class extends ty{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,d=Bf(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(d[19]=v.createEmbeddedView(l)),om(l,d,o),new eh(d)}};function yn(){return Sp(Sn(),Te())}function Sp(s,o){return 4&s.type?new Xr(o,s,A(s,o)):null}let nu=(()=>{class s{}return s.__NG_ELEMENT_ID__=ps,s})();function ps(){return qn(Sn(),Te())}const dT=nu,vr=class extends dT{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return A(this._hostTNode,this._hostLView)}get injector(){return new lo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Vu(this._hostTNode,this._hostLView);if(pd(o)){const a=Sa(o,this._hostLView),l=ar(o);return new lo(a[1].data[l+8],a)}return new lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=tb(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let d,g;"number"==typeof l?d=l:null!=l&&(d=l.index,g=l.injector);const v=o.createEmbeddedView(a||{},g);return this.insert(v,d),v}createComponent(o,a,l,d,g){const v=o&&!function Ii(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const P=a||{};E=P.index,l=P.injector,d=P.projectableNodes,g=P.environmentInjector||P.ngModuleRef}const b=v?o:new Gf(Pt(o)),S=l||this.parentInjector;if(!g&&null==b.ngModule){const z=(v?S:this.parentInjector).get(Hs,null);z&&(g=z)}const N=b.create(S,d,void 0,g);return this.insert(N.hostView,E),N}insert(o,a){const l=o._lView,d=l[1];if(function vu(s){return xr(s[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=l[3],z=new vr(P,P[6],P[3]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function KD(s,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],ka(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function ZD(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(d,l,v,g);const E=L0(g,v),b=l[11],S=Hg(b,v[7]);return null!==S&&function A0(s,o,a,l,d,g){l[0]=d,l[6]=o,cc(s,l,a,1,d,g)}(d,v[6],b,l,S,E),o.attachToViewContainerRef(),ka(sa(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=tb(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=I_(this._lContainer,a);l&&(Rr(sa(this._lContainer),a),xf(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=I_(this._lContainer,a);return l&&null!=Rr(sa(this._lContainer),a)?new eh(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function tb(s){return s[8]}function sa(s){return s[8]||(s[8]=[])}function qn(s,o){let a;const l=o[s.index];if(xr(l))a=l;else{let d;if(8&s.type)d=Tn(l);else{const g=o[11];d=g.createComment("");const v=Nr(s,o);ea(g,Hg(g,v),d,function k0(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=a=CE(l,o,d,s),pm(o,a)}return new vr(a,s,o)}class Mc{constructor(o){this.queryList=o,this.matches=null}clone(){return new Mc(this.queryList)}setDirty(){this.queryList.setDirty()}}class nw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new nw(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==rw(o,a).matches&&this.queries[a].setDirty()}}class ru{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class xc{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new xc(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Nc{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Nc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,nb(a,g)),this.matchTNodeWithReadOption(o,a,Uo(a,o,g,!1,!1))}else l===Dn?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Uo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===R||d===nu||d===Dn&&4&a.type)this.addMatch(a.index,-2);else{const g=Uo(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function nb(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function ny(s,o,a,l){return-1===a?function dl(s,o){return 11&s.type?A(s,o):4&s.type?Sp(s,o):null}(o,s):-2===a?function Rc(s,o,a){return a===R?A(o,s):a===Dn?Sp(o,s):a===nu?qn(o,s):void 0}(s,o,l):ss(s,s[1],a,o)}function Do(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=a.matches,E=[];for(let b=0;b<v.length;b+=2){const S=v[b];E.push(S<0?null:ny(o,g[S],v[b+1],a.metadata.read))}d.matches=E}return d.matches}function Oc(s,o,a,l){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=Do(s,o,d,a);for(let E=0;E<g.length;E+=2){const b=g[E];if(b>0)l.push(v[E/2]);else{const S=g[E+1],N=o[-b];for(let P=10;P<N.length;P++){const z=N[P];z[17]===z[3]&&Oc(z[1],z,S,l)}if(null!==N[9]){const P=N[9];for(let z=0;z<P.length;z++){const X=P[z];Oc(X[1],X,S,l)}}}}}return l}function iu(s){const o=Te(),a=Bt(),l=Fl();Da(l+1);const d=rw(a,l);if(s.dirty&&function _u(s){return 4==(4&s[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?Oc(a,o,l,[]):Do(a,o,d,l);s.reset(g,K),s.notifyOnChanges()}return!0}return!1}function Pc(s,o,a,l){const d=Bt();if(d.firstCreatePass){const g=Sn();(function Dh(s,o,a){null===s.queries&&(s.queries=new xc),s.queries.track(new Nc(o,a))})(d,new ru(o,a,l),g.index),function ib(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function iy(s,o,a){const l=new ey(4==(4&a));G_(s,o,l,l.destroy),null===o[19]&&(o[19]=new nw),o[19].queries.push(new Mc(l))}(d,Te(),a)}function ry(){return function kc(s,o){return s[19].queries[o].queryList}(Te(),Fl())}function rw(s,o){return s.queries.getByIndex(o)}function xp(...s){}const pw=new hn("Application Initializer");let Rp=(()=>{class s{constructor(a){this.appInits=a,this.resolve=xp,this.reject=xp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Ws(g))a.push(g);else if(zE(g)){const v=new Promise((E,b)=>{g.subscribe({complete:E,error:b})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(mn(pw,8))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xh=new hn("AppId",{providedIn:"root",factory:function db(){return`${Cn()}${Cn()}${Cn()}`}});function Cn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Op=new hn("Platform Initializer"),my=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gw=new hn("appBootstrapListener"),Pp=new hn("AnimationModuleType");let CT=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const au=new hn("LocaleId",{providedIn:"root",factory:()=>D(au,Ke.Optional|Ke.SkipSelf)||function hb(){return typeof $localize<"u"&&$localize.locale||Ya}()}),uu=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Nh{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let mw=(()=>{class s{compileModuleSync(a){return new _r(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=Ka(Mr(a).declarations).reduce((v,E)=>{const b=Pt(E);return b&&v.push(new Gf(b)),v},[]);return new Nh(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const zi=(()=>Promise.resolve(0))();function yy(s){typeof Zone>"u"?zi.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class gs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bo(!1),this.onMicrotaskEmpty=new bo(!1),this.onStable=new bo(!1),this.onError=new bo(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function kp(){let s=on.requestAnimationFrame,o=on.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function xT(s){const o=()=>{!function Fp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(on,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,vw(s),s.isCheckStableRunning=!0,_y(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),vw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,E)=>{try{return Vt(s),a.invokeTask(d,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),fb(s)}},onInvoke:(a,l,d,g,v,E,b)=>{try{return Vt(s),a.invoke(d,g,v,E,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),fb(s)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,vw(s),_y(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new Ee(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,oa,xp,xp);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const oa={};function _y(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function vw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Vt(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function fb(s){s._nesting--,_y(s)}class vy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bo,this.onMicrotaskEmpty=new bo,this.onStable=new bo,this.onError=new bo}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const Rh=new hn(""),Oh=new hn("");let Ey,wy=(()=>{class s{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ey||(function pb(s){Ey=s}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),yy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yy(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(mn(gs),mn(ww),mn(Oh))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})(),ww=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Ey?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),fl=null;const Ew=new hn("AllowMultipleToken"),Iy=new hn("PlatformDestroyListeners");class gb{constructor(o,a){this.name=o,this.token=a}}function Ph(s,o,a=[]){const l=`Platform: ${o}`,d=new hn(l);return(g=[])=>{let v=Bc();if(!v||v.injector.get(Ew,!1)){const E=[...a,...g,{provide:d,useValue:!0}];s?s(E):function RT(s){if(fl&&!fl.get(Ew,!1))throw new Ee(400,!1);fl=s;const o=s.get(Iw);(function by(s){const o=s.get(Op,null);o&&o.forEach(a=>a())})(s)}(function Dy(s=[],o){return fc.create({name:o,providers:[{provide:Nd,useValue:"platform"},{provide:Iy,useValue:new Set([()=>fl=null])},...s]})}(E,l))}return function aa(s){const o=Bc();if(!o)throw new Ee(401,!1);return o}()}}function Bc(){return fl?.get(Iw)??null}let Iw=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function Dw(s,o){let a;return a="noop"===s?new vy:("zone.js"===s?void 0:s)||new gs(o),a}(l?.ngZone,function bw(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:gs,useValue:d}];return d.run(()=>{const v=fc.create({providers:g,parent:this.injector,name:a.moduleType.name}),E=a.create(v),b=E.injector.get(Sf,null);if(!b)throw new Ee(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:N=>{b.handleError(N)}});E.onDestroy(()=>{kh(this._modules,E),S.unsubscribe()})}),function mb(s,o,a){try{const l=a();return Ws(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(b,d,()=>{const S=E.injector.get(Rp);return S.runInitializers(),S.donePromise.then(()=>(function II(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(EI=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(au,Ya)||Ya),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,l=[]){const d=yb({},l);return function NT(s,o,a){const l=new _r(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(pl);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ee(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Iy,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(mn(fc))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function yb(s,o){return Array.isArray(o)?o.reduce(yb,s):{...s,...o}}let pl=(()=>{class s{constructor(a,l,d){this._zone=a,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{gs.assertNotInAngularZone(),yy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ae.T)(g,v.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof Tf;if(!this._injector.get(Rp).done)throw!d&&xi(a),new Ee(405,false);let v;v=d?a:this._injector.get(m).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const E=function Lp(s){return s.isBoundToModule}(v)?void 0:this._injector.get(wt),S=v.create(fc.NULL,[],l||v.selector,E),N=S.location.nativeElement,P=S.injector.get(Rh,null);return P?.registerApplication(N),S.onDestroy(()=>{this.detachView(S.hostView),kh(this.components,S),P?.unregisterApplication(N)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;kh(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(gw,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>kh(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(mn(gs),mn(Hs),mn(Sf))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function kh(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Cw=!0,Tw=!1;function kT(){return Tw=!0,Cw}function wb(){if(Tw)throw new Error("Cannot enable prod mode after platform setup.");Cw=!1}let Fh=(()=>{class s{}return s.__NG_ELEMENT_ID__=FT,s})();function FT(s){return function LT(s,o,a){if(ma(s)&&!a){const l=Ht(s.index,o);return new eh(l,l)}return 47&s.type?new eh(o[16],o):null}(Sn(),Te(),16==(16&s))}class Db{constructor(){}supports(o){return nh(o)}create(o){return new Cb(o)}}const jT=(s,o)=>o;class Cb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||jT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<Sb(l,d,g)?a:l,E=Sb(v,d,g),b=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const S=E-d,N=b-d;if(S!=N){for(let z=0;z<S;z++){const X=z<g.length?g[z]:g[z]=0,ve=X+z;N<=ve&&ve<S&&(g[z]=X+1)}g[v.previousIndex]=N-S}}E!==b&&o(v,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!nh(o))throw new Ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,E),l=!0),a=a._next}else d=0,function $M(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[th()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{v=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,E,v,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new $T(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Nw),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class $T{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Nw{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new Tb,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sb(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class Sy{constructor(){}supports(o){return o instanceof Map||UE(o)}create(){return new jr}}class jr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||UE(o)))throw new Ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new Rw(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class Rw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ay(){return new Up([new Db])}let Up=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Ay()),deps:[[s,new vt,new Re]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Ee(901,!1)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:Ay}),s})();function Ow(){return new Pw([new Sy])}let Pw=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Ow()),deps:[[s,new vt,new Re]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Ee(901,!1)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:Ow}),s})();const Gc=Ph(null,"core",[]);let Bp=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(mn(pl))},s.\u0275mod=st({type:s}),s.\u0275inj=Lt({}),s})();function Mb(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ct,Se,k)=>{k.d(Se,{Z:()=>Ee});var h=k(2090),te=k(4859),O=k(9681),ae=k(1877);class ie{constructor(ye,pe){this._delegate=ye,this.firebase=pe,(0,O._addComponent)(ye,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ye,pe=O._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(ye);return!it.isInitialized()&&"EXPLICIT"===(null===(Ze=it.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&it.initialize(),it.getImmediate({identifier:pe})}_removeServiceInstance(ye,pe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(pe)}_addComponent(ye){(0,O._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,O._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ge(){const Qe=function fe(Qe){const ye={},pe={__esModule:!0,initializeApp:function Me(je,U={}){const me=O.initializeApp(je,U);if((0,h.r3)(ye,me.name))return ye[me.name];const Y=new Qe(me,pe);return ye[me.name]=Y,Y},app:it,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function De(je){const U=je.name,me=U.replace("-compat","");if(O._registerComponent(je)&&"PUBLIC"===je.type){const Y=(ee=it())=>{if("function"!=typeof ee[me])throw le.create("invalid-app-argument",{appName:U});return ee[me]()};void 0!==je.serviceProps&&(0,h.ZB)(Y,je.serviceProps),pe[me]=Y,Qe.prototype[me]=function(...ee){return this._getService.bind(this,U).apply(this,je.multipleInstances?ee:[])}}return"PUBLIC"===je.type?pe[me]:null},removeApp:function Ze(je){delete ye[je]},useAsService:function Be(je,U){return"serverAuth"===U?null:U},modularAPIs:O}};function it(je){if(!(0,h.r3)(ye,je=je||O._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:je});return ye[je]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function we(){return Object.keys(ye).map(je=>ye[je])}}),it.App=Qe,pe}(ie);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function ye(pe){(0,h.ZB)(Qe,pe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Qe}(),$=new ae.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=B;!function xe(Qe){(0,O.registerVersion)("@firebase/app-compat","0.1.34",Qe)}()},9681:(ct,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>ws,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>Kt,_apps:()=>sn,_clearComponents:()=>pa,_components:()=>Rn,_getProvider:()=>Lt,_registerComponent:()=>Sr,_removeServiceInstance:()=>rn,deleteApp:()=>Mo,getApp:()=>zr,getApps:()=>gi,initializeApp:()=>Mi,onLog:()=>Yi,registerVersion:()=>qr,setLogLevel:()=>On});var h=k(5861),te=k(4859),O=k(1877),ae=k(2090),ie=k(8766);class he{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function le(V){return"VERSION"===V.getComponent()?.type}(q)){const Ce=q.getImmediate();return`${Ce.library}/${Ce.version}`}return null}).filter(q=>q).join(" ")}}const fe="@firebase/app",B=new O.Yd("@firebase/app"),$t="[DEFAULT]",ze={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,Rn=new Map;function Wt(V,H){try{V.container.addComponent(H)}catch(q){B.debug(`Component ${H.name} failed to register with FirebaseApp ${V.name}`,q)}}function Kt(V,H){V.container.addOrOverwriteComponent(H)}function Sr(V){const H=V.name;if(Rn.has(H))return B.debug(`There were multiple attempts to register component ${H}.`),!1;Rn.set(H,V);for(const q of sn.values())Wt(q,V);return!0}function Lt(V,H){const q=V.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),V.container.getProvider(H)}function rn(V,H,q=$t){Lt(V,H).clearInstance(q)}function pa(){Rn.clear()}const wr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gr{constructor(H,q,Ce){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=Ce,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const ws="9.10.0";function Mi(V,H={}){"object"!=typeof H&&(H={name:H});const q=Object.assign({name:$t,automaticDataCollectionEnabled:!1},H),Ce=q.name;if("string"!=typeof Ce||!Ce)throw wr.create("bad-app-name",{appName:String(Ce)});const Ue=sn.get(Ce);if(Ue){if((0,ae.vZ)(V,Ue.options)&&(0,ae.vZ)(q,Ue.config))return Ue;throw wr.create("duplicate-app",{appName:Ce})}const st=new te.H0(Ce);for(const Yt of Rn.values())st.addComponent(Yt);const dn=new Gr(V,q,st);return sn.set(Ce,dn),dn}function zr(V=$t){const H=sn.get(V);if(!H)throw wr.create("no-app",{appName:V});return H}function gi(){return Array.from(sn.values())}function Mo(V){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(V){const H=V.name;sn.has(H)&&(sn.delete(H),yield Promise.all(V.container.getProviders().map(q=>q.delete())),V.isDeleted=!0)})).apply(this,arguments)}function qr(V,H,q){var Ce;let Ue=null!==(Ce=ze[V])&&void 0!==Ce?Ce:V;q&&(Ue+=`-${q}`);const st=Ue.match(/\s|\//),dn=H.match(/\s|\//);if(st||dn){const Yt=[`Unable to register library "${Ue}" with version "${H}":`];return st&&Yt.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),st&&dn&&Yt.push("and"),dn&&Yt.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void B.warn(Yt.join(" "))}Sr(new te.wA(`${Ue}-version`,()=>({library:Ue,version:H}),"VERSION"))}function Yi(V,H){if(null!==V&&"function"!=typeof V)throw wr.create("invalid-log-argument");(0,O.Am)(V,H)}function On(V){(0,O.Ub)(V)}const Pn="firebase-heartbeat-store";let Kn=null;function fn(){return Kn||(Kn=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(V,H)=>{0===H&&V.createObjectStore(Pn)}}).catch(V=>{throw wr.create("idb-open",{originalErrorMessage:V.message})})),Kn}function lt(){return(lt=(0,h.Z)(function*(V){var H;try{return(yield fn()).transaction(Pn).objectStore(Pn).get(sr(V))}catch(q){if(q instanceof ae.ZR)B.warn(q.message);else{const Ce=wr.create("idb-get",{originalErrorMessage:null===(H=q)||void 0===H?void 0:H.message});B.warn(Ce.message)}}})).apply(this,arguments)}function on(V,H){return ir.apply(this,arguments)}function ir(){return(ir=(0,h.Z)(function*(V,H){var q;try{const Ue=(yield fn()).transaction(Pn,"readwrite");return yield Ue.objectStore(Pn).put(H,sr(V)),Ue.done}catch(Ce){if(Ce instanceof ae.ZR)B.warn(Ce.message);else{const Ue=wr.create("idb-set",{originalErrorMessage:null===(q=Ce)||void 0===q?void 0:q.message});B.warn(Ue.message)}}})).apply(this,arguments)}function sr(V){return`${V.name}!${V.options.appId}`}class Qi{constructor(H){this.container=H,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new qt(q),this._heartbeatsCachePromise=this._storage.read().then(Ce=>(this._heartbeatsCache=Ce,Ce))}triggerHeartbeat(){var H=this;return(0,h.Z)(function*(){const Ce=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ue=Zt();if(null===H._heartbeatsCache&&(H._heartbeatsCache=yield H._heartbeatsCachePromise),H._heartbeatsCache.lastSentHeartbeatDate!==Ue&&!H._heartbeatsCache.heartbeats.some(st=>st.date===Ue))return H._heartbeatsCache.heartbeats.push({date:Ue,agent:Ce}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(st=>{const dn=new Date(st.date).valueOf();return Date.now()-dn<=2592e6}),H._storage.overwrite(H._heartbeatsCache)})()}getHeartbeatsHeader(){var H=this;return(0,h.Z)(function*(){if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null===H._heartbeatsCache||0===H._heartbeatsCache.heartbeats.length)return"";const q=Zt(),{heartbeatsToSend:Ce,unsentEntries:Ue}=function yi(V,H=1024){const q=[];let Ce=V.slice();for(const Ue of V){const st=q.find(dn=>dn.agent===Ue.agent);if(st){if(st.dates.push(Ue.date),W(q)>H){st.dates.pop();break}}else if(q.push({agent:Ue.agent,dates:[Ue.date]}),W(q)>H){q.pop();break}Ce=Ce.slice(1)}return{heartbeatsToSend:q,unsentEntries:Ce}}(H._heartbeatsCache.heartbeats),st=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ce}));return H._heartbeatsCache.lastSentHeartbeatDate=q,Ue.length>0?(H._heartbeatsCache.heartbeats=Ue,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),st})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class qt{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,h.Z)(function*(){return(yield H._canUseIndexedDBPromise)&&(yield function gt(V){return lt.apply(this,arguments)}(H.app))||{heartbeats:[]}})()}overwrite(H){var q=this;return(0,h.Z)(function*(){var Ce;if(yield q._canUseIndexedDBPromise){const st=yield q.read();return on(q.app,{lastSentHeartbeatDate:null!==(Ce=H.lastSentHeartbeatDate)&&void 0!==Ce?Ce:st.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var q=this;return(0,h.Z)(function*(){var Ce;if(yield q._canUseIndexedDBPromise){const st=yield q.read();return on(q.app,{lastSentHeartbeatDate:null!==(Ce=H.lastSentHeartbeatDate)&&void 0!==Ce?Ce:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...H.heartbeats]})}})()}}function W(V){return(0,ae.L)(JSON.stringify({version:2,heartbeats:V})).length}!function j(V){Sr(new te.wA("platform-logger",H=>new he(H),"PRIVATE")),Sr(new te.wA("heartbeat",H=>new Qi(H),"PRIVATE")),qr(fe,"0.7.33",V),qr(fe,"0.7.33","esm2017"),qr("fire-js","")}("")},4859:(ct,Se,k)=>{k.d(Se,{H0:()=>fe,wA:()=>O});var h=k(5861),te=k(2090);class O{constructor(B,$,Q){this.name=B,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ae="[DEFAULT]";class ie{constructor(B,$){this.name=B,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const $=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has($)){const Q=new te.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:$});Ve&&Q.resolve(Ve)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(B){var $;const Q=this.normalizeInstanceIdentifier(B?.identifier),Ve=null!==($=B?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(xe){if(Ve)return null;throw xe}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function le(ge){return"EAGER"===ge.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier($);try{const xe=this.getOrInitializeService({instanceIdentifier:Ve});Q.resolve(xe)}catch{}}}}clearInstance(B=ae){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,h.Z)(function*(){const $=Array.from(B.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ae){return this.instances.has(B)}getOptions(B=ae){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:$={}}=B,Q=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[xe,Ee]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(xe)&&Ee.resolve(Ve);return Ve}onInit(B,$){var Q;const Ve=this.normalizeInstanceIdentifier($),xe=null!==(Q=this.onInitCallbacks.get(Ve))&&void 0!==Q?Q:new Set;xe.add(B),this.onInitCallbacks.set(Ve,xe);const Ee=this.instances.get(Ve);return Ee&&B(Ee,Ve),()=>{xe.delete(B)}}invokeOnInitCallbacks(B,$){const Q=this.onInitCallbacks.get($);if(Q)for(const Ve of Q)try{Ve(B,$)}catch{}}getOrInitializeService({instanceIdentifier:B,options:$={}}){let Q=this.instances.get(B);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=B,ge===ae?void 0:ge),options:$}),this.instances.set(B,Q),this.instancesOptions.set(B,$),this.invokeOnInitCallbacks(Q,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Q)}catch{}var ge;return Q||null}normalizeInstanceIdentifier(B=ae){return this.component?this.component.multipleInstances?B:ae:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const $=this.getProvider(B.name);if($.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);$.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const $=new ie(B,this);return this.providers.set(B,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Se,k)=>{k.d(Se,{Am:()=>ge,Ub:()=>fe,Yd:()=>le,in:()=>te});const h=[];var te=(()=>{return(B=te||(te={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",te;var B})();const O={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ae=te.INFO,ie={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=(B,$,...Q)=>{if($<B.logLevel)return;const Ve=(new Date).toISOString(),xe=ie[$];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[xe](`[${Ve}]  ${B.name}:`,...Q)};class le{constructor($){this.name=$,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in te))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?O[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...$),this._logHandler(this,te.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...$),this._logHandler(this,te.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,te.INFO,...$),this._logHandler(this,te.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,te.WARN,...$),this._logHandler(this,te.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...$),this._logHandler(this,te.ERROR,...$)}}function fe(B){h.forEach($=>{$.setLogLevel(B)})}function ge(B,$){for(const Q of h){let Ve=null;$&&$.level&&(Ve=O[$.level]),Q.userLogHandler=null===B?null:(xe,Ee,...Qe)=>{const ye=Qe.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");Ee>=(Ve??xe.logLevel)&&B({level:te[Ee].toLowerCase(),message:ye,args:Qe,type:xe.name})}}}},8766:(ct,Se,k)=>{k.d(Se,{Lj:()=>Me,X3:()=>it});var h=k(5861);let O,ae;const le=new WeakMap,fe=new WeakMap,ge=new WeakMap,B=new WeakMap,$=new WeakMap;let xe={get(U,me,Y){if(U instanceof IDBTransaction){if("done"===me)return fe.get(U);if("objectStoreNames"===me)return U.objectStoreNames||ge.get(U);if("store"===me)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return pe(U[me])},set:(U,me,Y)=>(U[me]=Y,!0),has:(U,me)=>U instanceof IDBTransaction&&("done"===me||"store"===me)||me in U};function ye(U){return"function"==typeof U?function Qe(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...me){return U.apply(Ze(this),me),pe(le.get(this))}:function(...me){return pe(U.apply(Ze(this),me))}:function(me,...Y){const ee=U.call(Ze(this),me,...Y);return ge.set(ee,me.sort?me.sort():[me]),pe(ee)}}(U):(U instanceof IDBTransaction&&function Ve(U){if(fe.has(U))return;const me=new Promise((Y,ee)=>{const se=()=>{U.removeEventListener("complete",ne),U.removeEventListener("error",Fe),U.removeEventListener("abort",Fe)},ne=()=>{Y(),se()},Fe=()=>{ee(U.error||new DOMException("AbortError","AbortError")),se()};U.addEventListener("complete",ne),U.addEventListener("error",Fe),U.addEventListener("abort",Fe)});fe.set(U,me)}(U),((U,me)=>me.some(Y=>U instanceof Y))(U,function ie(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,xe):U)}function pe(U){if(U instanceof IDBRequest)return function Q(U){const me=new Promise((Y,ee)=>{const se=()=>{U.removeEventListener("success",ne),U.removeEventListener("error",Fe)},ne=()=>{Y(pe(U.result)),se()},Fe=()=>{ee(U.error),se()};U.addEventListener("success",ne),U.addEventListener("error",Fe)});return me.then(Y=>{Y instanceof IDBCursor&&le.set(Y,U)}).catch(()=>{}),$.set(me,U),me}(U);if(B.has(U))return B.get(U);const me=ye(U);return me!==U&&(B.set(U,me),$.set(me,U)),me}const Ze=U=>$.get(U);function it(U,me,{blocked:Y,upgrade:ee,blocking:se,terminated:ne}={}){const Fe=indexedDB.open(U,me),Oe=pe(Fe);return ee&&Fe.addEventListener("upgradeneeded",pt=>{ee(pe(Fe.result),pt.oldVersion,pt.newVersion,pe(Fe.transaction))}),Y&&Fe.addEventListener("blocked",()=>Y()),Oe.then(pt=>{ne&&pt.addEventListener("close",()=>ne()),se&&pt.addEventListener("versionchange",()=>se())}).catch(()=>{}),Oe}function Me(U,{blocked:me}={}){const Y=indexedDB.deleteDatabase(U);return me&&Y.addEventListener("blocked",()=>me()),pe(Y).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Be=new Map;function je(U,me){if(!(U instanceof IDBDatabase)||me in U||"string"!=typeof me)return;if(Be.get(me))return Be.get(me);const Y=me.replace(/FromIndex$/,""),ee=me!==Y,se=De.includes(Y);if(!(Y in(ee?IDBIndex:IDBObjectStore).prototype)||!se&&!we.includes(Y))return;const ne=function(){var Fe=(0,h.Z)(function*(Oe,...pt){const zt=this.transaction(Oe,se?"readwrite":"readonly");let $t=zt.store;return ee&&($t=$t.index(pt.shift())),(yield Promise.all([$t[Y](...pt),se&&zt.done]))[0]});return function(pt){return Fe.apply(this,arguments)}}();return Be.set(me,ne),ne}!function Ee(U){xe=U(xe)}(U=>({...U,get:(me,Y,ee)=>je(me,Y)||U.get(me,Y,ee),has:(me,Y)=>!!je(me,Y)||U.has(me,Y)}))},5861:(ct,Se,k)=>{function h(O,ae,ie,he,le,fe,ge){try{var B=O[fe](ge),$=B.value}catch(Q){return void ie(Q)}B.done?ae($):Promise.resolve($).then(he,le)}function te(O){return function(){var ae=this,ie=arguments;return new Promise(function(he,le){var fe=O.apply(ae,ie);function ge($){h(fe,he,le,ge,B,"next",$)}function B($){h(fe,he,le,ge,B,"throw",$)}ge(void 0)})}}k.d(Se,{Z:()=>te})}},ct=>{ct(ct.s=8204)}]);